{% extends "forum/profile.html" %}
{% load i18n %}
{% block profile_content %}
<div class="messages">
    <header>
    {% blocktrans %}
        You got {{ number_of_new_messages }} new messages out of {{ number_of_messages }}.
    {% endblocktrans %}
    </header>
    {% if object_list %}
    <table>
        <thead>
            <tr>
                <th class="messages_subject">
                    <a href="#">{% trans "Subject" %}</a></th>
                <th class="messages_author">
                    <a href="#">{% trans "Author" %}</a></th>
                <th class="messages_date">
                    <a href="#">{% trans "Date" %}</a></th>
            </tr>
        </thead>
        <tbody>
            {% for message in object_list %}
            <tr class='{{ forloop.counter0|divisibleby:"2"|default:"mark" }}'>
                <td class="messages_subject">
                    {% if not message.was_read %}
                    <span class="quiet">[ new ]</span>
                    {% endif %}
                    <a href='{{ message.get_absolute_url }}'>{{ message }}</a>
                </td>
                <td class="messages_author">
                    {% with message.user as message_author %}
                    <a href='{{ message_author.forum_profile.get_absolute_url }}'>{{ message_author }}</a>
                    {% endwith %}
                </td>
                <td class="messages_date">{{ message.created }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>
{% endblock %}