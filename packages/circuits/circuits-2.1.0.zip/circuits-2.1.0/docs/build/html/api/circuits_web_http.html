
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38618352-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>circuits.web.http – HTTP Protocol &mdash; circuits 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="circuits 2.1.0 documentation" href="../index.html" />
    <link rel="up" title="circuits.web – Web Framework" href="circuits_web.html" />
    <link rel="next" title="circuits.web.loggers – Loggers" href="circuits_web_loggers.html" />
    <link rel="prev" title="circuits.web.headers – Headers" href="circuits_web_headers.html" />
 
<script type="text/javascript" src="../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>

  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">circuits 2.1.0 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="circuits_web_headers.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.headers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Headers">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_web_loggers.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.loggers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Loggers">next</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="api-circuits_web_http">
            
  <div class="section" id="module-circuits.web.http">
<span id="circuits-web-http-http-protocol"></span><span id="circuits-web-http"></span><h1><a class="reference internal" href="#module-circuits.web.http" title="circuits.web.http"><tt class="xref py py-mod docutils literal"><span class="pre">circuits.web.http</span></tt></a> &#8211; HTTP Protocol<a class="headerlink" href="#module-circuits.web.http" title="Permalink to this headline">¶</a></h1>
<p>Hyper Text Transfer Protocol</p>
<p>This module implements the server side Hyper Text Transfer Protocol
or commonly known as HTTP.</p>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="circuits.web.http.HTTP">
<em class="property">class </em><tt class="descclassname">circuits.web.http.</tt><tt class="descname">HTTP</tt><big>(</big><em>encoding='utf-8'</em>, <em>channel='web'</em><big>)</big><a class="headerlink" href="#circuits.web.http.HTTP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="circuits_core_components.html#circuits.core.components.BaseComponent" title="circuits.core.components.BaseComponent"><tt class="xref py py-class docutils literal"><span class="pre">circuits.core.components.BaseComponent</span></tt></a></p>
<p>HTTP Protocol Component</p>
<p>Implements the HTTP server protocol and parses and processes incoming
HTTP messages, creating and sending an appropriate response.</p>
<p>The component handles <a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.Read" title="circuits.net.sockets.Read"><tt class="xref py py-class docutils literal"><span class="pre">Read</span></tt></a> events
on its channel and collects the associated data until a complete
HTTP request has been received. It parses the request&#8217;s content
and puts it in a <a class="reference internal" href="circuits_web_wrappers.html#circuits.web.wrappers.Request" title="circuits.web.wrappers.Request"><tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt></a> object and
creates a corresponding <a class="reference internal" href="circuits_web_wrappers.html#circuits.web.wrappers.Response" title="circuits.web.wrappers.Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a>
object. Then it emits a <a class="reference internal" href="circuits_web_events.html#circuits.web.events.Request" title="circuits.web.events.Request"><tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt></a>
event with these objects as arguments.</p>
<p>The component defines several handlers that send a response back to
the client.</p>
<dl class="method">
<dt id="circuits.web.http.HTTP._on_response">
<tt class="descname">_on_response</tt><big>(</big><em>response</em><big>)</big><a class="headerlink" href="#circuits.web.http.HTTP._on_response" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">Response</span></tt> Event Handler</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<a class="reference internal" href="circuits_web_wrappers.html#circuits.web.wrappers.Response" title="circuits.web.wrappers.Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a>) &#8211; the <tt class="docutils literal"><span class="pre">Response</span></tt> object created when the
HTTP request was initially received.</td>
</tr>
</tbody>
</table>
<p>This handler builds an HTTP response data stream from
the information contained in the <em>response</em> object and
sends it to the client (firing <tt class="docutils literal"><span class="pre">Write</span></tt> events).</p>
</dd></dl>

<dl class="method">
<dt id="circuits.web.http.HTTP._on_read">
<tt class="descname">_on_read</tt><big>(</big><em>sock</em>, <em>data</em><big>)</big><a class="headerlink" href="#circuits.web.http.HTTP._on_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Event Handler</p>
<p>Process any incoming data appending it to an internal buffer.
Split the buffer by the standard HTTP delimiter CRLF and create
Raw Event per line. Any unfinished lines of text, leave in the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.web.http.HTTP._on_httperror">
<tt class="descname">_on_httperror</tt><big>(</big><em>event</em>, <em>request</em>, <em>response</em>, <em>code</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#circuits.web.http.HTTP._on_httperror" title="Permalink to this definition">¶</a></dt>
<dd><p>Default HTTP Error Handler</p>
<p>Default Error Handler that by default just fires a <tt class="docutils literal"><span class="pre">Response</span></tt>
event with the <em>response</em> as argument. The <em>response</em> is normally
modified by a <a class="reference internal" href="circuits_web_errors.html#circuits.web.errors.HTTPError" title="circuits.web.errors.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPError</span></tt></a> instance
or a subclass thereof.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.web.http.HTTP._on_request_success">
<tt class="descname">_on_request_success</tt><big>(</big><em>e</em>, <em>value</em><big>)</big><a class="headerlink" href="#circuits.web.http.HTTP._on_request_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler for the <tt class="docutils literal"><span class="pre">RequestSuccess</span></tt> event that is automatically
generated after all handlers for a
<a class="reference internal" href="circuits_web_events.html#circuits.web.events.Request" title="circuits.web.events.Request"><tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt></a> event have been invoked
successfully.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>e</strong> &#8211; the successfully handled <tt class="docutils literal"><span class="pre">Request</span></tt> event (having
as attributes the associated
<a class="reference internal" href="circuits_web_wrappers.html#circuits.web.wrappers.Request" title="circuits.web.wrappers.Request"><tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt></a> and
<a class="reference internal" href="circuits_web_wrappers.html#circuits.web.wrappers.Response" title="circuits.web.wrappers.Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a> objects).</li>
<li><strong>value</strong> &#8211; the value(s) returned by the invoked handler(s).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This handler converts the value(s) returned by the
(successfully invoked) handlers for the initial <tt class="docutils literal"><span class="pre">Request</span></tt>
event to a body and assigns it to the <tt class="docutils literal"><span class="pre">Response</span></tt> object&#8217;s
<tt class="docutils literal"><span class="pre">body</span></tt> attribute. It then fires a
<a class="reference internal" href="circuits_web_events.html#circuits.web.events.Response" title="circuits.web.events.Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a> event with the
<tt class="docutils literal"><span class="pre">Response</span></tt> object as argument.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="circuits_web_events.html#circuits.web.events.Request" title="circuits.web.events.Request"><tt class="xref py py-class docutils literal"><span class="pre">circuits.web.events.Request</span></tt></a> in <a class="reference internal" href="circuits_web_events.html#circuits-web-events"><em>circuits.web.events &#8211; Events</em></a>.</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p><strong>none</strong></p>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">circuits.web.http</span></tt> &#8211; HTTP Protocol</a><ul>
<li><a class="reference internal" href="#components">Components</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="circuits_web_headers.html"><tt class="docutils literal docutils literal docutils literal"><span class="pre">circuits.web.headers</span></tt> &#8211; Headers</a></li>
    
    
      <li>Next: <a href="circuits_web_loggers.html"><tt class="docutils literal"><span class="pre">circuits.web.loggers</span></tt> &#8211; Loggers</a></li>
    
  </ul>
  <h3>You are here:</h3>
  <ul>
      <li>
        <a href="../index.html">circuits 2.1.0 documentation</a>
        
          <ul><li><a href="index.html">API Reference</a>
        
          <ul><li><a href="circuits_web.html"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">circuits.web</span></tt> &#8211; Web Framework</a>
        
        <ul><li><tt class="docutils literal docutils literal"><span class="pre">circuits.web.http</span></tt> &#8211; HTTP Protocol</li></ul>
        </li></ul></li></ul>
      </li>
  </ul>  

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/circuits_web_http.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="circuits_web_headers.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.headers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Headers">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_web_loggers.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.loggers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Loggers">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>