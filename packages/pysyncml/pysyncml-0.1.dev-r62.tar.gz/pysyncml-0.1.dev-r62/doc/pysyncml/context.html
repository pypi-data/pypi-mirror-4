

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module: pysyncml.context &mdash; pysyncml 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="pysyncml 0.1 documentation" href="../index.html" />
    <link rel="next" title="Module: pysyncml.ctype" href="ctype.html" />
    <link rel="prev" title="Module: pysyncml.cli" href="cli/base.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>pysyncml 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>Module: pysyncml.context</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="cli/base.html">Module: pysyncml.cli</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="ctype.html">Module: pysyncml.ctype</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-pysyncml.context">
<span id="module-pysyncml-context"></span><h1>Module: pysyncml.context<a class="headerlink" href="#module-pysyncml.context" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">pysyncml.context</span></tt> package provides the entry point into most
pysyncml operations via the <a class="reference internal" href="#pysyncml.context.Context" title="pysyncml.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">pysyncml.Context</span></tt></a> class.</p>
<dl class="class">
<dt id="pysyncml.context.Context">
<em class="property">class </em><tt class="descclassname">pysyncml.context.</tt><tt class="descname">Context</tt><big>(</big><em>engine=None</em>, <em>storage=None</em>, <em>prefix='pysyncml'</em>, <em>owner=None</em>, <em>autoCommit=None</em>, <em>router=None</em>, <em>protocol=None</em>, <em>synchronizer=None</em>, <em>codec=None</em><big>)</big><a class="reference internal" href="../_modules/pysyncml/context.html#Context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysyncml.context.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>The pysyncml Context object creates an environment for an Adapter to
be created and evaluated in. The primary object is to provide access
to a storage location so that SyncML state information can be stored
across multiple synchronization messages, sessions and
peers. However, it can also be used to specify operational
parameters, such as whether or not to support specific codecs and
which to use as the default.</p>
<p>The Context constructor accepts the following parameters, of which
all are optional:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>owner</strong> &#8211; an integer owner ID. Necessary primarily when the adapter
storage is shared between multiple users/adapter agents
(i.e. in server contexts). If it is not shared, <cite>owner</cite> can be
left as <tt class="docutils literal"><span class="pre">None</span></tt> (the default).</li>
<li><strong>storage</strong> &#8211; <p>the sqlalchemy storage specification where all the SyncML-
related data should be stored.</p>
<p>NOTE: can be overridden by parameter <cite>engine</cite>.</p>
<p>NOTE: the storage driver <strong>MUST</strong> support cascading deletes;
this is done automatically for connections created directly by
pysyncml for mySQL and sqlite, but it is up to the calling
program to ensure this for other databases or if the database
engine is passed in via parameter <cite>engine</cite>. Specifically, when
pysyncml creates the sqlalchemy engine (i.e. by calling
<tt class="docutils literal"><span class="pre">sqlalchemy.create_engine(storage)</span></tt>), then InnoDB is requested
for mySQL tables and <tt class="docutils literal"><span class="pre">PRAGMA</span> <span class="pre">foreign_keys=ON</span></tt> is issued for
sqlite databases. pysyncml provides a helper function to ensure
that sqlite databases have cascading deletes enabled:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sqlalchemy</span><span class="o">,</span> <span class="nn">pysyncml</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pysyncml</span><span class="o">.</span><span class="n">enableSqliteCascadingDeletes</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><strong>engine</strong> &#8211; <p>the sqlalchemy storage engine where all the SyncML-related
data should be stored.</p>
<p>NOTE: overrides parameter <cite>storage</cite>.</p>
<p>NOTE: see notes under parameter <cite>storage</cite> for details on
cascading delete support.</p>
<p>TODO: it would be great to add a check to ensure that provided
storage engines have cascading deletes enabled.</p>
</li>
<li><strong>prefix</strong> &#8211; sets a database table name prefix. This is primarily useful when
using the <cite>engine</cite> parameter, as multiple pysyncml contexts can
then be defined within the same database namespace. Defaults to
<tt class="docutils literal"><span class="pre">pysyncml</span></tt>.</li>
<li><strong>autoCommit</strong> &#8211; whether or not to execute a storage engine &#8220;commit&#8221; when syncing
is complete. The default behavior is dependent on if <cite>engine</cite> is
provided: if not <tt class="docutils literal"><span class="pre">None</span></tt>, then <cite>autoCommit</cite> defaults to
<tt class="docutils literal"><span class="pre">False</span></tt>, otherwise, defaults to <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
<li><strong>router</strong> &#8211; overrides the default router with an object that must implement
the interface specified by <tt class="xref py py-class docutils literal"><span class="pre">pysyncml.router.Router</span></tt>.</li>
<li><strong>protocol</strong> &#8211; sets the semantic objective to/from protocol evaluation and
resolution object, which must implement the
<tt class="xref py py-class docutils literal"><span class="pre">pysyncml.protocol.Protocol</span></tt> interface.</li>
<li><strong>synchronizer</strong> &#8211; this is the engine for handling sync requests and dispatching
them to the various agents. If specified, the object must
implement the <tt class="xref py py-class docutils literal"><span class="pre">pysyncml.synchronizer.Synchronizer</span></tt>
interface.</li>
<li><strong>codec</strong> &#8211; specify the codec used to encode the SyncML commands - typically
either <tt class="docutils literal"><span class="pre">'xml'</span></tt> (the default) or <tt class="docutils literal"><span class="pre">'wbxml'</span></tt>. It can also
be an object that implements the <tt class="xref py py-class docutils literal"><span class="pre">pysyncml.codec.Codec</span></tt>
interface.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pysyncml.context.Context.Adapter">
<tt class="descname">Adapter</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/pysyncml/context.html#Context.Adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysyncml.context.Context.Adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>The Adapter constructor supports the following parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>devID</strong> &#8211; sets the local adapter&#8217;s device identifier. For servers, this
should be the externally accessible URL that launches the SyncML
transaction, and for clients this should be a unique ID, such as
the IMEI number (for mobile phones). If not specified, it will
be defaulted to the <cite>devID</cite> of the <cite>devinfo</cite> object. If it
cannot be loaded from the database or from the <cite>devinfo</cite>, then
it must be provided before any synchronization can begin.</li>
<li><strong>name</strong> &#8211; sets the local adapter&#8217;s device name - usually a human-friendly
description of this SyncML&#8217;s function.</li>
<li><strong>devinfo</strong> &#8211; sets the local adapter <tt class="xref py py-class docutils literal"><span class="pre">pysyncml.devinfo.DeviceInfo</span></tt>.  If
not specified, it will be auto-loaded from the database. If it
cannot be loaded from the database, then it must be provided
before any synchronization can begin.</li>
<li><strong>peer</strong> &#8211; TODO: document...</li>
<li><strong>maxGuidSize</strong> &#8211; TODO: document...</li>
<li><strong>maxMsgSize</strong> &#8211; TODO: document...</li>
<li><strong>maxObjSize</strong> &#8211; TODO: document...</li>
<li><strong>conflictPolicy</strong> &#8211; sets the default conflict handling policy for this adapter,
and can be overriden on a per-store basis (applies only when
operating as the server role).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysyncml.context.Context.RemoteAdapter">
<tt class="descname">RemoteAdapter</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/pysyncml/context.html#Context.RemoteAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysyncml.context.Context.RemoteAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>The RemoteAdapter constructor supports the following parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; specifies the URL that this remote SyncML server can be reached
at. The URL must be a fully-qualified URL.</li>
<li><strong>auth</strong> &#8211; <p>set what kind of authentication scheme to use, which generally is
one of the following values:</p>
<blockquote>
<div><strong>None</strong>:<blockquote>
<div>indicates no authentication is required.</div></blockquote>
<p><strong>pysyncml.NAMESPACE_AUTH_BASIC</strong>:</p>
<blockquote>
<div>specifies to use &#8220;Basic-Auth&#8221; authentication scheme.</div></blockquote>
<p><strong>pysyncml.NAMESPACE_AUTH_MD5</strong>:</p>
<blockquote>
<div>specifies to use MD5 &#8220;Digest-Auth&#8221; authentication scheme.
NOTE: this may not be implemented yet...</div></blockquote>
</div></blockquote>
</li>
<li><strong>username</strong> &#8211; if the <cite>auth</cite> is not <tt class="docutils literal"><span class="pre">None</span></tt>, then the username to authenticate
as must be provided via this parameter.</li>
<li><strong>password</strong> &#8211; if the <cite>auth</cite> is not <tt class="docutils literal"><span class="pre">None</span></tt>, then the password to authenticate
with must be provided via this parameter.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="cli/base.html">Module: pysyncml.cli</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="ctype.html">Module: pysyncml.ctype</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012-2012, UberDev, No Rights Reserved.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>