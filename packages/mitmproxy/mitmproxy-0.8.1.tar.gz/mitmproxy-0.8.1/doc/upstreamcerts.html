<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta  content="text/html; charset=utf-8" http-equiv="Content-Type"/>


<link  href="01-reset-fonts-grids-base.css" type="text/css" rel="StyleSheet"/>
<link  href="02-docstyle.css" type="text/css" rel="StyleSheet"/>
<link  href="syntax.css" type="text/css" rel="StyleSheet"/>
<title>Upstream Certs</title></head><body><div id="doc">
    <div style="" id="hd" class="doc">
                <div id="nav">
                        <a href="sticky.html">prev</a>
 |
            <a href="index.html">index</a> |
                        <a href="replacements.html">next</a>

        </div>

        <h1><a href="index.html">mitmproxy 0.9 docs</a></h1>
    </div>
    <div id="bd">
        <div id="yui-main">
            <div style="" class="yui-b">
                <h1>Upstream Certs</h1>
                <ul>
<li>command-line: <em>--upstream-cert</em> </li>
<li>mitmproxy shortcut: <em>o</em>, then <em>u</em></li>
</ul>

<p>Normally, mitmproxy uses the target domain specified in a client's proxy
request to generate an interception certificate. When <strong>upstream-cert</strong> mode is
activated a different procedure is followed: a connection is made to the
specified remote server to retrieve its <strong>Common Name</strong> and <strong>Subject
Alternative Names</strong>. This feature is especially useful when the client
specifies an IP address rather than a host name in the proxy request. If this
is the case, we can only generate a certificate if we can establish the <strong>CN</strong>
and <strong>SANs</strong> from the upstream server.</p>

<p>Note that <strong>upstream-cert</strong> mode does not work when the remote server relies on
<a href="http://en.wikipedia.org/wiki/Server_Name_Indication">Server Name Indication</a>.
Luckily, SNI is still not very widely used.</p>

            </div>
        </div>
    </div>
    <div style="" id="ft" class="doc">
        <p>Â© mitmproxy project, 2012</p>
    </div>
</div>
</body></html>