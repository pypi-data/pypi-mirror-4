<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">

  <xi:include href="admin_master.html" />

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" py:replace="''"/>
  <title>Unbound Entities</title>
  <style>

  </style>
</head>

<body>
    <div class="toolbar">
        <a href="#unbound_slices" class="objects_list_entry">Unbound Slices</a>
        <a href="#unbound_contents" class="objects_list_entry">Unbound Contents</a>
        <a href="${h.acr_url('/admin/slices/create_unbound', view='genshi')}" class="objects_list_entry">Create Genshi Script</a>
    </div>

    <div class="section_box" id="unbound_slices">    
        <h1 class="title">Unbound Slices</h1>
        <table id="slices_list" class="section_icons">
            <tr>
                <th>Action</th>
                <th>Zone</th>
                <th>Name</th>
                <th>View</th>
                <th>Position</th>
                <th>Tags</th>
                <th>Languages</th>
                <th>Authors</th>
            </tr>
            <tr py:for="c, slice in enumerate(uslices)" class="${c % 2 and 'even' or 'odd'}">
                <td style="width: 1em;">
                    <a href="${h.acr_url('/admin/slices/edit', uid=slice.uid)}"
                       class="objects_list_entry">edit</a>
                    <a href="${h.acr_url('/admin/slices/delete', uid=slice.uid, came_from='unbound')}"
                       onclick="return confirm('Do you really want to delete this slice?');" 
                       class="objects_list_entry">delete</a>
                </td>
                <td style="width: 1em;">${slice.zone}</td>
                <td style="width: 1em;">${slice.name}</td>
                <td style="width: 3em;">${slice.view}</td>
                <td style="width: 1em;">${slice.slice_order}</td>
                <td style="width: 5em;">${', '.join((tag.name for tag in slice.tags))}</td>
                <td style="width: 5em;">${', '.join(h.slice_languages(slice))}</td>
                <td style="width: 5em;">${', '.join(h.slice_authors(slice))}</td>
            </tr>
        </table>
    </div>
    
    <div class="section_box" id="unbound_contents">    
        <h1 class="title">Unbound Contents</h1>
        <table id="contents_list" class="section_icons">
            <tr>
                <th>Action</th>
                <th>Name</th>
                <th>Languages</th>
                <th>Authors</th>
            </tr>
            <tr py:for="c, content in enumerate(ucontents)" class="${c % 2 and 'even' or 'odd'}">
                <td style="width: 1em;">
                    <a href="${h.acr_url('/admin/delete_content', uid=content.uid, came_from='unbound')}"
                       onclick="return confirm('Do you really want to delete this content?');" 
                       class="objects_list_entry">delete</a>
                </td>
                <td style="width: 1em;">${content.name}</td>
                <td style="width: 5em;">${', '.join(content.available_languages)}</td>
                <td style="width: 5em;">${', '.join(content.authors)}</td>
            </tr>
        </table>
    </div>
</body>
</html>
