2013-03-10  Sebastian Heinlein  <devel@glatzor.de>

	Update NEWS

2013-03-10  Sebastian Heinlein  <devel@glatzor.de>

	Update translations

2013-03-10  Sebastian Heinlein  <devel@glatzor.de>

	Fix typos/formatting of the man page - Thank to Anskar

2013-03-09  Sebastian Heinlein  <devel@glatzor.de>

	Push local changes in preparation for the 1.0 release

2013-03-09  Sebastian Heinlein  <devel@glatzor.de>

	Update NEWS

2013-03-09  Sebastian Heinlein  <devel@glatzor.de>

	Set a reasonable minimum size for the expanded child widget in the GTK2 dialog
	
	GTK3 has got a quite good balancing mechanism

2013-03-09  Sebastian Heinlein  <devel@glatzor.de>

	Disable the expander in expandable GTK(2|3) dialogs if there isn't any child widget

2013-03-09  Sebastian Heinlein  <devel@glatzor.de>

	Remove the gtk(3)widgets.AptMessageDialog since we don't support messages
	
	Rebase the gtkwidgtes.AptErrorDialog directly on _ExpandableDialog

2013-03-08  Sebastian Heinlein  <devel@glatzor.de>

	Fix backwards compatibility with the non introspectable gobject library

2013-03-06  Sebastian Heinlein  <devel@glatzor.de>

	Fix Python Gtk2 backwards compatibility

2013-03-06  Sebastian Heinlein  <devel@glatzor.de>

	Allow release names to include a dot

2013-03-06  Sebastian Heinlein  <devel@glatzor.de>

	Really fix the PEP8 issue

2013-03-06  Sebastian Heinlein  <devel@glatzor.de>

	Trivial PEP8 fix

2013-03-05  Sebastian Heinlein  <devel@glatzor.de>

	Add a small helper to make releasing more convinient

2013-03-03  Sebastian Heinlein  <devel@glatzor.de>

	Merge pkerrors branch

2013-03-03  Sebastian Heinlein  <devel@glatzor.de>

	Convert an authorization exception to the corresponding PackageKit one
	
	Otherwise the PK client will segfault if the auth fails since it cannot
	parse the DBus error name

2013-03-03  Sebastian Heinlein  <devel@glatzor.de>

	Replace a depricated Glib.unix_signal_add_full() call

2013-03-03  Sebastian Heinlein  <devel@glatzor.de>

	Store the default values of PackageKit transaction properties with the correct DBus type

2013-03-03  Sebastian Heinlein  <devel@glatzor.de>

	Fix a missing PackageKit transaction property assignment
	
	Instead of Speed the property AllowCancel was set.

2013-03-01  Michael Vogt  <michael.vogt@ubuntu.com>

	merged https://code.launchpad.net/~barry/aptdaemon/lp1120322/

2013-03-01  Barry Warsaw  <barry@python.org>

	Restore Python 2 compatibility in the tests.  Document that the tests still
	need to be Python 2 compatible.

2013-02-28  Barry Warsaw  <barry@python.org>

	After better analysis by lifeless, fix LP: #1120322 in a complementary way:
	
	- Improve the REGEX_RANGE to allow for optional ,### parts, so that one line
	diffs will properly match.
	
	- Move the constant to the module globals for better wrapping (and because
	being a class instance isn't necessary).
	
	- Still initialize line_number to 0 because it can't hurt.
	
	- Be explicit about closing the file objects instead of hoping that gc does
	its job.  This eliminates warnings in the test suite.
	
	- Add a test for both one line and multiline diffs, showing that LP: #1120322
	is actually fixed, and doesn't regress.

2013-02-28  Barry Warsaw  <barry@python.org>

	Set it to 0 as per:
	
	https://bugs.launchpad.net/ubuntu/+source/aptdaemon/+bug/1120322/comments/7

2013-02-28  Barry Warsaw  <barry@python.org>

	Define line_number first outside the loop to prevent UnboundLocalError in
	show_diff().  LP: #1120322
	
	The odd part is that I'm not sure how to get difflib to produce a diff that
	doesn't start with the three lines:
	
	--- blah
	+++ blah
	@@ blah
	
	to trigger the bug.  This is clearly unexpected in the code (hence the
	UnboundLocalError in the first place) and it it definitely not covered in the
	test suite.  Hand crafting a call such as this does not trigger the bug:
	
	$ PYTHONPATH=. python3
	>>> from aptdaemon.gtk3widgets import DiffView
	>>> dv = DiffView()
	>>> dv.show_diff('/etc/passwd', '/etc/group')

2013-02-02  Sebastian Heinlein  <devel@glatzor.de>

	Fix a grammer issue. Thanks Steve!

2013-02-02  Steve Langasek  <steve.langasek@canonical.com>

	Fix wrong grammar

2012-12-31  Sebastian Heinlein  <devel@glatzor.de>

	Adap to latest Python GLib changes (io_add_watch, child_watch_add)

2012-12-30  Sebastian Heinlein  <devel@glatzor.de>

	Unset an http_proxy in the test suite

2012-12-30  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes and test for the test suite

2012-12-30  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes for the test suite

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Merge PEP8 fixes and add test for PEP8 compliance

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Some small pyflakes fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Fix lambda

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Rename transaction_only_installs_packages_from_high_trusted_repos to a shorter name

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Do not test the automatically generated PackageKit enums module

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	More PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes 

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	Add a PEP8 test case

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	More PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-29  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	Don't fail if we want to remove a a package without a candidate during
	transaction simulation.

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	If the user cannot be autohrized (either missing privileges or a cancelled
	password dialog) the transaction will fail.
	
	Therefor two new error enums have been introduced ERROR_AUTH_FAILED which
	catches a cancelled password dialog or missing policykit agent and
	ERROR_NOT_AUTHORIZED which catches missing privileges.
	
	This allows Unity to be notified about a cancelled installation.

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	Fix a silly typo in a previous commit (= -> ==)

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	Don't depend on dpkg-dev to select the correct lintian profile.
	(Fixes LP: #1066457) - merged from Ubuntu

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	Add a regression test for LP: #750958

2012-12-16  Sebastian Heinlein  <devel@glatzor.de>

	Don't change the automatic installed state when upgrading packages.
	
	Thanks a lot to Daniel Hartwig for analyzing this issue and also providing
	a set of patches (Fixes LP: #1078544)

2012-11-30  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/fix-lp1060505

2012-11-29  Michael Vogt  <michael.vogt@ubuntu.com>

	data/lintian/ubuntu/aptdaemon.profile: the tag "file-in-etc-not-marked-as-conffile" is not critical

2012-11-28  Michael Vogt  <michael.vogt@ubuntu.com>

	merged  lp:~mvo/aptdaemon/multiline-comments-fix 

2012-11-28  Michael Vogt  <michael.vogt@ubuntu.com>

	support multi line comments in the configuration

2012-11-28  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/use-glib-unix-signal-handling

2012-11-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: use GLib.unix_signal_add_full() to fix hang with latest python-gi. Its also conceptually cleaner

2012-11-26  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_client.py: use the fake bus instead of the real one in test_tid_caching and fix kwargs parsing

2012-11-26  Martin Pitt  <martin.pitt@ubuntu.com>

	Force debconf priority to high for test_debconf
	
	This allows the test to work even if the system debconf priority is set to
	critical.
	
	Thanks Colin Watson <cjwatson@ubuntu.com>!

2012-11-26  Martin Pitt  <martin.pitt@ubuntu.com>

	Fix deprecated GObject.* API
	
	Call GLib API through GLib.*, not GObject.*. The latter has been deprecated for
	some time and causes PyGIDeprecationWarnings with PyGObject >= 3.7.2.
	
	This gets rid of 247 of the 311 deprecation warnings during the tests. The
	remaining ones will need bumping the minimum pygobject version, and will be
	fixed later.

2012-11-26  Martin Pitt  <martin.pitt@ubuntu.com>

	Drop MemoizedTransaction mixin.
	
	This uses internal implementation details of PyGObject (GObject.GObjectMeta)
	which stopped working with PyGObject 3.7.2. Replace it with overriding __new__
	which does the caching.
	
	Extend ClientTest.test_tid_caching to ensure that different TIDs actually
	generate different transactions.

2012-11-26  Martin Pitt  <martin.pitt@ubuntu.com>

	Drop MemoizedTransaction mixin.
	
	This uses internal implementation details of PyGObject (GObject.GObjectMeta)
	which stopped working with PyGObject 3.7.2. Replace it with overriding __new__
	which does the caching.

2012-11-26  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_pk.py: *cough* typo *cough*

2012-11-26  Michael Vogt  <michael.vogt@ubuntu.com>

	setup.py: add workaround for nose failure

2012-11-26  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_pk.py: fix long keyid test

2012-11-26  Martin Pitt  <martin.pitt@ubuntu.com>

	Add test for TID caching
	
	aptdaemon.client has some metaclass magic to cache transactions with the same
	transaction ID. Add a test case that this works properly.
	
	Suggested by Michael Vogt and spotted in
	https://code.launchpad.net/~pitti/aptdaemon/pygobject-fixes/+merge/134942

2012-10-08  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_py2_string_handling.py: fix import during python setup.py test

2012-10-08  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/lp846044 to fix LP: #846044

2012-10-08  Michael Vogt  <michael.vogt@ubuntu.com>

	ensure we provide a unicode version of the error TransactionFailed and also return utf8 encoded string

2012-10-07  Sebastian Heinlein  <devel@glatzor.de>

	PEP8 fixes

2012-10-07  Sebastian Heinlein  <devel@glatzor.de>

	Fix a typo

2012-09-27  Martin Pitt  <martin.pitt@ubuntu.com>

	Open Apport crash report files in binary mode

2012-09-26  Steve Langasek  <steve.langasek@canonical.com>

	Open our crash report for writing in binary mode
	
	Recent versions of apport are more finicky about ensuring the crash report
	handle supports writing binary output, so explicitly open the file in
	binary mode.

2012-09-13  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_high_trust_repository_whitelist.py: tiny robustness fixes

2012-09-13  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/data/high-trust-repository-whitelist-broken.cfg, tests/test_high_trust_repository_whitelist.py: fix test to work with python2

2012-09-13  Michael Vogt  <michael.vogt@ubuntu.com>

	merged  lp:~vorlon/aptdaemon/lp.1034806 

2012-08-10  Steve Langasek  <steve.langasek@canonical.com>

	Fix the string type handling of gettext functions.

2012-09-13  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/support-for-whitelisted-repositories

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	some more renames

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	data/org.debian.apt.policy.in: fix name to match org.debian.apt.install-packages.high-trust-repo

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	more renaming

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	trans.whitelisted_packages, -> trans.high_trust_packages

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	-PK_ACTION_INSTALL_PACKAGES_FROM_HIGH_TRUST_WHITELISTED_REPO -> +PK_ACTION_INSTALL_PACKAGES_FROM_HIGH_TRUST_REPO

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename AptWorker._whitelisted_repositories to _high_trust_repositories

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	read the high-trust repository whitelist from /etc/aptdaemon/high-trust-repository-whitelist.d by default and make it a .d directory to ensure packages like e.g. webapps can drop there whitelist in

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename /etc/aptdaemon/repository-whitelist.cfg to /etc/aptdaemon/high-trust-repository-whitelist.cfg

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename PK_ACTION_INSTALL_PACKAGES_FROM_WHITELISTED_REPO to PK_ACTION_INSTALL_PACKAGES_FROM_HIGH_TRUST_WHITELISTED_REPO

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename self._whitelisted_packages to self._high_trust_whitelisted_packages 

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename transaction_only_installs_packages_from_whitelisted_repos to transaction_only_installs_packages_from_high_trust_repos

2012-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	rename read_repository_whitelist to read_high_trust_repository_whitelist

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	documation updates and ensure that the is install-from-whitelist only applies to install

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/test.py: make the debug in start_session_aptd option to have less noise

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	test that non-whitelisted package fails to install with aptdaemon.policykit1.PK_ACTION_INSTALL_PACKAGES_FROM_WHITELISTED_REPO

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	test that the right polkit action is used for whitelisted packages

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	move the whitelsit releated tests into a single file

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	small cleanup/comment updates

2012-08-28  Michael Vogt  <michael.vogt@ubuntu.com>

	make config parser more robust against errors in the config file and add tests

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: more paranoia

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	never allow unauthenticated and log whitelist in use

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	add support for /etc/aptdaemon/repository-whitelist.cfg to allow whitelisting specific repors for (potentially) passwordless installs

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	move transaction_only_installs_packages_from_whitelisted_repos back into worker

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: honor enums.ROLE_INSTALL_PACKAGES and enums.ROLE_COMMIT_PACKAGES when checking for the whitelist priv

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/policykit1.py: fix missing PK_ACTION_INSTALL_PACKAGES_FROM_WHITELISTED_REPO in __all__

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	data/org.debian.apt.policy.in: add new policykit priv org.debian.apt.install-packages-from-whitelisted-repo

2012-08-24  Michael Vogt  <michael.vogt@ubuntu.com>

	improve tests and add another a repo for the whitelist tests

2012-08-23  Michael Vogt  <michael.vogt@ubuntu.com>

	initial stab on the whitelisted repository support

2012-09-12  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_worker.py: fix test on buildd when LANG/LANGUAGE is unset

2012-09-07  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/support-change-credentials-on-add-repo

2012-09-07  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: use close() instead of flush(), thanks to Martin Pitt

2012-09-05  Michael Vogt  <michael.vogt@ubuntu.com>

	use some special chars

2012-09-05  Michael Vogt  <michael.vogt@ubuntu.com>

	address the first two review points from Martin (many thanks!) by using open(.., "rb") and read().decode("utf-8")

2012-09-04  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_worker.py: rename test function to ensure it reflect better what its actually testing

2012-09-04  Michael Vogt  <michael.vogt@ubuntu.com>

	add code to ensure that if the regexp for replacing existing auth.conf entries does not work we just prepend as a fallback

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	add comment

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: surround machine/login with \n

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	use tempfile.NamedTemporaryFile() instead of hardcoding a .tmp

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	preserve order/comments in auth.conf when updating a existing record

2012-06-26  Michael Vogt  <michael.vogt@ubuntu.com>

	instead of simply appending to auth.conf allow updating credentials too

2012-09-06  Martin Pitt  <martin.pitt@ubuntu.com>

	Fix crash in widget's diff view if a @@ line does not have a range

2012-09-05  Brian Murray  <brian@canonical.com>

	continue if there is no match in show diff

2012-09-05  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/lp1044900 to fix LP: #1044900 after review from Martin Pitt

2012-09-05  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/policykit1.py: rework to be both py2 and py3 compatible, thanks to Martin Pitt

2012-09-03  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/policykit1.pya: open /proc/%(pid)s/cmdline with utf8 encoding by default to avoid crash for cmdlines that contain a special char (LP: #1044900)

2012-08-23  Martin Pitt  <martin.pitt@ubuntu.com>

	pkcompat: Fix get_files()
	
	Do not open the .list file in text mode and then call decode() on it, as that
	will try to decode a string.
	
	Also narrow down the bare "except:" (which hid this bug) to only intercepting
	IOErrors.
	
	Add test case.

2012-08-10  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_worker.py: comment out spurious "import pdb"

2012-08-10  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~evfool/aptdaemon/lp1030988 to fix #1030988

2012-08-01  Robert Roth  <robert.roth.off@gmail.com>

	Change the error message for installation required from unauthenticated sources (LP: #1030988)

2012-08-10  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~dobey/aptdaemon/fix-imports, many thanks

2012-08-09  Rodney Dawes  <rodney.dawes@canonical.com>

	Check that the item in sys.modules is not None before trying to import it

2012-08-02  Martin Pitt  <martin.pitt@ubuntu.com>

	fix "compatibilty" typo

2012-07-12  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/client.py: Prefer GI GObject module
	
	If 'gobject' is not available (such as in Python 3), but this module gets
	imported before importing any gi.repository module, aptdaemon crashes with
	
	Traceback (most recent call last):
	File "./software-properties-gtk", line 37, in <module>
	from softwareproperties.gtk.SoftwarePropertiesGtk import SoftwarePropertiesGtk
	File "/home/martin/ubuntu/software-properties-additional-drivers/softwareproperties/gtk/SoftwarePropertiesGtk.py", line 34, in <module>
	from aptdaemon import client
	File "/usr/lib/python3/dist-packages/aptdaemon/client.py", line 43, in <module>
	import gobject as GObject
	ImportError: No module named gobject
	
	Fix this by swapping the order around and only using gobject if it is already imported.

2012-06-17  Sebastian Heinlein  <devel@glatzor.de>

	lintian supports skipping user profiles since 2.5.9
	
	If $HOME is unset custom profiles of the user will be skipped. Make use of this.
	Unfortunately we need  a complete LINTIAN_ROOT for the test case - so we have to copy it around.

2012-06-14  Sebastian Heinlein  <devel@glatzor.de>

	test: Give the fake-polkitd more time to get known to DBus. Thanks Steve.
	
	Would be nice to switch this to dbus activation in the future

2012-06-14  Sebastian Heinlein  <devel@glatzor.de>

	test: run the fake-polkitd also with Python 3. Thanks pitti for spotting

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	Merge fixes from Steve! Thanks

2012-06-13  Steve Langasek  <steve.langasek@canonical.com>

	restore compatibility with python2, which doesn't have urllib.parse.

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	Fix PK tests

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	test: Set the language of the pk.Client to C if we parse error messages

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	test: remove obsoleted setting of apt_pkg.config["Dir"]. Thanks to vorlon for fixing this issue generally

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	test: Re-use setUp() and tearDown() if the module is executed

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	test: Use an atexit handler to kill the PK dbus daemon
	
	The pk.Client uses a DBus connection with exit-on-disconnect set to
	True which cannot be modified. Furthermore the registered signal
	handlers cannot be removed. Since GIO would kill the test suite if
	the daemon disappears we have to delay killing the daemon

2012-06-13  Sebastian Heinlein  <devel@glatzor.de>

	test: Set apt_pkg.config["Dir"] to the chroot
	
	This is required by the key handling of apt.auth to use the chroot. In the
	other tests it gets set by apt.Cache()

2012-06-12  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~aptdaemon-developers/aptdaemon/lintian-profiles

2012-06-11  Sebastian Heinlein  <devel@glatzor.de>

	Update NEWS

2012-06-11  Sebastian Heinlein  <devel@glatzor.de>

	Merge with trunk

2012-06-11  Sebastian Heinlein  <devel@glatzor.de>

	Push local changes

2012-06-10  Sebastian Heinlein  <devel@glatzor.de>

	Adopt the lintian test case

2012-06-10  Sebastian Heinlein  <devel@glatzor.de>

	Allow to overwrite the location of the lintian HOME by using the APTDAEMON_LINTIAN_HOME env var.

2012-06-09  Sebastian Heinlein  <devel@glatzor.de>

	Set $HOME to a temporary dir before executing lintian
	
	Setting LINTIAN_INTERNAL_TESTSUITE doesn't load any custom profiles
	from /etc and would not allow admins to modify the installed policy easily

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Move the lintian handling to a new DaemonLintianProgress and add some enhancements
	
	This makes the lintian call unblocking by using existing infrastructure

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Convert the lintian tag files into lintian profiles. Thanks to Niels Thykier

2012-06-12  Sebastian Heinlein  <devel@glatzor.de>

	Fix package status enum description for an unknown status which resulted
	in a type mismatch in the gettext call (fixes LP: #900982)

2012-06-12  Sebastian Heinlein  <devel@glatzor.de>

	Still report available blocked updates if the dependency system ist broken
	(final partial fix to LP# 932581)

2012-06-11  Sebastian Heinlein  <devel@glatzor.de>

	Update NEWS

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Update NEWS from the 0.4x branch

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Support InstallSignature transaction of PackageKit. Thanks a lot Pitti!

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Use the fake keyserver of aptdaemon.test and apt.auth in the test

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Add the fake keyserver to aptdaemon.test. Thanks a lot Pitti!

2012-06-08  Sebastian Heinlein  <devel@glatzor.de>

	Add some basic sanity checks to parameters of the key handling

2012-06-07  Sebastian Heinlein  <devel@glatzor.de>

	Fallback to hkp://keys.gnupg.net on non-Ubuntu systems as keyserver

2012-06-07  Sebastian Heinlein  <devel@glatzor.de>

	Merge with trunk

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	pkcompat: Implement InstallSignature

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	worker.py: Get along with apt-key returning non-zero on success
	
	With current apt, apt-key exits with code 2 even on success. In that case,
	check the output and only raise an error if the total number of processed keys
	is 0. Also change the decoding to work with Python 2.

2012-06-07  Sebastian Heinlein  <devel@glatzor.de>

	Trun DaemonForkProgress into a context manager to avoid manual start_update() and finish_update() calls.

2012-06-07  Sebastian Heinlein  <devel@glatzor.de>

	Refactoring: Replace the DaemonAptAuthProgress class by a more generic DaemonForkProgress and inherant the DaemonInstallProgress from it.

2012-06-06  Sebastian Heinlein  <devel@glatzor.de>

	Port aptdaemon to new apt.auth interfaces. This removes the dependency on
	python3-software-properties
	
	A new DaemonAptAuthProgress class was introduced to fork and not block the
	main daemon. The GetVendorKeys call needs some re-design.

2012-06-06  Sebastian Heinlein  <devel@glatzor.de>

	Use apt.auth for test chroots

2012-06-05  Sebastian Heinlein  <devel@glatzor.de>

	client: Use INT64 in signals where required (Fixes LP: #981124)

2012-06-04  Sebastian Heinlein  <devel@glatzor.de>

	Fix another pkenums import

2012-06-04  Sebastian Heinlein  <devel@glatzor.de>

	Fix PK what provides test by using the shipped pkenums instead of packagekit.enums

2012-06-04  Sebastian Heinlein  <devel@glatzor.de>

	Don't test the worker with a DBus daemon. This isn't required sice we don't
	check the client side.

2012-06-04  Sebastian Heinlein  <devel@glatzor.de>

	The client allows to be used with the old gobject and the introspection
	based one. We have to make sure that the old one isn't imported
	by the client

2012-06-04  Sebastian Heinlein  <devel@glatzor.de>

	Only ship the documentation for the gtk3 widgets

2012-06-02  Sebastian Heinlein  <devel@glatzor.de>

	test: Clear the apt_pkg.config for each test case

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/pkcompat.py: Add error message to _fail_not_implemented(), as the GLib.GError does not have the status code

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	pkcompat: Implement RepoEnable for adding a repository

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	tests/test_pk.py: Drop duplicated add_test_repository() calls, already done in setUp()

2012-05-31  Martin Pitt  <martin.pitt@ubuntu.com>

	README.PackageKit: update WhatProvides() support status

2012-05-26  Sebastian Heinlein  <devel@glatzor.de>

	Import latest translations from upstream

2012-05-23  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/test.py: Create /etc/apt/preferences.d/ in the chroot, to stop a warning from apt

2012-05-21  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/test.py: Do not destroy environment when running with local D-BUS

2012-05-16  Sebastian Heinlein  <devel@glatzor.de>

	Merge fix from python2 branch

2012-05-16  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Use the error string to represent a TransactionFailed error

2012-05-15  Sebastian Heinlein  <devel@glatzor.de>

	Push local changes

2012-05-13  Sebastian Heinlein  <devel@glatzor.de>

	test: re-enable the Python2 string/unicode handling test again by using a loader module

2012-05-13  Sebastian Heinlein  <devel@glatzor.de>

	tests: Use a local copy:// repo instead of one hosted on a private server

2012-05-13  Sebastian Heinlein  <devel@glatzor.de>

	tests: Skip the debconf serialisation test under Python2 and nose.
	
	The test itself gets completed successfully, but results in a failing test later (test_simulation). No idea why.

2012-05-13  Sebastian Heinlein  <devel@glatzor.de>

	pkcompat: Fix relative imports

2012-05-12  Sebastian Heinlein  <devel@glatzor.de>

	Only run the client tests with python2

2012-05-12  Sebastian Heinlein  <devel@glatzor.de>

	test: Always run the session aptdaemon with python3 since we also want to test Python2 clients

2012-05-12  Sebastian Heinlein  <devel@glatzor.de>

	Merge Python3 support

2012-05-12  Sebastian Heinlein  <devel@glatzor.de>

	Kill the dbus daemon in the pk test in a more friendly way and wait until it is gone

2012-05-12  Sebastian Heinlein  <devel@glatzor.de>

	gtk3widgets: Fix download progress
	
	10 / 3 isn't the same in pyhton2 and 3

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Merge fix from trunk

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Skip the worker tests for Python2

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Use system python interpretaros by default

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Fix pkenums import

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Merge with trunk

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Ship the PackageKit enums to get rid of the python-packagekit dependency

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Skip the update cache test if we are running nose. Needs some further investigation

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Update README.tests

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	test: Use apt-key instead of direct gpg commands to add keys to test chroots

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Use with in some test cases to avoid not closed fds

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Allow to run the PK tests in nose by providing the same system dbus for the whole test suite

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Allow to start a dbus server outside of the TestCase

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Remove missed debugging breakpoint

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Skip the dbus type tests
	
	We need to use a type full client in the test, e.g. the gio based one

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Make the unsecure license key test compatible with python3

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Don't use 2to since the code is usable by python2 and 3

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	The unicode decoding test isn't required any more with python3 (yeah!)

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Fix debconf test

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Write config file prompt answers as bytes

2012-05-10  Sebastian Heinlein  <devel@glatzor.de>

	Fix not creating bytes for the error messages in Python3

2012-05-09  Sebastian Heinlein  <devel@glatzor.de>

	test: actually use the same python version for the to be tested aptdaemon as the test is running in

2012-05-09  Sebastian Heinlein  <devel@glatzor.de>

	Add tests if dependency resolution errors get catched

2012-05-09  Sebastian Heinlein  <devel@glatzor.de>

	gtk3-demo: Don't inspect exceptions by raising them.
	
	In python3 the exception will be deleted after.

2012-05-09  Sebastian Heinlein  <devel@glatzor.de>

	Run all scripts with Python3 by default

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	lock: close the fd finally

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Fix a non-closed file descriptor in the worker test

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Update number of to be found packages in the cache loading test

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	use an octal number for chmod in the worker test

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Regenerate local repository package and Release

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	worker: fix handling strings in the deb file installation

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	utils: Port to latest ElementTree API

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Error: make sure to handle str/unicode/bytes correctly

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Convert debconf to py2/3

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Convert collected output in the pk test

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Use imp.reload() in the lock location test to by Python3 ready

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Port index test to Python3 

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Don't use any UTF8Strings in the dbus type test

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	test: Support python 2 and 3

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	client: Don't use dict.iteritems() anymore

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	console: Handle input differently for Python2 and 3

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	client: Make meta classes work with Python2 and 3 at the same time

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	client: Remove obsolete utf8_string in DBus call

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	console: Remove obsolete decode() statments

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	errors: the dbus.DBusException.message attrib is now gone for real

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Remove obsoleted decodes() from the worker

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Adapt to os.read() API changes

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Adapt to uuid API changes

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	core: remove some obsolete decodes

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Conversion to python by using 2to3. The client module is skipped currently

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Merge with trunk

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	pkcompat: Fix a changed NetworkState property

2012-05-11  Sebastian Heinlein  <devel@glatzor.de>

	Update the version number of the provided PackageKit Interface

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Simplify the distro detection.
	
	Use platform.dist() and apt_pkg.architectures() instead of a dpkg call and
	the lsb_release tool.
	
	Thanks to mvo for the nice hint!

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	networking: Fix sanity of network monitors (fixes LP: 971748)
	
	The get_network_state() method should always update the cached state and
	return it.

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	Fix calling the networking.ProcNetworkMonitor.get_network_state() inline callback (Fixes LP: #971748)

2012-05-08  Sebastian Heinlein  <devel@glatzor.de>

	pkcompat: Only report GetDistroUpgrade as supported if update-manager-core is available

2012-04-13  Sebastian Heinlein  <devel@glatzor.de>

	pkcompat: Catch unresolvable depedencies in GetUpdates (fixes LP: #932581)

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Raise NotImplementedError instead of NotImplemented if the pkcompat layer hasn't been loaded (the exception should only be raised theoretically)

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Allow to cancel a transaction which hasn't been queued yet and is still in limbo

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	Fix cancelling: Raise StopIeration instead of using return in an inline callback

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	core: Keep a finished transaction longer on the DBus to give the clients enough time to call Sync() again

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	client: API change, rename Transaction.disconnect() to Transaction._disconnect_from_dbus() to not overwrite the GOBject.disconnect() method

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	client: Sync all properties of a transaction before calling its Finished signal (Fixes LP#747172)
	
	There isn't any gurantee in which order signals get received by a DBus client.
	This could result in PropertyChanged signals being received after the
	Finished signal, e.g. the transaction could be marked as failed but the
	error property hasn't yet been set.

2012-04-09  Sebastian Heinlein  <devel@glatzor.de>

	Fix a variable name in the license key failed error message

2012-04-08  Sebastian Heinlein  <devel@glatzor.de>

	progress: Fix a wrong variable name (country -> region) (fixes LP #976521)
	Thanks Douglas.

2012-04-08  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Convert exceptions to a string before sending to TransactionFailed() as details
	
	TransactionFailed.__init__ requires a string, so call str(execp) before.

2012-04-06  Sebastian Heinlein  <devel@glatzor.de>

	Fix: Catch a possible exception in apt.cache.Cache.required_download (Fixes LP# 659438)
	
	Under some strange circumstances APT fails processing the cache if the system was
	rebooted during a debconf question. The issue shows when accessing
	apt.cache.Cache.required_download. So we report an error here as a broken cache.
	The situation can be recoverd by calling FixIncompleteInstall or running
	sudo dpkg --configure -a

2012-04-06  Sebastian Heinlein  <devel@glatzor.de>

	Fallback to the defatul terminal width of 80 chars if the width cannot be retrieved (fixes LP#948588)

2012-04-05  Sebastian Heinlein  <devel@glatzor.de>

	Don't show the name of aptdaemon in crash reports (fixes LP#973370)
	
	Remove the .desktop file which contained a short description of aptdaemon.
	Aptdaemon is a system daemon and so has to work and fail silently in the
	background - without having the user to bother about obscure parts of the
	operating system in detail.

2012-04-04  Sebastian Heinlein  <devel@glatzor.de>

	progress: Catch a possible pipe reading error (fixes LP #733090)

2012-04-04  Sebastian Heinlein  <devel@glatzor.de>

	test: Add a test case for the config file prompting

2012-04-02  Sebastian Heinlein  <devel@glatzor.de>

	Fix wrong variable naming in the download progress (fixes LP #971839)

2012-04-02  Michael Vogt  <michael.vogt@ubuntu.com>

	do not use __simulate but instead _simulate_real as __ has a special meaning in python and its not available outside of the class scope

2012-04-02  Michael Vogt  <michael.vogt@ubuntu.com>

	merged patch for #959131

2012-04-02  Sebastian Heinlein  <devel@glatzor.de>

	pkcompat: Don't crash if the system time went backwards during a transaction (Fixes LP# 940367)

2012-04-02  Sebastian Heinlein  <devel@glatzor.de>

	worker: catch SystemErrors from python-apt when performing a system upgrade (fixes LP#932581)

2012-04-01  Sebastian Heinlein  <devel@glatzor.de>

	Push local bug fixes

2012-04-01  sebi@glatzor.de

	pkcompat: Don't crash if an unsupported locale is used for the transaction, fixes LP #944553

2012-04-01  sebi@glatzor.de

	Fix download progress information for translations of languages with an ISO 639 2T code (3 letters), e.g. Asturian (ast) - fixes LP #966111
	
	Use the ISO 639 2T code as a fallback for the ISO 639 1 code during lookup. If the locale cannot be converted to a human readable name show the code instead of failling.

2012-03-19  sebi@glatzor.de

	test: Add a test to ensure that every transaction is simulated before it gets
	queued.

2012-03-14  sebi@glatzor.de

	tests: Fix use of chroot in the dbus test

2012-03-14  sebi@glatzor.de

	Push local changes

2012-03-14  sebi@glatzor.de

	lock: Fix an exception if the lock file doesn't exists (fixes LP:#954581)

2012-03-14  sebi@glatzor.de

	Decrease the priority of the daemon to avoid blocking the user interface (fixes LP:#942437)

2012-03-13  sebi@glatzor.de

	Push local bug fixe changes

2012-03-13  sebi@glatzor.de

	Make the network detection code more robust (Fixes LP:#933597)
	
	If we fail to detect the network or get an error from network-manager report
	the networking state as unknown.

2012-03-13  sebi@glatzor.de

	pkcompat: Make use of the PropertiesChanged signal, since it is required by the 0.7.x clients after the switch to GDbus

2012-03-13  sebi@glatzor.de

	core: Add support for the "new" standardizised PropertiesChanged signal (which
	was introduced in 2010 to the Dbus Specification)

2012-03-13  sebi@glatzor.de

	pkcompat: Fix RestartRequired detection if a non PK-transaction is processed by the PKWorker

2012-03-13  sebi@glatzor.de

	pkcompat: Fail correctly if update-manager-core isn't installed

2012-03-13  Martin Pitt  <martin.pitt@ubuntu.com>

	Add missing file to POTFILES.in. (LP: #953938)

2012-03-13  Gabor Kelemen  <kelemeng@ubuntu.com>

	Add missing file to POTFILES.in. LP: #953938

2012-03-11  sebi@glatzor.de

	Merge local changes

2012-03-11  sebi@glatzor.de

	gtk3: Fix resizing of dialog because of a long status label
	
	GTK3 requires to set gtk_label_set_max_width to define a
	minimum width

2012-03-09  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/pkcompat.py: run _emit_require_restart() with the transaction as argument

2012-03-09  sebi@glatzor.de

	Push local changes

2012-03-09  sebi@glatzor.de

	Merge use-apt-auth-conf branch from mvo! Thanks a lot also to pitti for reviewing

2012-03-09  sebi@glatzor.de

	Clean up the test

2012-03-09  sebi@glatzor.de

	Merge latest updates from mvo

2012-03-08  Michael Vogt  <michael.vogt@ubuntu.com>

	fix review comments from Martin Pitt: a) typo fix b) do not chmod/chown but instead set umask c) check for exceptions in splituri()

2012-03-09  sebi@glatzor.de

	Clean ups

2012-03-06  Michael Vogt  <michael.vogt@ubuntu.com>

	add a comment when credentials are moved

2012-03-05  Michael Vogt  <michael.vogt@ubuntu.com>

	write the netrc as a multi-line output for easier readability, parsability with a rfc822 parser (even though the netrc parser in apt will use a simple strtok() approach)

2012-03-05  Michael Vogt  <michael.vogt@ubuntu.com>

	REFACTOR: remove no longer needed chown/chmod code

2012-03-05  Michael Vogt  <michael.vogt@ubuntu.com>

	GREEN: username/password data is written to /etc/apt/auth.conf

2012-03-05  Michael Vogt  <michael.vogt@ubuntu.com>

	RED: add failing test for auth.conf writing

2012-03-08  sebi@glatzor.de

	Push local changes

2012-03-08  sebi@glatzor.de

	pkcompat: Support the RequireRestart signal
	
	The signal gets emitted if an upgrade gets installed (e.g. UpgradeSystem,
	UpgradePackages) or if GetUpdates is called. The later one is an enhancement
	to the reference packagekitd. There isn't any persistent restart required
	notification in packagekitd/yum.

2012-03-08  sebi@glatzor.de

	pkcompat: Add a test to detect required system upgrades

2012-03-08  sebi@glatzor.de

	core: Move the reboot-required stamp check to the worker

2012-03-08  sebi@glatzor.de

	pkcompat: Add the RestartRequired signal to the transaction interface

2012-03-06  sebi@glatzor.de

	worker: Allow to install an alternative version (by number or by origin) of
	an already installed package

2012-03-06  sebi@glatzor.de

	Simplify the version/origin comparision by using a single if statement

2012-02-14  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: allow install if pkg_ver or pkg_rel is different

2012-03-01  sebi@glatzor.de

	pkcompat: improve UpdatesChanged signal emission
	
	If a new signal should be scheduled and there is already one scheduled the
	former signal is re-scheduled with the timeout of the new one. Furthermore the
	default timeout is raised to 60 seconds and the one for cache updates to 30
	seconds. 
	
	This helps to avoid races with non-aptdaemon tools (e.g. dist-upgrade.py)

2012-02-28  sebi@glatzor.de

	pkcompat: Add a note about the time outs of PK clients prior 0.7.3 (not yet released)

2012-02-28  sebi@glatzor.de

	pkcompat: Completely adapt to the python-apt 0.8 API

2012-02-17  sebi@glatzor.de

	pkcompat: Don't throw an error if we try to cancel a native pk transaction

2012-02-17  sebi@glatzor.de

	Replace some obsolete APT api calls (apt.package.Package.isInstalled)

2012-02-02  Martin Pitt  <martin.pitt@ubuntu.com>

	Add plugin support to PackageKit compat layer
	
	Support plugins for PackageKit's apt backend, to easily extend the
	functionality of "what-provides".
	
	This is a pretty straightforward port of the corresponding commit in
	PackageKit:
	https://gitorious.org/packagekit/packagekit/commit/b516f18e2

2012-02-01  Martin Pitt  <martin.pitt@ubuntu.com>

	test_pk.py: Properly clean up local dbus-daemon
	
	Kill the locally spawned D-BUS daemon even if a test fails.

2012-02-01  Martin Pitt  <martin.pitt@ubuntu.com>

	tests: Add tagged gstreamer package
	
	Update gstreamer0.10-silly_0.1-0_all.deb to have actual gstreamer tags, and add
	it to "Packages".

2012-01-31  sebi@glatzor.de

	Use gobject introspection in the client test

2012-01-27  sebi@glatzor.de

	Remove a debug trace statement

2012-01-24  sebi@glatzor.de

	Apply print and import fixes of 2to3

2012-01-23  sebi@glatzor.de

	Don't fail if we cannot get the hostname of a download (in the case of local files)

2012-01-23  sebi@glatzor.de

	Fix bug in error creation by using a tuple for the string format arguments

2012-01-23  sebi@glatzor.de

	Disable system plugins in all unit tests

2012-01-23  sebi@glatzor.de

	Merge the gir branch which ports aptdaemon to gobject introspection

2012-01-23  sebi@glatzor.de

	Fix  a missing tempfile import in pkcompat

2012-01-23  sebi@glatzor.de

	Fix GioFileMonitor creation

2012-01-23  sebi@glatzor.de

	Merge with trunk

2012-01-23  sebi@glatzor.de

	Trigger the loading of the gi client in the cdrom test

2012-01-23  sebi@glatzor.de

	Fix Gio.File creation

2012-01-23  sebi@glatzor.de

	Convert the daemon to gobject introspection using the conversion tool

2012-01-23  sebi@glatzor.de

	Add an option to the daemon to disable the loading of plugins. Make use of this in the tests.

2012-01-03  sebi@glatzor.de

	This reverts r757 because 
	a) DebFile.check() will do the same
	b) apt_pkg.config.value_list("APT::Architectures") is empty even on a multiarch system (arguably a bug in apt)

2012-01-03  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: revert check for architecture, because "DebFile.check()" will do that too plus apt_pkg.config.value_list("APT::Architectures") is empty even on a multiarch system

2011-12-16  sebi@glatzor.de

	Check if the architecture of a debian package is supported before installing

2011-12-16  sebi@glatzor.de

	Catch exceptions in apt.debfile.DebFile.check()

2011-12-16  sebi@glatzor.de

	Thankfully merging a fix from Chris!

2011-12-16  Chris Coulson  <chris.coulson@canonical.com>

	After simulating a transaction, correctly disconnect from the "transaction-simulated" signal

2011-12-15  sebi@glatzor.de

	Fix downgrade option of aptdcon

2011-12-14  sebi@glatzor.de

	Push local changes

2011-12-14  sebi@glatzor.de

	Always set the overall progress of the repository downloader to unknown

2011-12-14  sebi@glatzor.de

	Fix expanding the dialog to the previous size

2011-12-14  sebi@glatzor.de

	Ensure that the transaction cannot be simulated concurrently

2011-12-14  Michael Vogt  <michael.vogt@ubuntu.com>

	merged typo fixes from lp:~evfool/aptdaemon/lp903911, many thanks

2011-12-13  Robert Roth  <robert.roth.off@gmail.com>

	Change from up-to-date to up to date for consistency (LP: #864336)

2011-12-13  Robert Roth  <robert.roth.off@gmail.com>

	Fix license typo (LP: #903911)

2011-12-13  sebi@glatzor.de

	Do not force v as type for values in MetaData

2011-12-07  sebi@glatzor.de

	Push local changes

2011-12-06  sebi@glatzor.de

	Update the PackageKit README

2011-12-06  sebi@glatzor.de

	Add a test case for detecting security updates and backports correctly.

2011-12-05  sebi@glatzor.de

	Add support for cancelling the transaction in PK

2011-12-05  sebi@glatzor.de

	Fix PK transaction status emitting (copy and paste error)

2011-12-02  sebi@glatzor.de

	Fix changelog cache clean up (typo os.rm -> os.remove)

2011-12-02  sebi@glatzor.de

	Don't break API and still accept sv as MetaData

2011-12-02  sebi@glatzor.de

	Accept only strings for the meta data key and value. Already convert the
	dictionary on the client side. So we don't fail anymore if a client tries to set an empty dict, see LP: #898879

2011-12-02  sebi@glatzor.de

	Trivial typo fix

2011-12-02  sebi@glatzor.de

	Fix a patch merging error which resulted in the obsoleted dependency check crashing (Fixes LP: #898756)
	
	Also add a test suite for obsoleted dependency removing.

2011-12-01  sebi@glatzor.de

	Separate bewteen InRelase and Relase file in the download progress to avoid showing the same item twice

2011-12-01  sebi@glatzor.de

	Resizing for simple textbuffers works quite well so we don't need to add extra width and height. 

2011-12-01  sebi@glatzor.de

	Fix the sizing of details dialog (LP #892607)
	
	Rebase the error and message dialog on _ExpandableDialog. Fix storing the initial unexpanded size as expanded size. Furthermore resize the window by 100x150 pixels if there isn't any stored expanded size. Wrap the details message by words.

2011-12-01  sebi@glatzor.de

	Fix resizing the GTK3 progress dialog (LP# 840942)
	
	Unfortunately the expander only resize to a good size for its children if
	they are show on the first rendering of the window. Afterwards we have to
	deal with the resizes on our own. This resulted in a 2 line terminal widget.

2011-11-28  sebi@glatzor.de

	test.py: Remove unused import and export AptDaemonTestCase

2011-11-28  sebi@glatzor.de

	Merge more exception fixes by mvo. Thanks!

2011-11-28  Michael Vogt  <michael.vogt@ubuntu.com>

	some more new style exception fixes

2011-11-27  sebi@glatzor.de

	Map DOWNLOADING_REPO to the packagekit enum

2011-11-27  sebi@glatzor.de

	Update GetUpdates: it was still using the old python-apt API and emitting only updates which don't require to remove any installed software. This is obsolete nowadays (since SimulateUpdatePackages exists) and quite resource hungry.

2011-11-27  sebi@glatzor.de

	Use apt_pkg.version_compare to detect up-to-date packages

2011-11-26  sebi@glatzor.de

	Merge pretty repo branch

2011-11-26  sebi@glatzor.de

	Use the translated language/country name in the language of the transaction

2011-11-26  sebi@glatzor.de

	Fixed description of download items

2011-11-25  sebi@glatzor.de

	Also show the dist and section in the details

2011-11-25  sebi@glatzor.de

	Show an human readable description durch the cache update for the to be downloaded files

2011-11-25  sebi@glatzor.de

	Add IsoCodes class which allows to access the iso-codes language and country names database

2011-11-24  sebi@glatzor.de

	Also show the details in the gtk progress dialogs for STATUS_DOWNLOADING_REPO

2011-11-24  sebi@glatzor.de

	Add a new DaemonAcquireRepoProgress which shows the hostnames of the repositories in the status details instead of the "Downloading Packages"

2011-11-23  sebi@glatzor.de

	Add a new enum to indicate downloading repository information

2011-11-26  sebi@glatzor.de

	Remove obsolete socket module, since the timeout is already set by python-apt

2011-11-26  sebi@glatzor.de

	Rename the Changelog cache to Changelogs

2011-11-25  Michael Vogt  <michael.vogt@ubuntu.com>

	merged from lp:~aptdaemon-developers/aptdaemon/cached-changelogs

2011-11-25  sebi@glatzor.de

	Cache the downloaded changelogs

2011-11-25  sebi@glatzor.de

	Fix a missing reference to the pk_enums module

2011-11-25  sebi@glatzor.de

	Push local changes

2011-11-25  sebi@glatzor.de

	Use the except Exception as excep syntax in more places

2011-11-25  sebi@glatzor.de

	Merge branch from mvo. thanks

2011-11-24  Michael Vogt  <michael.vogt@ubuntu.com>

	move exception from "except Error, e" to "except Error as e"

2011-11-24  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: fix typo

2011-11-24  sebi@glatzor.de

	Update PackageKit README

2011-11-24  sebi@glatzor.de

	Add a delayed UpdatesChanged after we return from resume (180 seconds to avoid too much activity after resume)

2011-11-24  sebi@glatzor.de

	Small fix

2011-11-24  sebi@glatzor.de

	Also emit UpdatesChanged after StateHasChanged was called

2011-11-24  sebi@glatzor.de

	Emit the UpdatesChanged signal after the cache has been modified

2011-11-22  sebi@glatzor.de

	Update NEWS

2011-11-22  sebi@glatzor.de

	Add a packagekit error mapping for the new enum

2011-11-22  sebi@glatzor.de

	Add a new error enum to indicate that the system is already uptodate. But don't use it yet, since this would break API (in the case of no upgrades the transaction would fail.

2011-11-22  sebi@glatzor.de

	Remove partially uncommented check for updates in upgrade_system. If the user is interested in blocked updates simulate should be used beforehand

2011-11-22  sebi@glatzor.de

	Don't fail on date parsing errors in the changelog

2011-11-22  sebi@glatzor.de

	Skip marking the changes of a transaction twice after simulating
	
	Store the tid of the transaction whose changes are currently marked in the
	cache. If the transaction gets committed just after being simulated we don't
	need to mark the changes again.

2011-11-21  sebi@glatzor.de

	Merge Ubuntu's patch to do an additional resolver run to ensure that 
	autoremove does not leave the cache inconsistent. Thanks mvo.

2011-11-21  sebi@glatzor.de

	Add a document about the PackageKit compat

2011-11-21  sebi@glatzor.de

	Add support for the store_in_cache argument of DownloadPackages

2011-11-21  sebi@glatzor.de

	Adapt worker test cases to the new simulated callback

2011-11-21  sebi@glatzor.de

	Don't fail if pkcompat isn't avaliable or packagekitd is already running

2011-11-21  sebi@glatzor.de

	Merge with simulatecb branch

2011-11-21  sebi@glatzor.de

	Make the simulate call non-blocking

2011-11-21  sebi@glatzor.de

	Iterate the mainloop more often to improve responsiveness
	
	This is done by adding a small helper which iterates the mainloop on an iteration of the available packages after a specified interval

2011-11-20  sebi@glatzor.de

	Push local changes

2011-11-18  sebi@glatzor.de

	Specify the exact type of the inital packagekit properties

2011-11-18  sebi@glatzor.de

	Add support for introspection of properties of type unsinged integer

2011-11-18  sebi@glatzor.de

	Ship the PackageKit dbus configuration files which are overwritten by the native ones if PackageKit is installed

2011-11-18  sebi@glatzor.de

	Merge the PackageKit compatibility branch

2011-11-18  sebi@glatzor.de

	Remove not used control fields

2011-11-18  sebi@glatzor.de

	Also connect PackageKit to the same bus

2011-11-18  sebi@glatzor.de

	Also use the connect statement for packagekit

2011-11-18  sebi@glatzor.de

	Fix add license key test

2011-11-18  sebi@glatzor.de

	Push local changes

2011-11-18  sebi@glatzor.de

	Merge with trunk

2011-11-17  sebi@glatzor.de

	Fix a wrong enum and using the C time locale to parse debian changelogs

2011-11-17  sebi@glatzor.de

	Push local changes

2011-11-17  sebi@glatzor.de

	Implement download packages and remove support for what provides. Should be handled by session-installer

2011-11-17  sebi@glatzor.de

	Add Gstreamer information to test Packages

2011-11-17  sebi@glatzor.de

	Add a test for downloading packages

2011-11-17  sebi@glatzor.de

	Use the gi PK client for the tests

2011-11-14  sebi@glatzor.de

	Add a new enum to indicate that a transaction role is not yet supported

2011-10-21  sebi@glatzor.de

	Fix automatic network monitor selection

2011-10-21  sebi@glatzor.de

	Add tests for Get(Requires|Depends)

2011-10-21  sebi@glatzor.de

	Add support for GetDepends and GetRequires

2011-10-19  sebi@glatzor.de

	Provide better status and progress informsation in get-update-detail

2011-10-19  sebi@glatzor.de

	Some small fixes to the GetUpdateDetail method

2011-10-19  sebi@glatzor.de

	Use the network state monitor in the packagekit backend

2011-10-19  sebi@glatzor.de

	Set the state in the get_network_state call directly to make reusing in aptdaemon easier

2011-10-19  sebi@glatzor.de

	Some small fixes and automatic monitor selection

2011-10-19  sebi@glatzor.de

	Implement get_network_state for all monitors

2011-10-19  sebi@glatzor.de

	Add a fallback network monitor which makes use of the /proc/net/route file - taken from PackageKit

2011-10-19  sebi@glatzor.de

	Monitor the default active connections' Default property and the active connections

2011-10-19  sebi@glatzor.de

	Use deferreds for async calls to network manager

2011-10-19  sebi@glatzor.de

	Adapt to latest NM api, remove modem detection, since not usable by packagekit, a lot of sanitizing

2011-10-19  sebi@glatzor.de

	Merge AlertWatcher and roam to networking

2011-10-19  sebi@glatzor.de

	Add an old copy of UpdateManagers AlertWatcher which still uses the old gobject

2011-10-19  sebi@glatzor.de

	Set the default network state to online

2011-10-18  sebi@glatzor.de

	Add supported filter and fix a missing role setting

2011-10-18  sebi@glatzor.de

	Add a test for get updates

2011-10-18  sebi@glatzor.de

	NotImplemented exception doesn't support any messages so use the TransactionFailed one

2011-10-18  sebi@glatzor.de

	Check if pkcon is availbale before running the tests

2011-10-18  sebi@glatzor.de

	Add a test case for the resolve and install transaction by using pkcon

2011-10-17  sebi@glatzor.de

	Do not crash on set_locale("C")

2011-10-17  sebi@glatzor.de

	Use a custom dbus config and fake a system bus daemon (preparation for the pk tests)

2011-10-17  sebi@glatzor.de

	Adapt tests to latest API changes

2011-10-17  sebi@glatzor.de

	Create the tid if not provided - makes testing easier

2011-10-16  sebi@glatzor.de

	Support (Get)TransactionList(Changed)

2011-10-16  sebi@glatzor.de

	Emit Package signals for progress information during installation - currently lacks arch and version information.

2011-10-16  sebi@glatzor.de

	Add a package progress (will be used by the packagekit layer only)

2011-10-16  sebi@glatzor.de

	Merge with trunk

2011-10-15  sebi@glatzor.de

	Cherry pick cmdline support from pkcompat branch

2011-10-07  sebi@glatzor.de

	Fix setting locale and debconf

2011-10-07  sebi@glatzor.de

	Simulate should only emit dependencies

2011-10-07  sebi@glatzor.de

	Add all Transaction methods and fail if not implemented by aptdaemon

2011-10-06  sebi@glatzor.de

	Add support for debconf and fix multiarch support

2011-10-06  sebi@glatzor.de

	Handle multiarch

2011-10-06  sebi@glatzor.de

	Unify package_ids argument

2011-10-06  sebi@glatzor.de

	Also queue query transactions

2011-10-06  sebi@glatzor.de

	Implement support for PackageKit deeper into aptdameon by allowing running query transaction on the queue

2011-10-06  sebi@glatzor.de

	Implement GetDetails

2011-10-06  sebi@glatzor.de

	Add support for the Search* methods

2011-10-06  sebi@glatzor.de

	Push local changes

2011-10-06  sebi@glatzor.de

	Implement GetPackages

2011-10-05  sebi@glatzor.de

	Implement GetFiles

2011-10-05  sebi@glatzor.de

	Rough implementation of GetUpdateDetail

2011-10-05  sebi@glatzor.de

	Sort imports

2011-10-05  sebi@glatzor.de

	Use the worker for getting updates

2011-10-05  sebi@glatzor.de

	Don't loop remove from connection

2011-10-05  sebi@glatzor.de

	Add support for resolving!

2011-10-05  sebi@glatzor.de

	Load the PackageKitWorker

2011-10-05  sebi@glatzor.de

	Add a status enum to indicate searching

2011-10-05  sebi@glatzor.de

	Start again with a custom AptWorker to handle query transactions

2011-10-04  sebi@glatzor.de

	Add a method to emit package signals in the merged transaction

2011-10-04  sebi@glatzor.de

	Add an enum for merged transaction whihc perform a PK query

2011-09-30  sebi@glatzor.de

	Allow to set the locale

2011-09-30  sebi@glatzor.de

	Fix package ids handling

2011-09-30  sebi@glatzor.de

	Push local changes

2011-09-30  sebi@glatzor.de

	A lot of fixes and StateHasChanged support

2011-09-30  sebi@glatzor.de

	Fixes to the getdistroupgrade call

2011-09-30  sebi@glatzor.de

	Add distro upgrade support

2011-09-30  sebi@glatzor.de

	Safe a lot of typing work by using simpler names for the enums modules

2011-09-30  sebi@glatzor.de

	Unify creation of merged transactions

2011-09-30  sebi@glatzor.de

	Release references if done

2011-09-30  sebi@glatzor.de

	Store the MergedTransaction in the PackageKit Transaction

2011-09-29  sebi@glatzor.de

	Add support for UpdateSystem

2011-09-29  sebi@glatzor.de

	Updates supported role enums

2011-09-29  sebi@glatzor.de

	Add support for removing packages and fix some minor bugs

2011-09-29  sebi@glatzor.de

	Add support for UpdatePackages and SimulateUpdatePackages

2011-09-29  sebi@glatzor.de

	Remove not existing Categories property

2011-09-29  sebi@glatzor.de

	Remove unsused imports

2011-09-29  sebi@glatzor.de

	Remove the PackageKitWorker. For the first time we stay with mapping aptdaemon transactions.

2011-09-29  sebi@glatzor.de

	Fixes and clean ups to the property handling

2011-09-28  sebi@glatzor.de

	Add support for GetUpdates by simulating UpgradeSystem

2011-09-28  sebi@glatzor.de

	Use the PackageKit worker in compat mode

2011-09-28  sebi@glatzor.de

	Perform the simulate call during idle times to avoid time outs on the Dbus method

2011-09-28  sebi@glatzor.de

	Add support for InstallPackages and SimulateInstallPackages

2011-09-27  sebi@glatzor.de

	Rename enum convert methods 

2011-09-27  sebi@glatzor.de

	Use setter/getter for PackageKitTransaction properties to emit the Changed signal automatically

2011-09-27  sebi@glatzor.de

	Set the error in case of a cancel

2011-09-26  sebi@glatzor.de

	Big code drop to get a working PackageKit RefreshCache, yeah!

2011-11-18  sebi@glatzor.de

	Merge the AddLicenseKey method! Has been a long way ...

2011-11-18  sebi@glatzor.de

	Add the new plugin to the sphinx documentation

2011-11-18  sebi@glatzor.de

	Minor variable name fix

2011-11-18  sebi@glatzor.de

	Reduce the license key error enums

2011-11-18  sebi@glatzor.de

	Merge local changes

2011-11-18  sebi@glatzor.de

	Merge with mvo's branch

2011-11-18  sebi@glatzor.de

	Remove obsolete imports

2011-11-18  sebi@glatzor.de

	Minor setup fixes

2011-11-18  sebi@glatzor.de

	Remove obsolete tests

2011-11-18  sebi@glatzor.de

	Remove the no longer needed helper

2011-11-18  sebi@glatzor.de

	Move getting the license key to a plugin

2011-11-18  sebi@glatzor.de

	Doc string fixes

2011-11-18  sebi@glatzor.de

	Reorder NEWS

2011-11-18  sebi@glatzor.de

	Merge trunk

2011-11-10  Michael Vogt  <michael.vogt@ubuntu.com>

	more test fixes, fix indent

2011-11-10  Michael Vogt  <michael.vogt@ubuntu.com>

	add simple helper test

2011-11-10  Michael Vogt  <michael.vogt@ubuntu.com>

	move the license-key acquire into its own helper for easier testing, readability, extensability

2011-11-09  Michael Vogt  <michael.vogt@ubuntu.com>

	fix failing test, this needs refactor more to avoid the special "mock" target in worker

2011-11-09  Michael Vogt  <michael.vogt@ubuntu.com>

	use multiprocessing to avoid the blocking call

2011-11-09  Michael Vogt  <michael.vogt@ubuntu.com>

	first cut on the new add_license_key system

2011-09-20  Michael Vogt  <michael.vogt@ubuntu.com>

	merged from trunk

2011-08-25  sebi@glatzor.de

	Minor fix for the NEWS file. upside, down you turn me ...

2011-08-25  sebi@glatzor.de

	We don't need to change the LICENSE_ROOTDIR in the worker test anymore

2011-08-25  sebi@glatzor.de

	Set the umask to aovid creating executable files

2011-08-25  sebi@glatzor.de

	UPdate news

2011-08-25  sebi@glatzor.de

	Fix client test case.

2011-08-25  sebi@glatzor.de

	Fix variable names in the DBus method

2011-08-25  sebi@glatzor.de

	Take the apt root dir into account when building the license key root dir

2011-08-23  sebi@glatzor.de

	Adapt client side

2011-08-23  sebi@glatzor.de

	Allow to install the license key directly after installing a package without entering the password

2011-08-23  sebi@glatzor.de

	Adapt DBus API

2011-08-23  sebi@glatzor.de

	Handle a not available pkg

2011-08-23  sebi@glatzor.de

	Fix small typo, sorry richard

2011-08-23  sebi@glatzor.de

	Rework license key installation by retrieving the license key path from the package records

2011-08-23  sebi@glatzor.de

	Add some error enums for the license key installation. The descriptions are still missing.

2011-08-23  sebi@glatzor.de

	Add an enhanced test suite for the license key installation.

2011-08-23  sebi@glatzor.de

	Add a new silly-license package to the test repo

2011-08-23  sebi@glatzor.de

	Remove LicenseKeyLocationInvalid error

2011-08-19  Michael Vogt  <michael.vogt@ubuntu.com>

	add new "AddLicenseKey call

2011-11-18  sebi@glatzor.de

	Replace the backported unittest2 framework by the native one of
	Python 2.7 and Nose to collect the tests

2011-10-24  Michael Vogt  <michael.vogt@ubuntu.com>

	lp:~mpt/aptdaemon/bug-635138: merged string fix, many thanks!

2011-09-08  Matthew Paul Thomas  <mpt@canonical.com>

	Fixes bug 635138 (Apt cache repair 'In Progress' text is 'Repairing broken deps').

2011-10-08  sebi@glatzor.de

	Map messages from apt on the status-fd to enums to provide better terms and translations in the future - fixes LP#641262

2011-09-30  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: fix crash when a translation has the wrong number of %s (LP: #858684)

2011-09-19  sebi@glatzor.de

	Use constructor of super class instead of the gobject one for gtk3 widgets

2011-09-19  sebi@glatzor.de

	Push local changes

2011-09-19  sebi@glatzor.de

	Merge non-blocking-lintian branch

2011-09-18  sebi@glatzor.de

	Don't block on lintian calls to avoid time outs on the DBus by making use
	of the excellent preexec_fn of subprocess.

2011-09-18  sebi@glatzor.de

	Minor improvement to error message in worker test

2011-09-19  sebi@glatzor.de

	Push local changes

2011-09-15  Michael Vogt  <michael.vogt@ubuntu.com>

	pyflakes based import fixes, this fixes a unneeded glib import that can cause crashes with gtk2/gtk3 (pygtk/pygi)

2011-09-07  sebi@glatzor.de

	Workaround a bug in apt's ListUpdate which doesn't handle cancellation properly

2011-08-27  sebi@glatzor.de

	Push local changes

2011-08-27  sebi@glatzor.de

	Unset the apt-listbugs frontend if in interactive mode

2011-08-27  sebi@glatzor.de

	Push local changes

2011-08-27  sebi@glatzor.de

	Avoid creating an apport crash report for valid DBusExceptions that
	are send to the client (subclasses of AptDaemonError)

2011-08-26  sebi@glatzor.de

	Merge mvo's defer branch with some minor changes and fixes

2011-08-17  Michael Vogt  <michael.vogt@ubuntu.com>

	make aptdaemon.gtk3widgets.AptProgressDialog.run() deferable

2011-08-26  sebi@glatzor.de

	Avoid apport crash reports for the forked child, e.g. on dpkg failure, fixes LP# 799982

2011-08-26  sebi@glatzor.de

	Rename "shutdown" to "quit" to avoid confusions, see lp# 834104

2011-08-26  sebi@glatzor.de

	Python Dbus automatically converts the unsigend long to a long. So we just stick with a signed long for the elapsed time.

2011-08-26  sebi@glatzor.de

	Enhance dbus type test to also take double and unsigned long into account

2011-08-26  sebi@glatzor.de

	Finally handle use the same types as in apt for elapsed time and download speed. This should resolve all outstanding overflow errors.

2011-08-26  sebi@glatzor.de

	Push local changes

2011-08-26  sebi@glatzor.de

	Provide additional debug information in the case of a failed dbus type conversion

2011-08-26  sebi@glatzor.de

	Fix install of apport package hook

2011-08-26  sebi@glatzor.de

	Move showing a nicer name in apport reports to the package hook

2011-08-26  sebi@glatzor.de

	Re-enable the purge test again since the bug is now fixed in python-apt

2011-08-25  sebi@glatzor.de

	Refactor apport integration by moving some of the code from the crash module to an apport package hook. This will allow us to get information on crashes which are not handled by the crash module, e.g. in the core.

2011-08-25  sebi@glatzor.de

	Fix cdrom test case. It failed because apt-cdrom refused to add an untrusted cdrom

2011-08-25  sebi@glatzor.de

	Only create an apport crash report if we are running as a system service with / as the working directory. This helps as to avoid crash reports if we are running in a test environment

2011-08-25  sebi@glatzor.de

	Fix default values for the ProgressDetails using long

2011-08-25  sebi@glatzor.de

	Improve error message if a type doesn't match in the dbus test

2011-08-25  sebi@glatzor.de

	Merge local changes

2011-08-25  sebi@glatzor.de

	Update NEWS

2011-08-24  sebi@glatzor.de

	Make the handling of exceptions in the forked child process more robust

2011-08-24  sebi@glatzor.de

	push local changes

2011-08-24  sebi@glatzor.de

	Fix showing the header of the translation (.mo file) if we try to translate an empty string

2011-08-23  sebi@glatzor.de

	Remove white spaces

2011-08-23  sebi@glatzor.de

	Merge the apt command history log integration. Thanks to MVO!

2011-08-23  sebi@glatzor.de

	Move the command history creation into the progress to also get direct dpkg calls. Minor changes to the test.

2011-06-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: move the log writing down into _apply_changes()

2011-06-27  Michael Vogt  <michael.vogt@ubuntu.com>

	set apts CommandLine::AsString with the actions that are going to be performed to have this information in the apt history log file

2011-08-22  sebi@glatzor.de

	Merge mvo's little branch witch fixes total and done bytes in the ProgressDetails. Thanks!

2011-08-22  sebi@glatzor.de

	Add API changes to the NEWS file

2011-08-22  sebi@glatzor.de

	Merge mvo's branch

2011-08-19  Michael Vogt  <michael.vogt@ubuntu.com>

	switch bytes_{done,total} to 64bit to follow a change in apt

2011-08-22  sebi@glatzor.de

	Merge mvo's multi arch branch with some minor adoptions

2011-08-22  sebi@glatzor.de

	Remove obsolete valid arch regex

2011-08-22  sebi@glatzor.de

	Harden vaild package name regex to catch names like "apt:123:"

2011-08-22  sebi@glatzor.de

	Add some nasty package names to the test.

2011-08-22  sebi@glatzor.de

	Only test packages with release if there is actually any release information

2011-08-22  sebi@glatzor.de

	Merge mvo's mutli arch branch

2011-08-19  Michael Vogt  <michael.vogt@ubuntu.com>

	fix multiarch names

2011-08-17  Martin Pitt  <martin.pitt@ubuntu.com>

	fix previous patch to only use GObject when using gi

2011-08-17  Martin Pitt  <martin.pitt@ubuntu.com>

	convert aptdaemon/client.py and aptdaemon/debconf.py from gobject to GObject as well; works with earlier pygobject versions and gtkclient.py, and makes this work with pygobject 2.90

2011-08-17  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/gtk3widgets.py: Drop unnecessary dbus import and main loop setup, this is client code only

2011-08-17  Martin Pitt  <martin.pitt@ubuntu.com>

	Move from static gobject to GI GObject module, to be compatible to upcoming pygobject 3.0.

2011-08-12  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/fix825056

2011-08-12  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix crash in python where _parse_localename() does not handle dbus.String()

2011-08-09  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~mvo/aptdaemon/setup2to3 

2011-08-09  Michael Vogt  <michael.vogt@ubuntu.com>

	setup.py: build py3 version using 2to3

2011-08-03  sebi@glatzor.de

	Implement the missing PropertyChanged signal for the daemon (fixes LP#818521)

2011-07-28  sebi@glatzor.de

	Merge the reboot required property! Thanks to mvo

2011-07-28  Michael Vogt  <michael.vogt@ubuntu.com>

	add reboot-required property to aptdaemon

2011-06-28  sebi@glatzor.de

	Merge the fixoverflow branch of Robert Roth. Thanks a lot for the work!

2011-06-28  sebi@glatzor.de

	Add a note to the NEWS file about the api change

2011-06-27  Robert Roth  <robert.roth.off@gmail.com>

	Use int64 for transaction space and download, as these might overflow (lp:#771678, lp:#758837)

2011-06-16  Martin Pitt  <martin.pitt@ubuntu.com>

	aptdaemon/crash.py: only create crash reports if apport is enabled; also fix the __main__ test to actually work

2011-06-15  Brian Murray  <brian@canonical.com>

	aptdaemon/crash.py: only create crash reports if apport is enabled

2011-06-01  sebi@glatzor.de

	Let aptdamen take advantage of traceback processing tools in Launchpad. Thanks Brian!

2011-05-26  Brian Murray  <brian@canonical.com>

	aptdaemon/crash.py: title attachments Traceback to be consistent with apport

2011-05-25  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~kelemeng/aptdaemon/bug786500, many thanks!

2011-05-22  Gabor Kelemen  <kelemeng@gnome.hu>

	Add missing files to POTFILES.in, fixes LP:786500

2011-05-13  sebi@glatzor.de

	The TransactionCancelledError() doesn't provide any details by default

2011-04-28  sebi@glatzor.de

	Overwrite the dbus.exceptions.DBusExption.get_dbus_message() method to handle unicode error messages.

2011-04-28  sebi@glatzor.de

	Just one more comment :)

2011-04-28  sebi@glatzor.de

	Add some comments to the dbus exception test

2011-04-28  sebi@glatzor.de

	Add a small test which demonstrates the encoding/decoding problems regarding Dbus exceptions

2011-04-20  sebi@glatzor.de

	Handle interrupts in the forked child.
	Otherwise the atexit methods would be called, e.g. the frozen status decorator.

2011-04-20  sebi@glatzor.de

	Return the file descriptor of a lock if it was already acquire to avoid leaking file descriptors.

2011-04-19  sebi@glatzor.de

	Convert the message of AptDaemonErrors to unicode

2011-04-19  sebi@glatzor.de

	Update NEWS

2011-04-18  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp:~evfool/aptdaemon/fix764422 , many thanks!

2011-04-18  Robert Roth  <robert.roth.off@gmail.com>

	Fixed bad parameter name (LP: #764422)

2011-04-18  sebi@glatzor.de

	Don't fail if the master_fd was already closed at the end of the run() call and the io callback was still queued on the main loop

2011-04-18  sebi@glatzor.de

	Don't crash on the dpkg disappear status by adding a mapping

2011-04-17  sebi@glatzor.de

	Fix argument handling in wait_for_lock call. Fixes LP #763642

2011-04-15  sebi@glatzor.de

	Catch broken and really large install sizes specified in third party
	packages which result in an overflow error, LP #758837

2011-04-15  sebi@glatzor.de

	Set the status of queued transaction to waiting instead of running (running is set by the worker)

2011-04-15  sebi@glatzor.de

	Unify cache opening method to catch cache breakages

2011-04-15  sebi@glatzor.de

	Don't require a dependency on libc in the lintian check - lsb packages don't have it.

2011-04-14  sebi@glatzor.de

	Configure the mount point for the cdrom test via files instead of hardcoding in the worker

2011-04-14  sebi@glatzor.de

	Test cdrom test now works perfectly. No need to skip it anymore.

2011-04-14  sebi@glatzor.de

	The worker should read configurations file from a given chroot. Also specify
	the dpkg-wrapper in the test.Chroot in aconfig file (fixes the cdrom test)

2011-04-14  sebi@glatzor.de

	Fix the deferred client test

2011-04-14  sebi@glatzor.de

	Add a test for the cdrom installation - unluckily the dpkg call in the chroot seems to fail.

2011-04-14  sebi@glatzor.de

	Hardcode the media mount point iif a chroot is used

2011-04-14  sebi@glatzor.de

	aptdaemon.test.Chroot now has got new methods to handle faked cdrom
	repositories: add_cdrom_repository(), mount_cdrom() and unmount_cdrom()

2011-04-14  sebi@glatzor.de

	Fix remaining refactoring issues in watch_lock

2011-04-13  sebi@glatzor.de

	Fix detection of a failed lintian check by convert the exit status
	correctly

2011-04-13  sebi@glatzor.de

	Fix the string decode helper.
	
	Decode() method doesn't support key word arguments and actually return a
	converted string.

2011-04-13  sebi@glatzor.de

	Freeze (copy) the dpkg status file during a dpkg call to allow
	simulating other transactions with the frozen dpkg status.
	
	This is a small revival of the former future status.

2011-04-13  sebi@glatzor.de

	Important fix: call apt.cache.Cache.open() after update(). Could be the cause for some strange errors.

2011-04-12  sebi@glatzor.de

	Fix a small logging message typo, thanks johnnyboy0y

2011-04-12  sebi@glatzor.de

	Update NEWS

2011-04-12  sebi@glatzor.de

	merge local changes

2011-04-12  sebi@glatzor.de

	Don't treat a lintian error as a policy violation (using correct exit states)

2011-04-09  sebi@glatzor.de

	Don't segfault if we cannot read the status of the process holding a lock - fixes LP #745517 

2011-04-09  sebi@glatzor.de

	Fix closing a not used terminal file descriptor

2011-04-09  sebi@glatzor.de

	Add a small reminder that we need to remove the unused AptMessageDialog in the future

2011-04-09  sebi@glatzor.de

	Fix a wrong reference to arch

2011-04-09  sebi@glatzor.de

	Fix some refactoring leftofters in the lock module (thanks to Barry Warsaw and pylint)

2011-04-08  sebi@glatzor.de

	Fix errors from last commit.

2011-04-08  sebi@glatzor.de

	Make the get_dbus_string method more pythonic. Thanks juliank

2011-04-08  sebi@glatzor.de

	Open the controlling terminal of the client when it is needed and don't keep open fds around. Furthermore fallback to non-interactive mode if the terminal isn't available. Fixes a lot of bugs.

2011-04-07  sebi@glatzor.de

	Switch to non-interactive mode if the terminal cannot be attached

2011-04-07  sebi@glatzor.de

	Don't keep the terminal fd open by reverting 596.1.1

2011-04-07  sebi@glatzor.de

	Fix copy and paste error: do not call logging in the lock module (fixes LP #752220)

2011-04-07  sebi@glatzor.de

	Merge the relax lintian branch

2011-04-06  sebi@glatzor.de

	Merge with trunk

2011-04-06  sebi@glatzor.de

	Improve lintian handling: Run lintian twice once with the fatal and a second time with the non fatal tags. Allow distributions to ship alternative tag files.

2011-04-06  sebi@glatzor.de

	Allow to install files in opt

2011-04-06  sebi@glatzor.de

	Use the the lintian tags from the lintian package (2.5.0RC2) as a starting point.

2011-04-06  sebi@glatzor.de

	Install the lintian tags file

2011-04-06  sebi@glatzor.de

	Remove the tags provided by mvo

2011-04-06  sebi@glatzor.de

	Allow to install files in /opt

2011-04-06  sebi@glatzor.de

	Add lintian tags from the Debian ftp masters

2011-03-26  sebi@glatzor.de

	Uncomment the not used test instead of removing to make changes more transparent

2011-03-26  sebi@glatzor.de

	Revert the original lintian checks

2011-03-23  Michael Vogt  <michael.vogt@ubuntu.com>

	tweak checks, add really broken package, update tests

2011-03-23  Michael Vogt  <michael.vogt@ubuntu.com>

	add initial lintian check list based on ftpmaster tags

2011-04-06  sebi@glatzor.de

	Fix unicode decoding test

2011-04-06  sebi@glatzor.de

	Merge local changes - mostly unicode decoding fixes

2011-04-06  sebi@glatzor.de

	Put an end to UnicodeDecodeErrors!
	
	Make sure to convert all strings to unicode before processing.

2011-04-05  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/gtkwidgets.py: remove leftover debugging pdb import

2011-04-05  sebi@glatzor.de

	Make the run method of the GTK2 progress dialog deferable

2011-04-05  sebi@glatzor.de

	Client: Exit the transaction processing if there has been an error

2011-04-05  sebi@glatzor.de

	API adoption: The Transation.attach() method was replaced by sync()

2011-04-05  sebi@glatzor.de

	Allow to specify package names with an architecture

2011-04-05  sebi@glatzor.de

	Remove the url to the aptdaemon bug tracker since we nowadays use apport directly

2011-04-05  sebi@glatzor.de

	Merge the no future branch

2011-04-05  sebi@glatzor.de

	Remove the support for the future status. It allowed to simulate a transaction
	with the queued changes. Multi arch adds more syntax and complexity

2011-04-05  sebi@glatzor.de

	Merge mvo's workaround of lp #724735 with some minor changes.

2011-04-01  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py, tests/test_worker.py: fix i18n crash (#724735) and add test

2011-04-05  sebi@glatzor.de

	Instead of failing wait for the dpkg status lock after a transaction was processed.
	
	The lock_cache moves to the lock module as wait_for_lock and is reused by
	the progress for the status lock.

2011-03-24  sebi@glatzor.de

	Merge local changes

2011-03-24  sebi@glatzor.de

	Don't override DBusException.args in TransactionFailed

2011-03-23  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/config.py: rename "last_char" to "prev_char" to avoid confusing it with the last char of a line, fix parser when a // is found inside a value (like for http urls); tests/test_configparser.py: add regression test

2011-03-23  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: simplify verification by using the split code from the worker and verifying each regexp individually; tests/test_valid_package_names.py: add more test cases

2011-03-23  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py, tests/test_valid_package_names.py: fix the verification of the packagenames, based on http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Source and http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Version and add test

2011-03-22  sebi@glatzor.de

	Fix variable name in the Finished signal

2011-03-22  sebi@glatzor.de

	Don't raise an error if trying to close an already closed fd

2011-03-22  sebi@glatzor.de

	Merge local changes

2011-03-22  sebi@glatzor.de

	Check the package names

2011-03-22  sebi@glatzor.de

	Open the controlling terminal already at the SetTerminal call time and keep it open. This way we don't get into problems if the client dies before we start executing the transaction.

2011-03-22  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: fix typo (LP: #733732), thanks to seb128

2011-03-17  Martin Pitt  <martin.pitt@ubuntu.com>

	./data/org.debian.apt.policy.in: Drop gettext domain field, it will be added during package build. (LP: #690270)

2011-03-16  sebi@glatzor.de

	Name Sergey in the security issue test. Thanks.

2011-03-08  sebi@glatzor.de

	Fix the installation of local packages which are not yet known to the cache.
	
	There have been two small bugs: One that assigns the packages to the depends andanother one trying to item assign in a dbus.Struct.

2011-03-03  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_client.py: simplify (thanks to Sebastian Heinlein for his suggestions)

2011-03-02  Martin Pitt  <martin@piware.de>

	gtk3widgets.py: Fix require_version usage.
	
	Drop usage of require_version() from gtk3widgets.py; this was meant to be
	commented out, and doesn't belong in a library. Instead, move the (now really
	commented) call to gtk3-demo.py.

2011-03-02  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py, tests/test_client.py: fix crash in client.add_repository(), add test for client.add_repository(), refactor test for enable_component() to make it more generic

2011-03-02  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py, tests/test_client.py: fix crash in enable_distro_component and add test, update docstring (and fix docstring for remove_vendor_key along the way)

2011-03-01  sebi@glatzor.de

	Call waitpid after reading the output from lintian to avoid interrupted system calls on systems under heavy load

2011-03-01  sebi@glatzor.de

	Update NEWS

2011-03-01  sebi@glatzor.de

	Show details about broken dependencies

2011-02-24  sebi@glatzor.de

	Merge

2011-02-24  sebi@glatzor.de

	Merge security fix for LP #722228 an update NEWS for a new release

2011-02-22  Michael Vogt  <michael.vogt@ubuntu.com>

	merged lp722228 fix from glatzor

2011-02-22  sebi@glatzor.de

	Fix the security issue CVE-2011-0725 tracked in LP #722228 and add a
	regression test.
	
	The UpdateCache method allows to specify an alternative sources.list
	snippet to only update the repositories specified in the corresponding
	configuration file.
	
	Aptdaemon did not restrict the path to the sources.list.d directory and
	allowed to inject packages from malicious sources specified in a custom
	sources.list and even to read every file on the system.
	
	Thanks to Michael Vogt for the inital patch and test!

2011-02-22  sebi@glatzor.de

	get_tests_dir should return a normalized path which already resolved any symbolic links

2011-02-22  sebi@glatzor.de

	Only report packages as kept back if marked as keep - otherwise we also get upgradable packages which would get removed.

2011-02-19  sebi@glatzor.de

	Merge the set-candidate-release branch

2011-02-19  sebi@glatzor.de

	Update the documentation

2011-02-19  sebi@glatzor.de

	Make use of the new SetCandidateRelease function of APT to allow selecting the release of a package. The traditional apt-get syntax package/release will be used to specify the release.

2011-02-09  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_lock_location.py: ensure that aptdaemon.lock gets reloaded in the test (this should fix the test failure during build)

2011-02-08  sebi@glatzor.de

	Make sure to test a newly initiated aptdaemon.lock module. Otherwise we get the lock pathes of previous tests.

2011-02-08  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_lock_location.py, tests/test_lock.py: split LockFileLocationTest into its own file to avoid pollution of apt_pkg.config from one test to the next

2011-02-08  Michael Vogt  <michael.vogt@ubuntu.com>

	tests/test_lock.py: make tests work when Dpkg::Post-Invoke has root only commands

2011-02-08  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: clear DPkg::Post-Invoke when inside chroot mode

2011-02-08  sebi@glatzor.de

	Don't hardcode UTF-8 encoding for the worker child process. Convert the output from the child process to unicode before adding to the error message in the case of an package manager failure

2011-02-08  sebi@glatzor.de

	Don't show the same short desc of a download twice if e.g. two Packages files are downloaded simultaneously.

2011-02-07  sebi@glatzor.de

	Push today's train ride outcome

2011-02-07  sebi@glatzor.de

	The io_add_watch callback should either return True or False. By default it should be True.

2011-02-07  sebi@glatzor.de

	The install local package file now includes detecting of invalid packages using lintian.

2011-02-07  sebi@glatzor.de

	Convert status_messages of apt from the default fs encoding to unicode.

2011-02-06  sebi@glatzor.de

	Instead of using sudo, fork and change uid to run linitan

2011-02-02  sebi@glatzor.de

	Only try to remove a listener for the debconf socket if one is running

2011-02-01  sebi@glatzor.de

	If there isn't any transaction on the queue we send an early
	progress information. Otherwise it juse seems that aptdaemon
	hangs since it doesn't send any progress information after the
	the transaction has been started. Thanks Gary for the hint!

2011-01-31  sebi@glatzor.de

	Push local changes

2011-01-31  sebi@glatzor.de

	Start a private dbus-daemon for the tests and automatically use it for the started aptd and fake polkitd

2011-01-30  sebi@glatzor.de

	Don't replace another testing aptdaemon

2011-01-30  sebi@glatzor.de

	Fix dbus type test

2011-01-30  sebi@glatzor.de

	Switch the dbus type test to unittest2 to get support for cleanups

2011-01-30  sebi@glatzor.de

	Add a patch from mvo to protect sources.list files which contain passwords. Thanks!

2011-01-30  sebi@glatzor.de

	Remove the test chroot in a cleanup. So we also remove chroots of failed tests

2011-01-30  sebi@glatzor.de

	Add a new class aptdaemon.test.AptDaemonTestCase which provides the start_session_aptd and start_fake_polkitd methods. Use cleanups to kill the helper processes even if the test failed. Make use of the new class in the client test.

2011-01-29  sebi@glatzor.de

	Move tests/utils.py to aptdaemon.test to allow writting tests for aptdaemon
	clients easily. Furthermore system wide installed test data is used optionally.

2011-01-27  sebi@glatzor.de

	Push local changes

2011-01-27  sebi@glatzor.de

	Update NEWS file for release

2011-01-25  sebi@glatzor.de

	Add the transaction error to apport report

2011-01-22  sebi@glatzor.de

	Remove the execute privileges from the crash module

2011-01-22  sebi@glatzor.de

	Remove unused import of sys in crash

2011-01-22  sebi@glatzor.de

	Respect the flags argument in the policykit1.check_authorization_by_pid method.

2011-01-22  sebi@glatzor.de

	Fix missing trans arguments in the worker

2011-01-22  sebi@glatzor.de

	Adapt the future status test to the latest API changes

2011-01-22  sebi@glatzor.de

	Use an AptWorker in the lock test to set the lock pathes to the chroot.

2011-01-27  Martin Pitt  <martin@piware.de>

	adjust gtk3widgets.py to work with current pygobject/gtk

2011-01-21  sebi@glatzor.de

	Make sure to output the details of a TransactioNFailed error if it gets raised

2011-01-21  sebi@glatzor.de

	Fix Packages remove failure test. Chroot env won't be set anymore by utils.Chroot.setup()

2011-01-21  sebi@glatzor.de

	Push local changes!

2011-01-21  sebi@glatzor.de

	Add a test for the client module

2011-01-21  sebi@glatzor.de

	Allow aptdaemon to apply changes to a chroot. Move the code from the test utils to the worker.

2011-01-21  sebi@glatzor.de

	Add a small policykit fake daemon which can listen on the session bus.

2011-01-21  sebi@glatzor.de

	Minor clean up in the worker test

2011-01-21  sebi@glatzor.de

	Allow to run aptdaemon on the session bus

2011-01-20  sebi@glatzor.de

	Add a test which tiggers a nasty bug in apt: If Packages lists are removed the
	apt.Cache.required_download method fails. This is corner case if the repository
	lists are updated.

2011-01-19  sebi@glatzor.de

	Push today's train ride outcome!

2011-01-19  sebi@glatzor.de

	Store the output of all progresses in the transaction. Add the output to the apport crash report. Furthermore raise an PACKAGE_MANAGER_FAILED error instead of an unknown error if the dpkg call failed.

2011-01-19  sebi@glatzor.de

	Respect the Dir::bin:DPkg and Dpkg::Options settings when launching dpkg.

2011-01-18  sebi@glatzor.de

	Push local changes!

2011-01-18  sebi@glatzor.de

	Update the test worker

2011-01-18  sebi@glatzor.de

	Move setting the transaction properties from the simulate results to the worker

2011-01-18  sebi@glatzor.de

	Reuse the processing code for simulating a transaction. Unify the install/remove/upgrade_packages methods to use commit_packages.

2011-01-17  sebi@glatzor.de

	Simualte and test fix_broken_depends transaction

2011-01-17  sebi@glatzor.de

	Allow to install packages with broken depends into the test chroot.

2011-01-13  sebi@glatzor.de

	Switch the worker test to unittest2 and skip the purge test, since it is known to fail.

2011-01-13  sebi@glatzor.de

	Skip the archives lock list if there isn't any internet connection

2011-01-13  sebi@glatzor.de

	Switch to unittest2 for test collection and discovery. Seems to handle apt_pkg better.

2011-01-13  sebi@glatzor.de

	Add the process and path to the LockFailedError message.

2011-01-13  sebi@glatzor.de

	Call apt_pkg.init in the lock module to make sure using the correct pathes

2011-01-13  sebi@glatzor.de

	Replace sys path modification by a symlink

2011-01-13  sebi@glatzor.de

	Add a tests for the locking mechanisms.

2011-01-13  sebi@glatzor.de

	Add missing spaces to error messages. Thanks, Adnane Belmadiaf

2011-01-13  sebi@glatzor.de

	Merge mvo's fixes for the cache open progress! Thanks!

2011-01-12  Michael Vogt  <michael.vogt@ubuntu.com>

	make the cache-open progress emit the signal and add test for it

2011-01-12  sebi@glatzor.de

	Don't capture the logging in tests by default

2011-01-12  sebi@glatzor.de

	Make the tests work again (except of the trans chaining one). Allow to launch the tests by setup.py. Add a test for the worker.

2011-01-12  sebi@glatzor.de

	Fix clearing apt_pkg config values in the utils

2011-01-12  sebi@glatzor.de

	Allow to add a prefix to the chroot path and reset the root dir and status file config in the apt configuration during clean up

2011-01-12  sebi@glatzor.de

	Make sure to reset the status file in future status test.

2011-01-12  sebi@glatzor.de

	Use the tests dir location helper in the debconf test

2011-01-12  sebi@glatzor.de

	Add a small helper to detect the path to the tests direcotry. Allows to launch each test by file or by a global collector, e.g. nose.

2011-01-12  sebi@glatzor.de

	Adapt future status test to latest API

2011-01-12  sebi@glatzor.de

	Don' start the debugger on test failures. Disable non working test coverage

2011-01-12  sebi@glatzor.de

	Temporarilly disable the transaction chain tests. Require a running aptdaemon

2011-01-10  sebi@glatzor.de

	Remove no longer needed test for dpkg_journal_clean. It is now part of python-apt

2011-01-10  sebi@glatzor.de

	Use a real chroot for the dbus type test

2011-01-10  sebi@glatzor.de

	Move all chroot related methods to a separate class utils.Chroot

2011-01-10  sebi@glatzor.de

	Add a wrapper to run dpkg with fakeroot

2011-01-10  sebi@glatzor.de

	Move the chroot creation to a separate module for easier reuse

2011-01-10  sebi@glatzor.de

	Add a test for the aptworker

2011-01-10  sebi@glatzor.de

	Add a test repo with the silly packages

2011-01-07  sebi@glatzor.de

	Move test folder to project root

2011-01-07  sebi@glatzor.de

	Use UTF8Strings

2011-01-12  sebi@glatzor.de

	The sizes in the ProgressDownload are now of type long - following the API
	changes in APT. Therefor the signature of the ProgressDownload struct
	changed to "ssxxs".

2011-01-05  sebi@glatzor.de

	The sizes in the ProgressDownload are now of type long - following the API
	changes in APT. Therefor the signature of the ProgressDownload struct
	changed to "ssxxs".

2010-12-21  sebi@glatzor.de

	Make sure to convert the content of dbus structs correctly. The dbus bindinges don't seem to enforce the types speficed in the signature of the struct.

2011-01-10  Martin Pitt  <martin@piware.de>

	gtk3widgets.py: Make work with GTK2, too
	
	- Rename variables which are GObject properties, as with GTK2-gi they are not
	writable.
	- Work around GTK2 Gdk.WMFunction enum bug.
	- Drop GTK 3 requirement from gtk3-demo.py, as it now also works with 2.

2011-01-09  Martin Pitt  <martin@piware.de>

	aptdaemon/gtk3widgets.py: When using GTK 2, import the correct Vte GIR version

2011-01-09  Martin Pitt  <martin@piware.de>

	gtk3widgets.py: Put back AptTerminal class, now that vte has a GTK3 GIR

2010-12-14  sebi@glatzor.de

	Merge lp:~mvo/aptdaemon/python-apt-0.8

2010-12-13  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: python-apt 0.8 does not call with percent argument anymore

2010-12-14  sebi@glatzor.de

	Push local changes

2010-12-14  sebi@glatzor.de

	Allow to change the packages property of a transaction. Set the packages correctly if installing localfiles.

2010-12-14  sebi@glatzor.de

	Fix two small errors: self.trans isn't used in simulate. Error messages have to be converted to string, since the replace method in the gettext call

2010-12-14  sebi@glatzor.de

	Run lintian as the user who initiated the transaction using sudo instead of root

2010-12-13  sebi@glatzor.de

	White space fixes

2010-12-10  sebi@glatzor.de

	Fix: Don't inject empty string in the packages and dependency property. We now set the signature.

2010-12-10  sebi@glatzor.de

	Update NEWS

2010-12-10  sebi@glatzor.de

	Convert properties to the documented dbus types before emitting: Dependencies, Packages, MetaData, ProgressDownload, UnattendedUpgrades.
	
	Fix documentation of ProgressDownload (missing status message) and typo in ConfigFileConflict.

2010-12-10  sebi@glatzor.de

	Add support for nested structures and aptdaemon properties to the type check.

2010-12-09  sebi@glatzor.de

	Convert values of transaction properties to the final dbus type in the setter calls.

2010-12-09  sebi@glatzor.de

	Add a test to check if the correct types are emitted by the dbus daemon

2010-12-09  sebi@glatzor.de

	Fix minor spelling error in documentation

2010-12-07  sebi@glatzor.de

	Push local changes

2010-12-07  sebi@glatzor.de

	Call the __init__ of gobject.GObject instead of the Gtk class one in subclasses

2010-12-07  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: do not raise if there is no aptdaemon translation for the given locale

2010-12-07  sebi@glatzor.de

	Merge GTK3 support. Thanks a lot Martin!

2010-12-06  Sebastian Heinlein  <devel@glatzor.de>

	Use new style classes for the GTK(2|3) demo class

2010-12-06  Sebastian Heinlein  <devel@glatzor.de>

	GTK3: call the __init__ method of the parent class instead the one of gobject.Gobject

2010-12-06  sebi@glatzor.de

	Merge with trunk

2010-12-02  Martin Pitt  <martin@piware.de>

	remove workaround for GNOME#636043, fixed now

2010-11-30  Martin Pitt  <martin@piware.de>

	Fix NEWS entry

2010-11-30  Martin Pitt  <martin@piware.de>

	gtk3widgets.py: Put back text tagging

2010-11-29  Martin Pitt  <martin@piware.de>

	gtk3widgets.py: Do not wrap title label in AptConfirmDialog, looks ugly

2010-11-29  Martin Pitt  <martin@piware.de>

	Port gtk3widgets.py and gtk3-demo.py to GTK-3.0 and gobject-introspection

2010-11-27  Martin Pitt  <martin@piware.de>

	create gtk3-demo.py and gtk3widgets.py as copies of gtk-demo.py and gtkwidgets.py (will be ported next)

2010-11-27  Martin Pitt  <martin@piware.de>

	core.py: Fix documentation of "packages" property

2010-12-04  sebi@glatzor.de

	Don't fail if an error string contains a % but doesn't make use of string replacements.

2010-12-04  sebi@glatzor.de

	Push local changes

2010-12-04  sebi@glatzor.de

	Fix transfering the force parameter in the install file call. Furthermore reuse could between simualte and the actual function.

2010-11-22  sebi@glatzor.de

	Store the exception in the error property of the transaction. It allows to easily raise it again.

2010-11-18  sebi@glatzor.de

	Release 0.40

2010-11-18  sebi@glatzor.de

	Push local changes

2010-11-18  sebi@glatzor.de

	Update NEWS

2010-10-26  sebi@glatzor.de

	Fix localtion of the lists lock

2010-10-22  sebi@glatzor.de

	Don't use unnamed arguments in string formating of ngettext calls. Thanks David!

2010-10-22  sebi@glatzor.de

	Use gettext domain in policy file

2010-10-22  sebi@glatzor.de

	Raise invalid package file error if the Installed-Size is invalid

2010-10-22  sebi@glatzor.de

	Add a force option to InstallFile which allows to install packages which violate the Debian/Ubuntu policy.

2010-10-22  sebi@glatzor.de

	Use lintian to check local deb file before installing

2010-10-22  sebi@glatzor.de

	Add two new error enums to handle unreadable and invalid package files

2010-10-21  sebi@glatzor.de

	Add a desktop file to show a nicer error message in apport

2010-10-21  sebi@glatzor.de

	Use the Crash type

2010-10-21  sebi@glatzor.de

	Remove passwords from the sources list in crash reports

2010-10-21  sebi@glatzor.de

	Send custom error reports to Launchpad with additional information about the transaction and the apt configuration.

2010-10-20  sebi@glatzor.de

	Fix more variable names

2010-10-20  sebi@glatzor.de

	Fix variable name

2010-10-20  sebi@glatzor.de

	Fix gettext call

2010-10-20  sebi@glatzor.de

	Code cleanup with a little help from my friend pylint

2010-10-20  sebi@glatzor.de

	More pylint clean ups

2010-10-20  sebi@glatzor.de

	More pylint fixes!

2010-10-20  sebi@glatzor.de

	A lot of code improvements and bug fixes thanks to pylint!

2010-10-19  sebi@glatzor.de

	Be more robust in the installed-size conversion

2010-10-19  sebi@glatzor.de

	Push local changes

2010-10-19  sebi@glatzor.de

	Fix thousands commas in debian packages.

2010-10-18  sebi@glatzor.de

	Add documentation for daemon properties

2010-10-08  sebi@glatzor.de

	Push local changes.

2010-10-08  sebi@glatzor.de

	Move plugin documentation to sphinx

2010-10-08  sebi@glatzor.de

	Add a new privilege to change the APT config

2010-10-07  sebi@glatzor.de

	Update NEWS

2010-10-07  sebi@glatzor.de

	Allow to change apt configuration files!

2010-10-07  sebi@glatzor.de

	Use the new ConfigWriter to allow persistent changes of the apt configuration!

2010-10-07  sebi@glatzor.de

	Convert the value to string, check if a value needs to be changed at all. Use logging for logging.

2010-10-07  sebi@glatzor.de

	Add a set_value mehtod to the configuration writer.

2010-10-07  sebi@glatzor.de

	Add test for the configuration parser

2010-10-07  sebi@glatzor.de

	Move parsing of the configuration file to a separate method. Use a Value class which stores the coordinates of the value in the config file.

2010-10-05  sebi@glatzor.de

	Add a basic APT configuration parser.

2010-10-01  sebi@glatzor.de

	Allow to read and change the popcon participation using a property of the org.debian.apt interface

2010-10-01  sebi@glatzor.de

	Move properties support to a more generic DBusObject class

2010-10-01  sebi@glatzor.de

	Push local changes

2010-10-01  sebi@glatzor.de

	Add properties to the org.debian.apt interface to configure apt peridoic

2010-09-30  sebi@glatzor.de

	Add a transaction to reconfigure already installed packages using debconf.

2010-09-29  sebi@glatzor.de

	Add a new transaction to clean up the downloaded package files.

2010-09-28  sebi@glatzor.de

	Remove the defer argument in the chained exampled

2010-09-28  sebi@glatzor.de

	Add documentation for the unauthenticated property

2010-09-28  sebi@glatzor.de

	Include the chained.py example in the documentation

2010-09-28  sebi@glatzor.de

	Merge changes from the stable branch

2010-09-28  sebi@glatzor.de

	release 0.33

2010-09-28  sebi@glatzor.de

	Merge latest translation updates! Thanks a lot to all the translators!

2010-09-28  sebi@glatzor.de

	Update documentation

2010-09-28  sebi@glatzor.de

	If the lists are locked by e.g. apt-get update raise an error lock error instead of a "programming error". The locking was reworked in the trunk branch.

2010-09-28  sebi@glatzor.de

	Push local changes

2010-09-28  sebi@glatzor.de

	Merge michaels changes with some small adoptions. Thanks a lot!

2010-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	make "unauthenticated" property fully work

2010-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	add unauthenticated property

2010-09-27  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/enums.py: show correct error text when a key can not be installed (copy/paste error in the source)

2010-09-27  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: do not crash if sys.stdin.encoding returns None

2010-09-18  sebi@glatzor.de

	Fix gettext string - thanks gabor!

2010-09-27  sebi@glatzor.de

	Push train ride work

2010-09-27  sebi@glatzor.de

	Fix property signatures in the documentation. minor improvements to the dbus doc

2010-09-27  sebi@glatzor.de

	Inject the properties into the xml introspection data

2010-09-27  sebi@glatzor.de

	Be more strict with the type of the properties

2010-09-25  sebi@glatzor.de

	Document the use of PolicyKit and properties. Many minor doc fixes.

2010-09-24  sebi@glatzor.de

	Push local changes

2010-09-24  sebi@glatzor.de

	More documentation fixes.

2010-09-24  sebi@glatzor.de

	Fix references in the documentation

2010-09-24  sebi@glatzor.de

	Improve setup.py

2010-09-22  sebi@glatzor.de

	More documentation ...

2010-09-21  sebi@glatzor.de

	only release all locks if one of them failed and not always.

2010-09-21  sebi@glatzor.de

	Upload today's train work

2010-09-21  sebi@glatzor.de

	Even more documentation in reStructuredText

2010-09-21  sebi@glatzor.de

	Copy a deb file which is located on a gvfs (FUSE) directory to /tmp before
	installing, since root is not allowed to access it.

2010-09-20  sebi@glatzor.de

	Rework locking: Lock the lists too. During an installation the lock on the archives/lists is still hold and we only unlock the dpkg status. This should fix races between apt-get and aptdaemon.

2010-09-17  sebi@glatzor.de

	Small refractoring: move the get_lock_fd method to the module level

2010-09-17  sebi@glatzor.de

	Refractor the lock module: move the lock holder name detection to a separate method

2010-09-17  sebi@glatzor.de

	Update NEWS

2010-09-17  sebi@glatzor.de

	Merge the auth-later branch which moves the authentication to the run method
	of the transaction. This allows to simulate transaction without having to authenticate.

2010-09-13  sebi@glatzor.de

	Set authentication and running state for the transaction

2010-09-13  sebi@glatzor.de

	Add a new status STATUS_AUTHENTICATING

2010-09-13  sebi@glatzor.de

	Convert CommitPackages to use the _create_trans helper

2010-09-13  sebi@glatzor.de

	Remove the action argument from the _create_trans helper

2010-09-13  sebi@glatzor.de

	Require authentication at running the transaction and not on creation

2010-09-13  sebi@glatzor.de

	Do not export a removed privilege

2010-09-17  sebi@glatzor.de

	Fix package argument for (Remove|Install|Upgrade)Packages

2010-09-17  sebi@glatzor.de

	Fixes to the async wait statement: It should only return the exit state instead of the transaction. Furthermore disconnect the signal handler for the finished signal if the transaction has been completed.

2010-09-17  sebi@glatzor.de

	Merge with 0.3 branch

2010-09-16  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: ensure that deferred_wait.callback() is called only once (the subsequent one will raise anyway). this can happen e.g. when AptClient.get_transaction() is called, this will sync the properties and lead to the "finished" signal getting emited again

2010-09-16  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: remove unneeded inline_callbacks decorator

2010-09-16  sebi@glatzor.de

	Allow to purge already removed packages which still have config files left on the system.

2010-09-16  sebi@glatzor.de

	Fix looping logic in the client to fix a combined wait and sync call e.g.
	
	client.install_packages(["angi"])

2010-09-15  sebi@glatzor.de

	Fix wrong wait default value for enable_distro_component - thanks mvo

2010-09-15  sebi@glatzor.de

	Set STATUS_WAITING if a transaction is queued.

2010-09-11  sebi@glatzor.de

	Merge with stable branch

2010-09-10  sebi@glatzor.de

	Fix local dpkg installation from unicode pathes by converting the strings to UTF-8

2010-09-10  sebi@glatzor.de

	Fix mapping of the Transaction error property. Set the default error code to "" since we now use strings as enums.

2010-09-10  sebi@glatzor.de

	Remove obsolete defer arguments

2010-09-10  sebi@glatzor.de

	Cherry pick automatic deferreds in the deferable decorator.

2010-09-09  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: allow enums.ROLE_ADD_VENDOR_KEY_FROM_KEYSERVER as well for INSTALL_PURCHASED_PACKAGES

2010-09-09  sebi@glatzor.de

	Fix a typo

2010-09-09  sebi@glatzor.de

	Fix queuing the after transactions

2010-09-09  sebi@glatzor.de

	defer: fix missing warnings import

2010-09-09  sebi@glatzor.de

	handle a non available traceback in the inline_callbacks

2010-09-09  sebi@glatzor.de

	Merge the auth me less branch!

2010-09-09  sebi@glatzor.de

	Fix allowing every non high level transaction.

2010-09-09  sebi@glatzor.de

	Add an example script

2010-09-09  sebi@glatzor.de

	Modify the auth-me-less patch to accept the new privileges

2010-09-09  sebi@glatzor.de

	Add new privileges install-packages-from-new-repo and install-purchased-packages

2010-09-09  sebi@glatzor.de

	Apply auth-me-less patch

2010-09-09  sebi@glatzor.de

	Revert some accidental changes to the policykit1 module

2010-09-09  sebi@glatzor.de

	Update NEWS

2010-09-09  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: if sources_list for a partial cache update is not a absolute path, use dir::etc::sourceparts

2010-09-09  sebi@glatzor.de

	Merge the update-cache-partially branch

2010-09-09  sebi@glatzor.de

	Update documentation

2010-09-09  sebi@glatzor.de

	Add the sources_list as an optional argument to client.AptClient.update_cache.

2010-09-09  sebi@glatzor.de

	Add a new method UpdateCachePartially() to the org.debian.apt D-Bus interface which allows to update only the repositories from a given sources.list snippet.

2010-09-09  sebi@glatzor.de

	Don't fail if LC_ALL cannot be unset

2010-09-08  sebi@glatzor.de

	There isn't any need to unset LC_ALL in the console client

2010-09-08  sebi@glatzor.de

	Don't set the textdomain in the gtkwidgets (this overwrite's the domain of
	the application importing the module). Thanks mvo! Fixes LP:#631675

2010-09-04  sebi@glatzor.de

	Cherry pick from stable branch

2010-09-04  sebi@glatzor.de

	Fix: Also add CommitPackages transactions to the limbo

2010-09-04  sebi@glatzor.de

	Fix a wrong reference to the defer module

2010-09-04  sebi@glatzor.de

	Fix: export new role enums and add documentation string

2010-09-04  sebi@glatzor.de

	Merge with stable and update documentation

2010-09-04  sebi@glatzor.de

	Update NEWS

2010-09-04  sebi@glatzor.de

	Merge with make-trans branch.

2010-09-04  sebi@glatzor.de

	Make AddRepository and EnableDistroComp transaction based

2010-09-04  sebi@glatzor.de

	Add a small example on how to use transaction chaining

2010-09-04  sebi@glatzor.de

	Merge stable branch and update documentation

2010-09-03  sebi@glatzor.de

	Push local merge of run_After branch

2010-09-03  sebi@glatzor.de

	Merge the run_after branch 

2010-09-03  sebi@glatzor.de

	Add a test for chaining of transactions

2010-09-03  sebi@glatzor.de

	Fix an arg rename 

2010-09-03  sebi@glatzor.de

	Add a new RunAfter method to the transaction which allows to chain transactions. It is only required to call the Run method on the first transaction in the chain. If a transaction in the chain fails all other one which follow will fail too with the new exit state EXIT_PREVIOUS_FAILED.

2010-09-03  sebi@glatzor.de

	Add a new exit state to indicate if a transaction failed because of a previously chained one.

2010-09-03  sebi@glatzor.de

	Enhance the DummyWorker to have transaction which fail or succeed automatically.
	Furthermore set the transaction of the worker to none after before emitting the transaction-done signal.

2010-09-03  sebi@glatzor.de

	Let the update_cache and upgrade_system transaction fail in the dummy worker for testing

2010-09-03  sebi@glatzor.de

	Add a limbo to keep track of not yet queued transactions

2010-09-03  sebi@glatzor.de

	Send the transaction object instead of only its tid to the queue after completing

2010-08-31  Michael Vogt  <michael.vogt@ubuntu.com>

	data/org.debian.apt.policy.in: add missing gettext prefixes

2010-09-04  sebi@glatzor.de

	New reStructuredText documentation for AptTransaction

2010-09-03  sebi@glatzor.de

	Fix spelling errors in aptdaemon.enums.__all__

2010-09-02  sebi@glatzor.de

	Add a short introduction to the usage of the client module

2010-09-02  sebi@glatzor.de

	Fix sections

2010-09-02  sebi@glatzor.de

	Strip white spaces from signal parameters

2010-09-02  sebi@glatzor.de

	Big beautification and documentation update of the enums module.

2010-09-01  sebi@glatzor.de

	Add a new signal directive to the sphinx documentation

2010-08-27  sebi@glatzor.de

	Cherry pick from stable

2010-08-27  sebi@glatzor.de

	Allow set the transaction of the AptCancelButton later

2010-08-26  sebi@glatzor.de

	Adapt docstrings to sphinx for the org.debian.apt interface

2010-08-26  sebi@glatzor.de

	Add a basic sphinx-based documentation

2010-08-25  sebi@glatzor.de

	Merge from stable branch

2010-08-25  sebi@glatzor.de

	Fix __all__ of lock

2010-08-25  sebi@glatzor.de

	Fix defer imports

2010-08-25  sebi@glatzor.de

	Remove defer module from aptdaemon project

2010-08-25  sebi@glatzor.de

	Merge changes from the stable branch

2010-08-25  sebi@glatzor.de

	Lock the cache before running fix incomplete install

2010-08-25  sebi@glatzor.de

	Move the locking to a separte module to get a SystemLock singelton. Furthermore use this to keep the apt system locked during downloading. Fixes LP #616470

2010-08-25  sebi@glatzor.de

	Try to fix an incomplete install instead of failing

2010-08-25  sebi@glatzor.de

	Use an unkown progress range for dpkg operations by default

2010-08-25  sebi@glatzor.de

	Handle unkown progress better. Emit an unkown progress for dpkg operations instead of 0

2010-08-25  sebi@glatzor.de

	Translate messages in the progress to the lang of the transaction

2010-08-25  sebi@glatzor.de

	Add plural gettext to the transaction

2010-08-25  sebi@glatzor.de

	Merge stable changes

2010-08-24  sebi@glatzor.de

	Give the user more time to authenticate - to be exactly a whole day - fixes LP#623424

2010-08-24  sebi@glatzor.de

	Actually only a fake _ function is required in worker. the translation itself is performed by the Transaction instance later on.

2010-08-24  sebi@glatzor.de

	A lot of work just to translate a short string.

2010-08-24  sebi@glatzor.de

	Forward port changes from the stable branch

2010-08-24  sebi@glatzor.de

	Merge local changes

2010-08-24  sebi@glatzor.de

	Don't construct a list in the arguments spec

2010-08-24  sebi@glatzor.de

	Call missed Exception.__init__ in LockFailedError

2010-08-24  sebi@glatzor.de

	Remove add-or-remove-vendor-key privilege and use change-repository instead

2010-08-24  sebi@glatzor.de

	Merge local changes

2010-08-24  sebi@glatzor.de

	Use with statement for the actiongroup

2010-08-23  sebi@glatzor.de

	Forward port changes from the stable branch

2010-08-23  sebi@glatzor.de

	Clean up news

2010-08-23  sebi@glatzor.de

	Add a small suggestion in the docs to use the system-wide proxy instead of set-proxy

2010-08-23  sebi@glatzor.de

	Don't reuse the user's proxy by default in the gtkwidgets. The system proxy should be used instead.

2010-08-23  sebi@glatzor.de

	Fix a small typo

2010-08-23  sebi@glatzor.de

	Adapt aptd to the changed privileges

2010-08-23  sebi@glatzor.de

	Allow every active user to update the cache

2010-08-23  sebi@glatzor.de

	Require to auth every time to cancel a foreign transaction

2010-08-23  sebi@glatzor.de

	Require an admin to authenticate every time a proxy should be set. If a user wants to use a custom proxy it should be set as the system wide.

2010-08-23  sebi@glatzor.de

	Remove upgrade-system privilege. upgrade-packages should be used instead

2010-08-23  sebi@glatzor.de

	Merge add- and remove-vendor-key privileges

2010-08-23  sebi@glatzor.de

	Remove install-packages, remove-packages and fix privilege in favour of the new install-or-remove-packages

2010-08-23  sebi@glatzor.de

	Merge changes from the high-level-pk branch without the high level logic :)

2010-08-22  sebi@glatzor.de

	Add a new high level privilege install-or-remove

2010-08-22  sebi@glatzor.de

	Make the AuthorizationFailed error an inheritance of NotAuthorizedError

2010-08-22  sebi@glatzor.de

	Raise an AuthorizationFailed exception in a non-interactive check if the 
	user could obtain the privilege in interactive-mode (is_challenged)

2010-08-22  sebi@glatzor.de

	Forward port changes from stable branch

2010-08-21  sebi@glatzor.de

	Workaround a bug in optparser which doesn't handle unicode/str correctly, see http://bugs.python.org/issue4391
	
	Fixes LP:#613147

2010-08-21  sebi@glatzor.de

	Unset LC_ALL to get translations from APT, fixes LP:#620978

2010-08-21  sebi@glatzor.de

	Cherry pick: fix translation of console client

2010-08-20  sebi@glatzor.de

	Cherry pick language fixes

2010-08-21  sebi@glatzor.de

	Allow to translate messages from aptdcon

2010-08-21  sebi@glatzor.de

	Allow to translate TransactionFailed errors in the worker by using a gettext translation instance for each transaction.

2010-08-20  sebi@glatzor.de

	Merge language fixes from mpt thanks!

2010-08-17  Matthew Paul Thomas  <mpt@canonical.com>

	Adds a missing word.

2010-08-17  Matthew Paul Thomas  <mpt@canonical.com>

	Alters PolicyKit text to put the task at the start of the sentence.

2010-08-17  Matthew Paul Thomas  <mpt@canonical.com>

	Miscellaneous spelling and grammar fixes.

2010-08-13  sebi@glatzor.de

	Fix the version splitting

2010-08-12  sebi@glatzor.de

	Merge version branch: Allow to select version of packages and downgrades.
	
	ATTENTION: API break in CommitPackages which now requires an additional downgrades argument.

2010-08-12  sebi@glatzor.de

	Add --details option to the console client to show version information of to be changed packages

2010-08-12  sebi@glatzor.de

	Fix not defined names

2010-08-12  sebi@glatzor.de

	Format version information in GTK confirmation dialog

2010-08-12  sebi@glatzor.de

	Break API and add a downgrade argument to CommitPackages.

2010-08-12  sebi@glatzor.de

	Show the version number in the dependencies

2010-08-12  sebi@glatzor.de

	Allow to specify the to be installed/removed version of package. The package
	name and version are separated by "=", e.g. "xterm=258-1". The CommitPackage 
	method allows to downgrade packages by reinstalling a package with a former 
	version number

2010-08-05  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: make sure we have a _signal_matcher before we delete it

2010-08-05  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: only check _cache if its not None (it will be None for transactions like add-vendor-key-from-keyserver

2010-07-21  sebi@glatzor.de

	Merge local changes

2010-07-20  sebi@glatzor.de

	Update NEWS

2010-07-20  sebi@glatzor.de

	Introduce a new privilege org.debian.apt.set-proxy which allows to specify a proxy server for a transaction. By default this is granted to every active user.

2010-07-18  sebi@glatzor.de

	Introduce errors.PolicyKitError which is used as a parent class for NotAuthorizedError and AuthorizationFailed. Use the new error class in the console client.

2010-07-17  sebi@glatzor.de

	Only Raise the AuthorizationError if the auth request was interactive

2010-07-17  sebi@glatzor.de

	Raise the AuthorizationFailed error if there isn't any polkit agent who could authenticate the user

2010-07-17  sebi@glatzor.de

	Fix a wrong variable reference - LP #602091

2010-07-17  sebi@glatzor.de

	Update translations from Launchpad

2010-07-17  sebi@glatzor.de

	Add a warning to convert_dbus_exception that it requires introspection.

2010-07-17  sebi@glatzor.de

	Don't use any introspection to detect the existance of the reply_handler and error_handler arguments in the decorated function. Nested decorators won't keep the calling signature.

2010-07-17  sebi@glatzor.de

	Rename deferable_function to deferable

2010-07-15  sebi@glatzor.de

	Fix missing textdomain in the gtkwidgets

2010-07-14  sebi@glatzor.de

	Only ask for confirmation of changes in the console client if there are any

2010-07-14  sebi@glatzor.de

	Add an error string for the new download enum from the previous commit

2010-07-14  sebi@glatzor.de

	Workaround a bug in python-apt: The StatTransientNetworkError status isn't
	mapped

2010-07-14  sebi@glatzor.de

	Fix a wrong reference in the previous commit

2010-07-14  sebi@glatzor.de

	Stop the idle watcher if the transaction has been simulated, to give the user enough time to review the changes.

2010-07-14  sebi@glatzor.de

	Don't try to simulate adding a key from a keyserver

2010-07-14  sebi@glatzor.de

	Unlock the cache before updating

2010-07-14  sebi@glatzor.de

	Update NEWS file

2010-07-14  sebi@glatzor.de

	More status and pulse information in the worker

2010-07-14  sebi@glatzor.de

	Merge an enhanced lp:~mvo/aptdaemon/download-vendor-keys

2010-07-14  sebi@glatzor.de

	Don't require a cache for the key handling

2010-07-14  sebi@glatzor.de

	Update man page of aptdcon

2010-07-14  sebi@glatzor.de

	Document the new method in the man page

2010-07-14  sebi@glatzor.de

	Emit status and pulse

2010-07-14  sebi@glatzor.de

	Show the stout of the apt-key call in the error message. Minor cleanups

2010-07-14  sebi@glatzor.de

	Merge from mvo

2010-06-24  Michael Vogt  <michael.vogt@ubuntu.com>

	move add_vendor_key_from_keyserver from gio to subprocess.call() because gio-http does not work with uid == 0

2010-06-24  Michael Vogt  <michael.vogt@ubuntu.com>

	add aptdcon support, fix typos

2010-06-24  Michael Vogt  <michael.vogt@ubuntu.com>

	add downlaod key feature using gio

2010-07-11  sebi@glatzor.de

	Fix imports in the defer test

2010-07-10  sebi@glatzor.de

	core: Fixes to the sender watch

2010-07-10  sebi@glatzor.de

	defer: Fix a typo

2010-07-10  sebi@glatzor.de

	defer: Fix deferrable decorator which required a set reply_handler and error_handler to be tiggered. But we only want to check if the function supports both arguments. Furthermore make sure to return a DeferredException to the error callback.

2010-07-10  sebi@glatzor.de

	client: Convert a DeferredException in the initialisation of the transaction to a normal exception

2010-07-09  sebi@glatzor.de

	Keep track of the initial client of a transaction

2010-07-09  sebi@glatzor.de

	Use a dist upgrade by default in the gtk demo

2010-07-09  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: EnableDistroComponent does not return a boolean value, if it fails it will raise a exception

2010-07-09  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/gtkwidgets.py: on a delete event (eg. from user pressing ESC) behave as if cancel was clicked

2010-07-06  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/test/test_defer.py: add tests for defer.inline_callbacks

2010-07-06  Michael Vogt  <michael.vogt@ubuntu.com>

	add README.tests and import unittest aptdaemon/test/test_defer.py

2010-06-08  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix incorrect argument passed in self._add_repository()

2010-06-08  sebi@glatzor.de

	Merge local changes

2010-06-08  sebi@glatzor.de

	Make sure that we only try to convert DBusExceptions

2010-06-08  sebi@glatzor.de

	Show uri of download as tooltip and improve the description

2010-06-08  sebi@glatzor.de

	Remove a temp debconf socket

2010-06-05  sebi@glatzor.de

	Merge local changes

2010-06-05  sebi@glatzor.de

	Import the whole defer module in the client

2010-06-05  sebi@glatzor.de

	Workaround a bug in python-apt which reports the partial download size as 0 in the done callback, see LP: #589941

2010-06-03  sebi@glatzor.de

	Remove an obsolete debugging statement

2010-06-03  sebi@glatzor.de

	Fix a missing enums prefix

2010-06-02  sebi@glatzor.de

	Use inline callbacks and Deferreds to reimplement the _run_transaction code in the AptClient. This gives us support for the wait arguement, simplifies code and reduces complexity.

2010-06-01  sebi@glatzor.de

	Replace * import of enums in the core

2010-05-31  sebi@glatzor.de

	Fix an enum typo

2010-05-31  sebi@glatzor.de

	Set the debconf frontend and http proxy in AptTransactionProgress.run instead
	of in AptTransactionProgress.set_transaction and make use of inline callbacks

2010-05-30  sebi@glatzor.de

	make the progress dialog only resizable if the expander is activated. try to restore the previous size of the expanded dialog

2010-05-30  sebi@glatzor.de

	Show the sub progress of the downloads in the gtkwidgets!

2010-05-27  sebi@glatzor.de

	Set the transaction status to STATUS_FINISHED before sending the Finished signal. The client stops listening after the finished signal and so missed the final status update.

2010-05-27  sebi@glatzor.de

	Fix typo in STATUS_DOWNLOADING

2010-05-27  sebi@glatzor.de

	Fix download size of an item by using the information from the worker

2010-05-27  sebi@glatzor.de

	Add support for download progress information

2010-05-27  sebi@glatzor.de

	Fix a type in the error handling of gtk-demo

2010-05-27  sebi@glatzor.de

	Fix arguments in the UpgradePackages call

2010-05-25  sebi@glatzor.de

	Fix a segfault in the error conversion.

2010-05-25  sebi@glatzor.de

	Allow to convert all client methods into Deferreds by using the deferable_function.

2010-05-25  sebi@glatzor.de

	Add deferable_function decorator which adds a defer attribute to the
	decorated function. If defer is True return a Deferred and map the 
	reply_handler and error_handler of the function to the callback and 
	errback of the Deferred. This allows to write deferred DBus clients easily.

2010-05-25  sebi@glatzor.de

	Allow to override the objects and icons shown in AptConfirmDialog

2010-05-23  sebi@glatzor.de

	Minor improvements to logging and loading of plugins

2010-05-22  sebi@glatzor.de

	Update NEWS

2010-05-22  sebi@glatzor.de

	Port and make use of Twisted inline_callbacks! This makes the async code much
	more readable.

2010-05-22  sebi@glatzor.de

	Use inline callbacks in policykit1

2010-05-22  sebi@glatzor.de

	Port the core daemon to inline callbacks

2010-05-22  sebi@glatzor.de

	Adapt the inline_callbacks to the stripped down deferreds

2010-05-22  sebi@glatzor.de

	Copy inline callbacks from twisted

2010-05-21  sebi@glatzor.de

	Add a plugin system! Allows to modify the marked changes of a transaction.

2010-05-16  sebi@glatzor.de

	Respect the MIT license of twisted

2010-05-14  sebi@glatzor.de

	Remove old future status files

2010-05-03  sebi@glatzor.de

	Add a new line between package name and summary in the confirm dialog

2010-05-03  sebi@glatzor.de

	Add a small script to prepare a new release

2010-05-03  sebi@glatzor.de

	Catch possilbe segfaults in the DiffView

2010-05-03  sebi@glatzor.de

	Also add all for gtkwidgets

2010-05-03  sebi@glatzor.de

	Use __all__ to get a more fine grained control of the api

2010-05-03  sebi@glatzor.de

	gtk-demo: Fix aborting of the transaction if it doesn't contain any dependencies 

2010-05-03  sebi@glatzor.de

	Fix a small bug in the client handling of the error property.

2010-05-02  sebi@glatzor.de

	Merge patch from Ubuntu which allows to EnableDistroComponents

2010-05-02  sebi@glatzor.de

	Add a new enum to mark a transaction as not yet finished

2010-05-02  sebi@glatzor.de

	Update man page of the transaction interface

2010-05-02  sebi@glatzor.de

	Fix a macro in the man page

2010-04-27  sebi@glatzor.de

	Let the Confirmation dialog accpet a gtk.gdk.Window as parent and fix some errors in the previous commit

2010-04-27  sebi@glatzor.de

	Fix an indention error

2010-04-27  sebi@glatzor.de

	Wording changes in the confirmation dialog

2010-04-27  sebi@glatzor.de

	Change the layout of the confirmation dialog depending on the number of packages to show to avoid useless white space.

2010-04-27  sebi@glatzor.de

	Use strings instead of integers for the Exit, Role, Status and Error properties and the Finished signal of the D-Bus Transaction.

2010-04-25  sebi@glatzor.de

	Change order of error and reply handler in AptTransaction.run to be in sync with the other moethods

2010-04-25  sebi@glatzor.de

	Fix args handling in the convert_dbus_exception callback: the args are a tuple
	and not a list. furthermore replace the value in the args instead of moving
	it to the kwargs (otherwise we would change the order of args)

2010-04-25  sebi@glatzor.de

	Improve error handling in the GTK demo

2010-04-25  sebi@glatzor.de

	Update NEWS

2010-04-25  sebi@glatzor.de

	Move policykit error into the errors module

2010-04-25  sebi@glatzor.de

	Fix error conversion

2010-04-25  sebi@glatzor.de

	Update api changes in the NEWS

2010-04-25  sebi@glatzor.de

	TransactioNFailed conversion fixes. You should not overwrite the __str__ of 
	a DBusException

2010-04-25  sebi@glatzor.de

	Use the convert_dbus_exception decorator in the client

2010-04-25  sebi@glatzor.de

	Rename AptdaemonError to AptDaemonError for readability reasons :)

2010-04-25  sebi@glatzor.de

	Remove client.AptDaemonError and use a errors.TransactionFailed error instead
	for the client.AptTransaction.error attribute

2010-04-25  sebi@glatzor.de

	Remove duplicated checks if the transaction was already running

2010-04-25  sebi@glatzor.de

	Rename APTDError to AptdaemonError for pure aesthetic reasons

2010-04-25  sebi@glatzor.de

	Add a decorator which converts DBus exception to native ones.

2010-04-24  sebi@glatzor.de

	Raise corectly in the simulate method

2010-04-23  sebi@glatzor.de

	Fix small typo

2010-04-23  sebi@glatzor.de

	Set the status of the transaction during simulate to STATUS_RESOLVING_DEP

2010-04-23  sebi@glatzor.de

	Only allow to call simulate on a not yet started transaction

2010-04-23  sebi@glatzor.de

	Merge the future status branch! This adds dependency handling by also taking queued transactions into accout to aptdaemon!

2010-04-23  sebi@glatzor.de

	Use the new simulate/confirm in the gtk demo

2010-04-23  sebi@glatzor.de

	Add a new AptConfirmDialog which allows to confirm the dependencies of a transaction

2010-04-20  sebi@glatzor.de

	Reuse the fixed DaemonOpenProgress again in the worker.

2010-04-20  sebi@glatzor.de

	Do not ierate on the main loop during sensible actions like opening the cache or forking. This could lead to a cache race with the transaction simulation

2010-04-20  sebi@glatzor.de

	Use the same order in Transaction.packages and Transaction.depends and extend depends accordingly. Use the new enums.

2010-04-20  sebi@glatzor.de

	Add an enum for the package group index in the Transaction.depends and Transaction.packages lists

2010-04-20  sebi@glatzor.de

	Worker: Check for skipped updates in the simulation

2010-04-19  sebi@glatzor.de

	Improve status messages in the console client

2010-04-18  sebi@glatzor.de

	WORKER: Fix local install by unlocking the cache

2010-04-18  sebi@glatzor.de

	Worker: Show the package file as install if not installed before and as reinstall in the other case

2010-04-18  sebi@glatzor.de

	Console: Fix packages order

2010-04-18  sebi@glatzor.de

	Core: Fix packages signal (copy paste error)

2010-04-18  sebi@glatzor.de

	Console: Fix transaction confirmation

2010-04-18  sebi@glatzor.de

	Console: Allow to install package files by --install PATH

2010-04-18  sebi@glatzor.de

	Worker: Add Support for simulating file installs

2010-04-18  sebi@glatzor.de

	CORE: Allow to modify the packages attribute of a transaction after creation

2010-04-18  sebi@glatzor.de

	CORE: set the idle timeout of a transaction to 5 minutes

2010-04-18  sebi@glatzor.de

	CORE: Use seconds for the timeout

2010-04-18  sebi@glatzor.de

	CONSOLE: Add full-upgrade and safe-upgrade options (see aptitude)

2010-04-18  sebi@glatzor.de

	CONSOLE: take APT::Get::Assume-Yes into account

2010-04-18  sebi@glatzor.de

	CONSOLE: make use of ngettext for the package listing

2010-04-18  sebi@glatzor.de

	Fix showing the download size

2010-04-18  sebi@glatzor.de

	Accept return as yes

2010-04-18  sebi@glatzor.de

	Remove some blank lines in the console client to safe screen space

2010-04-18  sebi@glatzor.de

	Do not show changes for some transaction roles, e.g. update cache

2010-04-18  sebi@glatzor.de

	Use the private transaction property

2010-04-18  sebi@glatzor.de

	Check if upgrades are already installed

2010-04-18  sebi@glatzor.de

	Allow to cancel the simulate call in the console client

2010-04-18  sebi@glatzor.de

	Make use of simulate in the console client!

2010-04-18  sebi@glatzor.de

	Add support for the server core and the client side!

2010-04-18  sebi@glatzor.de

	Add reinstalls to the dependencies

2010-04-18  sebi@glatzor.de

	A lot of fixes in the future status creation

2010-04-18  sebi@glatzor.de

	Future test improvements: The transaction requires now a tid, test if the future cache is broken, add some informative messages to the fails

2010-04-17  sebi@glatzor.de

	Check for broken packages and incomplete installations in simulate

2010-04-17  sebi@glatzor.de

	Add a small logging info

2010-04-17  sebi@glatzor.de

	Always open the cache for the processing with the original status file. Disable daemonopenprogress temporarily since there could be a race condition with simulate

2010-04-17  sebi@glatzor.de

	Move is_dpkg_journal_clean and lock_pkg_system to the AptWorker class to make sure that the original status file is used.

2010-04-17  sebi@glatzor.de

	Add a unit test for the simulating

2010-04-17  sebi@glatzor.de

	Add exception handling to simulate

2010-04-17  sebi@glatzor.de

	Fix _cache reference in the worker and rename simulate

2010-04-17  sebi@glatzor.de

	Fix an obsolete else statement

2010-04-17  sebi@glatzor.de

	Only handle package management transaction. Special case for upgrade system

2010-04-17  sebi@glatzor.de

	Add a simulate transaction method to the worker

2010-04-23  sebi@glatzor.de

	Fix a small typo

2010-04-17  sebi@glatzor.de

	Fix emitting of finished signal in dummy worker

2010-04-16  sebi@glatzor.de

	Do not allow to remove aptdaemon, essential or required packages.

2010-04-01  sebi@glatzor.de

	Allow to specify authorization flags to policykit

2010-04-01  sebi@glatzor.de

	Add a better description for the unkown error

2010-04-01  sebi@glatzor.de

	Merge release update of 0.20

2010-04-01  sebi@glatzor.de

	Merge translation updates

2010-04-01  sebi@glatzor.de

	Cherry pick error handling fix in the client

2010-04-01  sebi@glatzor.de

	Push local changes

2010-04-01  sebi@glatzor.de

	Fix a typo. Thanks to Dave Walker.

2010-03-31  Michael Vogt  <michael.vogt@ubuntu.com>

	cherry pick fix from the 0.2.x branch for incorrect return value of AddRepository

2010-03-30  sebi@glatzor.de

	Push local changes

2010-03-30  sebi@glatzor.de

	Merge proposed changes from Julian Andres Klode to finalize API transition

2010-03-29  sebi@glatzor.de

	Match for the Template and not the Name

2010-03-26  sebi@glatzor.de

	Allow to specify custom input values for debconf tests

2010-03-26  sebi@glatzor.de

	Fix some minor issues in the previous commit

2010-03-26  sebi@glatzor.de

	Make the debconf test helper methods more general and use gobject.spawn_async instead of python's subprocess. It seems that child_add_watch won't be called in some rare situations.

2010-03-24  sebi@glatzor.de

	Add tests for serial and concurrent debconf operations to catch races.

2010-03-24  sebi@glatzor.de

	Add a unittest for the debconf forwarding

2010-03-21  sebi@glatzor.de

	Debconf Handling: Run the io handlers as long as possible and close the stdin/out and connection in the corresponding io handlers instead of in a central hangup script. Furthermore delay a new connection until the former has been closed.

2010-03-17  sebi@glatzor.de

	Fix a typo in the recover progress

2010-03-17  sebi@glatzor.de

	Raise prioriy of the _hangup callback. This should make sure it's executed before accept_connection

2010-03-17  sebi@glatzor.de

	Minor code clean up in the debcon module

2010-03-17  sebi@glatzor.de

	Stop reading from the debconf socket after closing it.

2010-03-17  sebi@glatzor.de

	Merge dpkg journal check fixes. Thanks MVO!

2010-03-17  sebi@glatzor.de

	Use str.isdigit() instead of a regex

2010-03-16  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/test/test_dpkg_journal.py: improve is_dpkg_journal_clean() tests

2010-03-16  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: make dpkg journal test match the test in apt

2010-02-21  sebi@glatzor.de

	Merge local changes

2010-02-21  sebi@glatzor.de

	Cherry pick documentation updates from main

2010-02-28  sebi@glatzor.de

	Do not try to process a package management task which doesn't contain any
	changes

2010-02-21  sebi@glatzor.de

	Update documentation of the Python client module

2010-02-10  Michael Vogt  <michael.vogt@ubuntu.com>

	merge typo fix from 0.2.x

2010-02-10  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix typo

2010-02-10  sebi@glatzor.de

	Port to the latest python-apt 0.7.9x API

2010-01-13  sebi@glatzor.de

	Allow to remove obsoleted automatic depedencies, by introducing a new transaction property RemoveObsoletedDepends. Thanks to mvo for the initial work!

2010-01-13  sebi@glatzor.de

	Update NEWS file

2010-01-13  sebi@glatzor.de

	Show the output of the dpkg --configure -a call also in the error message after a failed transaction.

2010-01-08  sebi@glatzor.de

	Some transaction don't require a consistent dep cache

2010-01-08  sebi@glatzor.de

	Update man pages

2010-01-08  sebi@glatzor.de

	Fix cache unlocking

2010-01-08  sebi@glatzor.de

	Add a FixBrokenDepends method

2010-01-08  sebi@glatzor.de

	Add a FixIncompleteInstall method to run dpkg --configure -a and fix the unlocking of the cache.

2010-01-08  sebi@glatzor.de

	Add a new polkit action to fix apt

2010-01-08  sebi@glatzor.de

	Rename enum ERROR_INCOMPLETE_INSTALLS to ERROR_INCOMPLETE_INSTALL and add a new role enum ROLE_FIX_INCOMPLETE_INSTALL

2010-01-08  sebi@glatzor.de

	Move the locking and checking of the dpkg journal to separate standalone methods.

2010-01-08  sebi@glatzor.de

	Add a new error enum for incomplete dpkg configure runs.

2010-01-07  sebi@glatzor.de

	Use a shorter waiting status message and show the package manager we are waiting for if the lock cannot be obtained. Fixes LP:444261 

2009-12-16  sebi@glatzor.de

	Push local changes

2009-12-16  sebi@glatzor.de

	Add an ored true to the dbus send hook for the post cache update

2009-12-15  sebi@glatzor.de

	Add a new set of strings to get a failed message by role

2009-12-14  sebi@glatzor.de

	Allow to call the run method of the AptProgressDialog async

2009-12-14  sebi@glatzor.de

	Add a finished signal to AptProgressDialog

2009-12-13  sebi@glatzor.de

	Add failed downloads to the exception and and don't fail on not available Packages.diffs

2009-12-13  sebi@glatzor.de

	Rename aptdaemon-setup icon to aptdaemon-working and use it as a general fallback icon

2009-12-12  sebi@glatzor.de

	Fix handling of changed ProgressDetails in the client

2009-12-12  sebi@glatzor.de

	Use the new raiseOnError paramter of apt.Cache.update()

2009-12-12  sebi@glatzor.de

	Don't fail on temporily not available master fd

2009-12-12  sebi@glatzor.de

	Fix handling of reposnse from conflict dialog 

2009-12-12  sebi@glatzor.de

	Use a shorter message in the conflict dialog and change button order

2009-12-12  sebi@glatzor.de

	minor improvements to the medium change dialog. 

2009-12-12  sebi@glatzor.de

	Add an enahnced TextView which shows the changes between two files and a dialog with an expander. Make use of both in the config file conflict dialog.

2009-12-12  sebi@glatzor.de

	Fix a typo in the logging of ProvideMedium

2009-12-12  sebi@glatzor.de

	Speed up dummy transaction

2009-12-12  sebi@glatzor.de

	Add a config file prompt and a medium change request to the dummy installation

2009-12-11  sebi@glatzor.de

	Fix: Sync all properties - even empty strings and zeros

2009-12-11  sebi@glatzor.de

	There isn't any need to wrap the sync call in get_transaction since it already returns the transaction instance

2009-12-11  sebi@glatzor.de

	Fix use of lambda in async client methods

2009-12-10  sebi@glatzor.de

	Allow to store meta data in the transaction

2009-12-09  sebi@glatzor.de

	Emit some status messages in the dummy worker and speed up the processing

2009-12-09  sebi@glatzor.de

	Add --dummy command line option which only shows a progress for the transaction without applying any changes

2009-12-09  sebi@glatzor.de

	Fix a typo

2009-12-09  sebi@glatzor.de

	Allow to call get_transaction async

2009-12-08  sebi@glatzor.de

	Fix transaction without any package changes

2009-12-08  sebi@glatzor.de

	Push local changes

2009-12-08  sebi@glatzor.de

	Update NEWS

2009-12-08  sebi@glatzor.de

	Make the packages property of the transaction public.

2009-12-08  sebi@glatzor.de

	Fine grain logging levels. Log INFO to syslog

2009-12-07  sebi@glatzor.de

	Don't segfault on not supported locale

2009-12-07  sebi@glatzor.de

	Man page updates

2009-12-07  sebi@glatzor.de

	Install D-Bus interface documentation

2009-12-07  sebi@glatzor.de

	Add a man page for the transaction interface

2009-12-07  sebi@glatzor.de

	Merge local changes

2009-12-07  sebi@glatzor.de

	Update man page of main interface

2009-12-07  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: fix minor typo

2009-12-07  sebi@glatzor.de

	Add a small sleep time after quiting an already running daemon to give D-Bus enough time to clean up the taken D-Bus names.

2009-12-07  sebi@glatzor.de

	Update the NEWS

2009-12-07  sebi@glatzor.de

	Rename aptdaemon.client.Transaction.detach() to disconnect

2009-12-07  sebi@glatzor.de

	Also remove attach method from the client side

2009-12-07  sebi@glatzor.de

	Remove deprecated Attach method on the Transaction interface. GetAll properties should be used instead. The sync method of the client transaction does a better job.

2009-12-07  sebi@glatzor.de

	handle properties more carefully on the client side. Handle invalid/cleared values in Finished, ConfigFileConflcit and RequiredMedium. Fix emitting of http-propxy-changed-signal

2009-12-07  sebi@glatzor.de

	Use sane defaults for the transaction properties

2009-12-07  sebi@glatzor.de

	Update NEWS

2009-12-07  sebi@glatzor.de

	Missed a renamed method in the gtkwidgets

2009-12-07  sebi@glatzor.de

	Rename config file prompt to config file conflict and answer to resolve/resolution

2009-12-07  sebi@glatzor.de

	The role of the transaction is now known on creation time. So show it early in the gtk widgets

2009-12-07  sebi@glatzor.de

	Shutdown the console client if there isn't any transaction on cancel

2009-12-07  sebi@glatzor.de

	Paradigma change: instead of requesting a transaction and calling a package mangement task, the action is called on the daemon interface which returns a not yet running transaction. After setting up the client has to call the new Run method of the transaction.

2009-12-06  sebi@glatzor.de

	Add a man page for the dbus interface

2009-12-05  sebi@glatzor.de

	Remove depreacted signals

2009-12-05  sebi@glatzor.de

	Fix man page path

2009-12-05  sebi@glatzor.de

	Fix a comma

2009-12-05  sebi@glatzor.de

	Fix a missing bracket

2009-12-05  sebi@glatzor.de

	Merge local changes

2009-12-05  sebi@glatzor.de

	Install man pages

2009-12-05  sebi@glatzor.de

	Add man pages for aptd and aptdcon

2009-12-04  sebi@glatzor.de

	Fix a typo

2009-12-04  sebi@glatzor.de

	Merge http proxy support from mvo with some small changes. Thanks mvo!

2009-12-04  sebi@glatzor.de

	Merge http proxy support from mvo with some small changes. Thanks!

2009-10-09  Michael Vogt  <michael.vogt@ubuntu.com>

	* aptdaemon/client.py:
	- add set_http_proxy() method to the transaction
	* aptdaemon/core.py:
	- add new dbus Property "HttpProxy"
	* aptdaemon/gtkwidgets.py:
	- setup http proxy from gconf automatically
	* data/org.debian.apt.policy.in:
	- change from "allow_active" "yes" to "auth_admin_keep"
	The reasons is that now that a unpriviledged user can
	set a proxy this may leak passwords from sources.list
	(deb http://user:pass@machine/) when a rouge proxy is set

2009-12-03  sebi@glatzor.de

	Remove bzr-buildpackage configuration

2009-12-03  sebi@glatzor.de

	Rename TerminalAttachable to TerminalAttached

2009-12-03  sebi@glatzor.de

	Update TODO

2009-12-03  sebi@glatzor.de

	Merge properties branch: The API changes are documented in the NEWS file

2009-12-03  sebi@glatzor.de

	Add a NEWS file which contains a description of the latest API changes

2009-12-03  sebi@glatzor.de

	Add a TODO file

2009-12-03  sebi@glatzor.de

	Convert PyGTK demo to latest API

2009-12-03  sebi@glatzor.de

	Fix a variable typo

2009-12-03  sebi@glatzor.de

	Convert gtkwidgets to latest API

2009-12-03  sebi@glatzor.de

	Code clean up in the console module

2009-12-03  sebi@glatzor.de

	Code clean up of the client module

2009-12-03  sebi@glatzor.de

	Convert console application to latest API

2009-12-03  sebi@glatzor.de

	Add true async support to all AptDaemonClient and Transaction methods by adding
	reply_handler and error_handler. Furthermore replace the exit_handler by a 
	not yet implemented wait argument.

2009-12-02  sebi@glatzor.de

	Use a tuple instead of a list for dbus variant

2009-12-02  sebi@glatzor.de

	Export locale, terminal, allow_unauthenticated and debconf socket to the
	Transaction properties

2009-12-02  sebi@glatzor.de

	Port console client to the new API

2009-12-02  sebi@glatzor.de

	Fix TerminalAttachable signal in the client

2009-12-02  sebi@glatzor.de

	Only emit the new value in PropertyChanged

2009-12-02  sebi@glatzor.de

	Adopt Cancellable and TerminalAttachable in the client

2009-12-02  sebi@glatzor.de

	Rename transaction property AllowCancel to Cancellable and AllowTerminal to 
	TerminalAttachable

2009-12-02  sebi@glatzor.de

	Remove Message concept. It is not up to the daemon to judge if a problem is critical or not. It is up to the client to decide if a not uptodate system is critical.

2009-12-02  sebi@glatzor.de

	Only listen to the PropertyChanged signal of the transaction interface

2009-12-01  sebi@glatzor.de

	Make all properties available through the dbus properties interface, rename ExitCode to ExitState and ErrorCode to Error

2009-12-01  sebi@glatzor.de

	Add an additional PropertyChanged signal to most signals

2009-12-01  sebi@glatzor.de

	Small fix setting of role

2009-12-01  sebi@glatzor.de

	New line fixes

2009-12-01  sebi@glatzor.de

	Add a PropertyChanged signal to the transaction interface

2009-11-30  sebi@glatzor.de

	Import latest translations from Ubuntu

2009-11-30  sebi@glatzor.de

	Fix detection of running D-Bus system daemon in the apt update hook

2009-11-30  sebi@glatzor.de

	Apply Julian's fix for Python 2.5 support. Thanks.

2009-11-18  sebi@glatzor.de

	Fix path in the service file

2009-10-14  sebi@glatzor.de

	Fix po file naming

2009-10-13  sebi@glatzor.de

	Trival coding style fix

2009-10-13  sebi@glatzor.de

	Import translations from Launchpad - fixes LP #445603 

2009-10-13  sebi@glatzor.de

	If the cache refresh was cancelled do not show a download failed error - fixes LP #440941

2009-10-12  sebi@glatzor.de

	Merge fix for killing randomly user processes on long taking dpkg operations - fixes LP #446534 

2009-10-12  sebi@glatzor.de

	Make sure that we only start killing processes if the child pid is set

2009-10-12  sebi@glatzor.de

	Set the child pid correctly - LP #446534 

2009-10-12  sebi@glatzor.de

	Update last activity - partitally fixes LP #446534 

2009-10-09  sebi@glatzor.de

	Merge latest changes from mvo

2009-10-06  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: move default log level for _syslog_handler into the try: except: block

2009-10-06  Michael Vogt  <michael.vogt@ubuntu.com>

	merged from trunk/

2009-10-06  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: try locking the download dir too in _lock_cache

2009-10-04  sebi@glatzor.de

	Fix a copy%paste error

2009-10-04  sebi@glatzor.de

	Merge with mvo's allow unauthencticated branch! Thanks a lot!

2009-10-04  sebi@glatzor.de

	Use a list instead of a set to store not authenticated packages

2009-10-04  sebi@glatzor.de

	Replace UnauthenticatedPackageError by a transaction error

2009-10-04  sebi@glatzor.de

	Merge with main

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	add AllowUnauthenticated property

2009-10-04  sebi@glatzor.de

	Fix handling of cancelled transactions

2009-10-04  sebi@glatzor.de

	Handle failed dependency resolution and make sure all requested package operations are performed by protecting the corresponding packages

2009-10-04  sebi@glatzor.de

	Do not make any assumptions about the user interface in the error enum

2009-10-04  sebi@glatzor.de

	Rename ERROR_DEPENDENCIES_BROKEN to ERROR_DEP_RESOLUTION_FAILED

2009-10-04  sebi@glatzor.de

	Introduce a new error enum: ERROR_CACHE_BROKEN, since this should be handled separately from broken dependencies during e.g. an installation

2009-10-04  sebi@glatzor.de

	If packages are broken attach the names to the error message. Furthermore make use of new apt.cache.Cache.broken_count

2009-10-04  sebi@glatzor.de

	Make use of apt.cache.Cache.actiongroup to avoid calling the private _depcache

2009-10-04  sebi@glatzor.de

	Replace the nested main loop in the AptProgressDialog by an iteration on the default context. Furthermore call the Transaction.run method async to avoid blocking the user interface - fixes LP #426720

2009-10-04  sebi@glatzor.de

	Allow the Transaction.run client method to be called async. This currently results in a small mess - but retains API compatibility

2009-10-04  sebi@glatzor.de

	Add the deprecated decorator from the python decorator library

2009-10-03  sebi@glatzor.de

	Don't ask for upgrade privilege if the user already has got the install privilge in CommitPackages - fixes LP #437094

2009-10-03  sebi@glatzor.de

	Trivial line length fix

2009-10-03  sebi@glatzor.de

	Catch authorization errors in the console client and print an error message instead of crashing

2009-10-03  sebi@glatzor.de

	Merge a lot of bug fixes from mvo's branch. Thanks a lot.

2009-10-02  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/debconf.py: fix race in _accept_connection() LP: #432607

2009-10-02  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: add the _owner_watcher earlier to avoid crash if no more match rules from dbus can be used

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/enums.py: do not modify gettext.textdomain(), use dgettext("aptdaemon", msg) instead (LP: #438077)

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/worker.py: check the apt download dir lock in _watch_lock to avoid possible race with apt-get LP: #437709

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: fix crash in error handling (LP: #436808)

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: fix crash in INSTALL_TIMEOUT handling (LP: #430860)

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/gtkwidgets.py: make the dialog resizable and add bigger default size

2009-09-28  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: add _remove_from_connection_no_raise() that will discard errors if the object is not exported

2009-09-26  sebi@glatzor.de

	Do not fail on a not running syslog daemon

2009-09-22  sebi@glatzor.de

	Merge logging branch

2009-09-22  sebi@glatzor.de

	Buffer the output from dpkg and attach it to an error message

2009-09-22  sebi@glatzor.de

	Catch an exception in the forked child

2009-09-22  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: allow reseting of Transaction.config_file_prompt without triggering a signal

2009-09-22  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/progress.py: remove setting --force-confdef, --force-confold

2009-09-22  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: errors.AptDError got renamed to errors.APTDError, update the code

2009-09-22  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: fix order of the arguments to match what core.py expectes

2009-09-21  sebi@glatzor.de

	Allow to cancel a running transaction in the console client - fixes LP# 424436

2009-09-21  sebi@glatzor.de

	Lower the log level of the "Shutdown was requested message" to not confuse users - se LP #432937

2009-09-21  sebi@glatzor.de

	Only send the dbus chace changed signal in the apt update post hook if the system dbus is running. Fixes LP #432310

2009-09-18  sebi@glatzor.de

	Merge logging branch

2009-09-18  sebi@glatzor.de

	Don't raise exceptions in the progress - fixes LP #428964

2009-09-18  sebi@glatzor.de

	Merge bug fixes for the forking

2009-09-17  sebi@glatzor.de

	Do not sent log messages to the child console

2009-09-17  sebi@glatzor.de

	Copy_io should not fail if the target is not available. This allows to support crashed clients

2009-09-17  sebi@glatzor.de

	Return the correct exit status from the install progress

2009-09-17  sebi@glatzor.de

	Use os.forkpty instead the home brown child pty handling

2009-09-18  sebi@glatzor.de

	Merge config file conflicts support from the lovely mvo! Thanks.

2009-09-18  sebi@glatzor.de

	Handle config file prompt answers on the terminal

2009-09-18  sebi@glatzor.de

	Update the gtkwidgets to the latest api and use nicer buttons

2009-09-18  sebi@glatzor.de

	Update client to config file API change

2009-09-18  sebi@glatzor.de

	Only accept keep and replace values for the config file answer. Do not write the pure user string to the terminal

2009-09-18  sebi@glatzor.de

	Perform some checks in the ConfigFilePromptAnswer

2009-09-17  Michael Vogt  <michael.vogt@ubuntu.com>

	add configuration file prompt handling

2009-09-17  sebi@glatzor.de

	Merge fixes from mvo

2009-09-17  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix duplicated check for foreign user

2009-09-17  Michael Vogt  <michael.vogt@ubuntu.com>

	remove transaction cache (glatzor did a better one)

2009-09-17  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: add missing MediumRequired signal connect

2009-09-17  Michael Vogt  <michael.vogt@ubuntu.com>

	merge from trunk

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	merged from trunk

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	revert r218

2009-08-20  Michael Vogt  <michael.vogt@ubuntu.com>

	merge from trunk

2009-08-20  Michael Vogt  <michael.vogt@ubuntu.com>

	use utf8_strings by default

2009-08-19  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: add dettach method and disconnect from the bus when a transaction is finished

2009-08-19  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: add (simple) TransactionCache

2009-09-17  sebi@glatzor.de

	Introduce a new ERROR_PACKAGE_MANAGER_FAILED enum

2009-09-17  sebi@glatzor.de

	Use utf-8 strings in the client side signal matcher

2009-08-29  devel@glatzor.de

	Push local changes

2009-08-29  devel@glatzor.de

	Whitespace and tabs clean up

2009-08-29  devel@glatzor.de

	Set the term env var to "linux" to satisfy less.

2009-08-29  devel@glatzor.de

	Instead of failing on a locked dpkg wait until it is unlocked. Thanks mvo for this suggestion.

2009-08-29  devel@glatzor.de

	Catch an exception if the icon theme is None

2009-08-27  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/client.py: fixup arguments for the dbus call if a empty components list is used

2009-08-27  sebi@glatzor.de

	Merge AddRepository feature from Michael Vogt. Thanks a lot!

2009-08-26  devel@glatzor.de

	Use the debline as argument for the add-repository option. Add a sanity check by using SourceEntry. Add an extra option to specify an alternative sources.list.d file.

2009-08-27  sebi@glatzor.de

	Minor code cleanup

2009-08-27  sebi@glatzor.de

	Fix GetTrustedVendorKeys call in the client

2009-08-27  sebi@glatzor.de

	Replace the add-repository privilege by a more general change-repository one

2009-08-27  sebi@glatzor.de

	Merge mvo's add repository branch

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix writing the sourcesfile 

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	* do not use a debline as argument for AddRepository() but use
	a argument list like (type, uri, dist, comps, comment, sourcesfile)
	instead

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	* aptdaemon/core.py:
	- raise Exceptions on error instead of returning True, False
	* aptdaemon/errors.py:
	- add RepositoryAlreadyExistsError, RepositoryInvalidError

2009-08-26  Michael Vogt  <michael.vogt@ubuntu.com>

	add new add-repository method

2009-08-27  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/core.py: fix incorrect access to self.work (its now self.queue.worker) LP: #403467

2009-08-21  sebi@glatzor.de

	Fix upgrade in the console client

2009-08-20  devel@glatzor.de

	Stop monitoring the transaction on the D-Bus if it is finished

2009-08-20  devel@glatzor.de

	Cache transaction by their tid using a metaclass

2009-08-20  sebi@glatzor.de

	Merge local changes

2009-08-19  devel@glatzor.de

	Rename INACTIVITY_TIMEOUT and INACTIVITY_CHECK_INTERVALL to APTDAEMON_IDLE_*. Makes the difference to the transaction timeouts clearer

2009-08-19  devel@glatzor.de

	Remove transactions from the bus idling after creation or after beeing done

2009-08-02  devel@glatzor.de

	Push local changes: mainly PolicyKit-1 support

2009-08-02  devel@glatzor.de

	Rename CreateTransaction to RequestTransaction

2009-08-02  devel@glatzor.de

	Allow the client to decide if the methods should be run sync or async

2009-08-02  devel@glatzor.de

	Lower the policykit default timeout to 300 seconds

2009-08-02  devel@glatzor.de

	Merge PolicyKit1 branch

2009-08-02  devel@glatzor.de

	Remove never used import of policykit in gtkwidgets

2009-08-02  devel@glatzor.de

	Remove policykit calls from gtk example

2009-08-02  devel@glatzor.de

	Update setuptools

2009-08-02  devel@glatzor.de

	Use the PolicyKit-1 D-Bus API in the policykit module

2009-08-02  devel@glatzor.de

	Remove old policykit

2009-08-02  devel@glatzor.de

	Make use of new policykit api in the core daemon

2009-08-02  devel@glatzor.de

	Update policy definitions

2009-08-02  devel@glatzor.de

	PolicyKit wrapper isn't required anymore in the client

2009-07-31  devel@glatzor.de

	Use policykit1 action definitions

2009-07-31  devel@glatzor.de

	Convert to get_uid_from_dbus_name and modify _check_foreign_user

2009-07-31  devel@glatzor.de

	Start using policykit1 for CreateTransaction and only store the uid of the initial sender of the transaction.

2009-07-31  devel@glatzor.de

	We only need one D-Bus call now for PolicyKit!

2009-07-31  devel@glatzor.de

	Start on PolicyKit1 support using the deferreds only

2009-07-30  sebi@glatzor.de

	Merge local changes: Mainly replacing Twisted dependency with a local
	stripped down defer mechanism

2009-07-30  sebi@glatzor.de

	Add policykit package to setup.py

2009-07-30  sebi@glatzor.de

	Merge the gobject branch: Add a stripped down version of Twisted's Deferreds
	and replace all depedencies on Twisted.

2009-07-30  sebi@glatzor.de

	Add some ascii art to the documentation

2009-07-30  sebi@glatzor.de

	make use of the new _add_callbacks

2009-07-30  sebi@glatzor.de

	No need to iterate the gobject context in the test anymore

2009-07-30  sebi@glatzor.de

	Rename test for defer and replace some leftovers

2009-07-30  sebi@glatzor.de

	Remove some gdefer remainings in the doctests

2009-07-30  sebi@glatzor.de

	Remove all references to Twisted methods. Rename gdefer to defer and policykit.gdeferred to policykit.deferred. Call policykit.deferred directly without using the defer.defer wrapper.

2009-07-30  sebi@glatzor.de

	Port all Methods from twisted to gdefer

2009-07-30  sebi@glatzor.de

	Gdefer now is really a simplifed Twisted defer: Don't use gobject.idle_add
	anymore. Add pairs of callback/errback to follow the chain processing of
	Twisted.

2009-07-30  sebi@glatzor.de

	Trivial documentation fixes

2009-07-30  sebi@glatzor.de

	Convert Get and Set to gdefer

2009-07-30  sebi@glatzor.de

	Conver UpdateCache to gdefer

2009-07-29  sebi@glatzor.de

	Convert CommitPackages to gdefer

2009-07-29  sebi@glatzor.de

	Convert all policykit methods to the latest gdefer API

2009-07-29  sebi@glatzor.de

	Fix defer: make use of DeferredException. Fix dbus decorator: raise exception
	after calling the dbus callback to ensure that the deferred does not continue
	processing the callback chain

2009-07-29  sebi@glatzor.de

	Introduce DeferredException(s) and a lot more doctests

2009-07-29  sebi@glatzor.de

	Do not use errbacks in the chained callbacks test

2009-07-28  sebi@glatzor.de

	Merge local changes: Documentation and tests for gdefer

2009-07-28  sebi@glatzor.de

	Use nose as test suite and enable doctests

2009-07-28  sebi@glatzor.de

	Remove old test folder

2009-07-28  sebi@glatzor.de

	Rename gdefer test module

2009-07-28  sebi@glatzor.de

	Add documentation and doctests to gdefer

2009-07-27  sebi@glatzor.de

	Add Unittests for gdefer

2009-07-23  sebi@glatzor.de

	Adapt GetTrustedVendorKeys to the new gdefer

2009-07-23  sebi@glatzor.de

	Add a policykit module with gdefer support (Currently only is_authorized_sender is adapted)

2009-07-23  sebi@glatzor.de

	Add async Deferreds inspired by Twisted framework but using gobject directly

2009-07-23  sebi@glatzor.de

	Adapt rename of twisted policykit module

2009-07-23  sebi@glatzor.de

	Rename twisted module of policykit to tdeferred

2009-07-23  sebi@glatzor.de

	Rename dbus_deferred_method to dbus_twisted_method

2009-07-23  sebi@glatzor.de

	Rename policykit.deferred to policykit.twisted

2009-07-23  sebi@glatzor.de

	Fix a typo

2009-07-22  sebi@glatzor.de

	Revert the easy one deferred Set/Get methods 

2009-07-22  sebi@glatzor.de

	Use the gobject main loop instead of the reactor

2009-07-22  sebi@glatzor.de

	Add Vendor prefix to all key handling names

2009-07-22  sebi@glatzor.de

	Merge from Olof Kindgren: Support for trusted repo keys handling. Thanks a lot.

2009-07-22  sebi@glatzor.de

	Use deferreds in the key operations

2009-07-22  sebi@glatzor.de

	Call AptAuth directly instead of through the SoftwareProperties layer

2009-07-22  sebi@glatzor.de

	Merge main

2009-07-09  Olof Kindgren  <olof@ubuntu-vb>

	Fix some typos

2009-07-09  Olof Kindgren  <olof@ubuntu-vb>

	RemoveKey implemented. Typos fixed

2009-07-09  Olof Kindgren  <olof@ubuntu-vb>

	Merged from main branch

2009-07-09  Olof Kindgren  <olof@ubuntu-vb>

	Completed GetTrustedKeys (was ListTrustedKeys), code cleanup, restored i18n hints in policyfile

2009-07-09  Olof Kindgren  <olof@ubuntu-vb>

	Check for auth in ListTustedKeys

2009-07-08  Olof Kindgren  <olof@lammy>

	Added ListTrustedKeys without checking for authorization

2009-07-08  Olof Kindgren  <olof@ubuntu-vb>

	Error handling for add key. rough idea for list keys (if it is to be in daemon)

2009-07-08  Olof Kindgren  <olof@ubuntu-vb>

	Created error message when key file couldn't be installed

2009-07-08  Olof Kindgren  <olof@ubuntu-vb>

	Merge from main branch

2009-07-07  Olof Kindgren  <olof@lammy>

	install_repo_key_file implemented, without error handling

2009-07-07  Olof Kindgren  <olof@lammy>

	Added container logic for install repo key file

2009-07-18  sebi@glatzor.de

	Make use of dbus properties in the transaction object. Replace SetTerminal, SetDebconf and SetLocale by properties.

2009-07-17  sebi@glatzor.de

	Fix progress calculation in the install progress

2009-07-17  sebi@glatzor.de

	Allow to call nearly all policykit methods asynchromous

2009-07-16  sebi@glatzor.de

	Merge of the async branch: Make use of Twisted deferreds. This allows to handle async calls to policykit in a clean way.

2009-07-16  sebi@glatzor.de

	Use inline callbacks to simplify the code

2009-07-14  sebi@glatzor.de

	Fix: compare a possible policykit error with the modified dbus name

2009-07-12  sebi@glatzor.de

	Use deferreds in all DBus Transaction methods

2009-07-12  sebi@glatzor.de

	Add PolicyKit support mixed with Twisted deferreds

2009-07-12  sebi@glatzor.de

	Allow to compare Caller instances

2009-07-11  sebi@glatzor.de

	add an dbus exception that looks like the policykit error

2009-07-11  sebi@glatzor.de

	Move the policykit methods into a separate package

2009-07-10  sebi@glatzor.de

	If a deferred method returns at least None, ignore it

2009-07-10  sebi@glatzor.de

	Use twisted reactor instead of a pure gobject main loop and add the
	deferred dbus method decorator from James Henstridge. Thanks!

2009-07-09  sebi@glatzor.de

	Add a small epilog to the apdtcon help indicating to use quotation marks to specify several package names

2009-07-09  sebi@glatzor.de

	Trivial: fix description of --remove option

2009-07-09  sebi@glatzor.de

	Trivial: tweak status information in the console client

2009-07-09  sebi@glatzor.de

	Show --- instead of an illegal progress percentage in the conosle client

2009-07-09  sebi@glatzor.de

	Show a spinner in the console client to indicate a running transaction

2009-07-08  sebi@glatzor.de

	dist-upgrade option of aptdcon doesn't require an argument

2009-07-08  sebi@glatzor.de

	Add a refresh-cache command to the cli command

2009-07-07  sebi@glatzor.de

	Remove obsolete import from console

2009-07-07  sebi@glatzor.de

	Add a status notifcation icon service which allows to attach to already running transactions.

2009-07-07  sebi@glatzor.de

	Rename GetTransactions to GetActiveTransactions and clean up

2009-07-07  sebi@glatzor.de

	Rename the TransactionQueueChanged signal to ActiveTransactionsChanged which also provides the tid of the currently running transaction and of all queued ones.

2009-07-07  sebi@glatzor.de

	Replace the AptWorker.busy by querying AptWorker.trans

2009-07-07  sebi@glatzor.de

	Move the worker to the queue and use direct calls to the worker to run a new transaction

2009-07-07  sebi@glatzor.de

	Fix the wrong progress type in the client signal which resulted in an always pulsing progress

2009-07-07  sebi@glatzor.de

	Remove the threaded decorator from the misc module

2009-07-07  sebi@glatzor.de

	Use a singelton main loop instead of forwarding the main loop of the daemon to
	the progress instances.

2009-07-07  sebi@glatzor.de

	Do not use MANIFEST since it is additional work to keep in sync

2009-07-07  sebi@glatzor.de

	Remove TODO file and instead use bugs on Launchpad

2009-07-07  sebi@glatzor.de

	Use the gobject Transaction instead of the dbus interface in the console client

2009-07-07  sebi@glatzor.de

	Convert the client side AptTransaction to a gobject to handle a killed daemon 
	in a better way

2009-07-07  sebi@glatzor.de

	Convert the ROLE_UNSET enum to an empty string

2009-07-07  sebi@glatzor.de

	Add an enum for a not yet set role

2009-07-06  sebi@glatzor.de

	Merge local changes

2009-07-06  sebi@glatzor.de

	Use a smaller step size in the progress dialog.

2009-07-06  sebi@glatzor.de

	Send an illegal progress (101) if the progress runs backwards

2009-07-05  sebi@glatzor.de

	Set the progress dialog as parent window for the medium required dialog

2009-07-05  sebi@glatzor.de

	Attach the transaction in get_transaction to fill it with data

2009-07-05  sebi@glatzor.de

	Use correct spelling of aptderror

2009-07-04  sebi@glatzor.de

	Merge local changes

2009-07-04  sebi@glatzor.de

	Sanitize allow_cancel calls. Allow to cancel every transaction before the 
	changes get committed.

2009-07-04  sebi@glatzor.de

	Add constructor methods for the AptTransaction and daemon dbus interface to
	the client module

2009-07-04  sebi@glatzor.de

	Add missing module name to exception in the core

2009-07-04  sebi@glatzor.de

	ProgressDialog:If attach is True call the attach method of the transaction to synchronize.

2009-07-04  sebi@glatzor.de

	Add an attach method to the client. to synchronize with a running transaction.
	if the bus of a Transaction is none default to the SystemBus.

2009-07-04  sebi@glatzor.de

	Allow to disable debconf support in the progress dialog

2009-07-04  sebi@glatzor.de

	Add an AptRoleLabel widget

2009-07-04  sebi@glatzor.de

	Merge GetQueuedTransactions and GetCurrentTransaction method of the daemon into a single
	GetTransaction one. Turn the items method of the Queue into a property

2009-07-04  sebi@glatzor.de

	Add an option to not start the transaction in the progress dialog

2009-07-04  sebi@glatzor.de

	Remove leftovers from the threading area

2009-07-03  sebi@glatzor.de

	Remove another item from the TODO list

2009-07-03  sebi@glatzor.de

	Use TransactionFailed instead of a wrong spelled aptderror

2009-07-03  sebi@glatzor.de

	Run dpkg --configure -a after a failed installation

2009-07-03  sebi@glatzor.de

	remove another item from the TODO list

2009-07-03  sebi@glatzor.de

	Make sure the progress is always at 100 after processing the transaction

2009-07-03  sebi@glatzor.de

	Add an Attach method to the Transaction which allows to re-emit all signals. This helps
	to attach a client to an already running transaction.

2009-07-03  sebi@glatzor.de

	Final message of the console client should cover the whole line

2009-07-03  sebi@glatzor.de

	Do set attributes in the signal emitting method

2009-07-03  sebi@glatzor.de

	Remove another item form the TODO

2009-07-03  sebi@glatzor.de

	Show the progress and status details in the console client. Take terminal resize into account.

2009-07-02  sebi@glatzor.de

	Show a final progress information in the console client

2009-07-02  sebi@glatzor.de

	Add an option to hide the terminal in the console client

2009-07-02  sebi@glatzor.de

	Show the progress and status in the console application

2009-07-02  sebi@glatzor.de

	Move detaching the console client to a separate method

2009-07-02  sebi@glatzor.de

	Update TODO list

2009-07-02  sebi@glatzor.de

	Only allow the user who initiated the transaction to modify it. Further allow
	to cancel the transaction by the original user and the one who has the
	privilige to cancel foreign transactions.

2009-07-02  sebi@glatzor.de

	Add a policy to cancel the transaction of another user.

2009-07-02  sebi@glatzor.de

	Add a policy for upgrading packages

2009-07-02  sebi@glatzor.de

	Fix call to _mark_for_removal in the worker.

2009-07-02  sebi@glatzor.de

	Check if a transaction is already set up or running

2009-07-02  sebi@glatzor.de

	Merge today's train ride changes

2009-07-02  sebi@glatzor.de

	Remove useless _terminal assignment.

2009-07-02  sebi@glatzor.de

	Update TODO

2009-07-02  sebi@glatzor.de

	Use gobject.io_add_watch instead of threading in the console client

2009-07-02  sebi@glatzor.de

	Add an UpgradePackages method to the daemon

2009-07-02  sebi@glatzor.de

	Rename ROLE_UPDATE_PACKAGES to ROLE_UPGRADE_PACKAGES

2009-07-02  sebi@glatzor.de

	Remove obsolete try/exceptions from the worker

2009-07-02  sebi@glatzor.de

	Use an action group for install and remove too

2009-07-02  sebi@glatzor.de

	Fix marking packages for installation

2009-07-02  sebi@glatzor.de

	Only switch to non-interactive debconf mode if there isn't any terminal

2009-07-02  sebi@glatzor.de

	Only use debconf debugging if log level is DEBUG

2009-07-02  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/console.py: commit() is called commit_packages()

2009-07-02  Michael Vogt  <michael.vogt@ubuntu.com>

	MANIFEST.in: add data and gtk-demo.py

2009-07-02  Michael Vogt  <michael.vogt@ubuntu.com>

	* MANIFEST.in:
	- include po/* in the sdist file
	* aptd, aptdcon:
	- use /usr/bin/python
	* aptdaemon/__init__.py:
	- change version to 0.10

2009-07-01  sebi@glatzor.de

	Rename commit to commit_packages.

2009-07-01  sebi@glatzor.de

	Update TODO

2009-07-01  sebi@glatzor.de

	Merge train work

2009-07-01  sebi@glatzor.de

	Use the commit method in the console client.

2009-07-01  sebi@glatzor.de

	Add a Commit method which allows to install, remove and upgrade packages in 
	one transaction

2009-06-30  sebi@glatzor.de

	Update TODO

2009-06-30  sebi@glatzor.de

	Add missing bracket

2009-06-30  sebi@glatzor.de

	Fix locale in the client

2009-06-30  sebi@glatzor.de

	Remove an obsolete debug statement

2009-06-30  sebi@glatzor.de

	Use a correct return value

2009-06-30  sebi@glatzor.de

	Fix DaemonDpkgInstallProgress for local file installation

2009-06-30  sebi@glatzor.de

	Replace hotshot by profile

2009-06-30  sebi@glatzor.de

	Improve removing ANSI control chars from the console log

2009-06-30  sebi@glatzor.de

	Make sure that the terminal slave of the client does not take over the
	daemon

2009-06-30  sebi@glatzor.de

	Remove resolved items from TODO

2009-06-30  sebi@glatzor.de

	Merge local changes

2009-06-30  sebi@glatzor.de

	Do not install the gtk demo application.

2009-06-30  sebi@glatzor.de

	Do not ship the demo application in the aptdaemon package.

2009-06-29  sebi@glatzor.de

	Merge fixes from mvo! Thanks

2009-06-29  Michael Vogt  <michael.vogt@ubuntu.com>

	deal with canceling the frontend and error conditions, fix debconf-communicate zombie

2009-06-29  Michael Vogt  <michael.vogt@ubuntu.com>

	merged from trunk

2009-06-18  Michael Vogt  <michael.vogt@ubuntu.com>

	update todo

2009-06-18  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/gtkwidgets.py: fix zombie problem, add teardown function

2009-06-29  sebi@glatzor.de

	The worker doesn't need to by a gobject

2009-06-29  sebi@glatzor.de

	Merge my gobject branch: instead of threading the gobject main loop is used in
	the daemon. Simple reads from fd are replaced by gobject.io_watch_add.

2009-06-29  sebi@glatzor.de

	Use gobject.io_watch_add instead of duplicating file descriptors to get access
	to the controlling terminal of the forked child. This way we can even support
	re-attaching and logging.

2009-06-29  sebi@glatzor.de

	Only store the ttyname and not the openend file descriptor of the transacion

2009-06-29  sebi@glatzor.de

	Trivial typo fix in the OpenProgress

2009-06-29  sebi@glatzor.de

	Do not wildcard import enums

2009-06-29  sebi@glatzor.de

	Polish the DaemonOpenProgress

2009-06-29  sebi@glatzor.de

	Use block to iterate the main loop while waiting for a media change, since the
	action cannot be continued before another dbus call has been recieved.

2009-06-29  sebi@glatzor.de

	Provide traceback information in the transaction error message

2009-06-29  sebi@glatzor.de

	Merge the GObject* progresses with the Daemon* ones. Communicating to the worker
	by signals would add too much complexity compared to the benefits.

2009-06-29  sebi@glatzor.de

	There isn't any need to reset the cancelled flag.

2009-06-29  sebi@glatzor.de

	Follow attribute changes of Transaction class

2009-06-29  sebi@glatzor.de

	Make all attributes of the Transaction class public, since we don't require locking

2009-06-29  sebi@glatzor.de

	Use the GObjectFetchProgress for updating the cache

2009-06-29  sebi@glatzor.de

	Only emit a new transaction if there is one in the queue

2009-06-28  sebi@glatzor.de

	Remove threading.Events of the Transaction class

2009-06-28  sebi@glatzor.de

	Remove locks from the Transaction class

2009-06-28  sebi@glatzor.de

	There isn't any need for a thread safe queue. So use a gobject signal to
	notify the worker about a new item to process.

2009-06-28  sebi@glatzor.de

	Add a busy attribute to the worker

2009-06-28  sebi@glatzor.de

	Run the worker as a gobject idle function instead of a spearate thread

2009-06-28  sebi@glatzor.de

	Fixes in the progress code

2009-06-26  sebi@glatzor.de

	trivial formatting

2009-06-26  sebi@glatzor.de

	Add a basic gobject based fetch progress

2009-06-26  sebi@glatzor.de

	Do not export useless methods. emit signals directly in _on_status_change. Rename methods.

2009-06-26  sebi@glatzor.de

	Add signal emitting to the progress

2009-06-26  sebi@glatzor.de

	Use a separate fork method

2009-06-26  sebi@glatzor.de

	Add a basic Goject based install progress

2009-06-29  sebi@glatzor.de

	Push local changes

2009-06-26  sebi@glatzor.de

	Cancel the dbus name owner watcher in the client when the transaction is finished

2009-06-29  Michael Vogt  <michael.vogt@ubuntu.com>

	aptdaemon/demo.py: add debugging option

2009-06-26  sebi@glatzor.de

	Store the debconf_helper as private attribute of the client transaction

2009-06-26  sebi@glatzor.de

	Use gobject.io_add_watch instead of threading in the client

2009-06-25  sebi@glatzor.de

	Watch the dbus name to detect a crashed aptdaemon

2009-06-24  sebi@glatzor.de

	Set the cancel button sensitive by default

2009-06-24  sebi@glatzor.de

	Push local changes

2009-06-24  sebi@glatzor.de

	Clean up the debconf module. Assign copyright to mvo!

2009-06-24  sebi@glatzor.de

	Introduce an event to the client transaction which indicates if the transaction
	is running. Make use of the running event in the debconf proxy.

2009-06-24  sebi@glatzor.de

	Add support for easy profiling of the daemon

2009-06-23  sebi@glatzor.de

	Remove the RemovableQueue and instead enhance the TransactionQueue. Allow to
	shutdown the worker client by adding None to the queue.

2009-06-22  sebi@glatzor.de

	Merge local changes

2009-06-22  sebi@glatzor.de

	Update inline dowcumentation of the worker module.

2009-06-22  sebi@glatzor.de

	Update inline documentation

2009-06-22  sebi@glatzor.de

	Update copyright headers

2009-06-22  sebi@glatzor.de

	Add mvo to the authors

2009-06-22  sebi@glatzor.de

	Add a lot of documentation to the core module

2009-06-21  sebi@glatzor.de

	store the Message instances and not only its enum

2009-06-21  sebi@glatzor.de

	Add support for media changes

2009-06-21  sebi@glatzor.de

	Allow to specify the test package in the demo application

2009-06-21  sebi@glatzor.de

	Connect to the slave end of the controlling terminal later

2009-06-21  devel@glatzor.de

	Fix: Use uuid4 for the transaction id 

2009-06-21  devel@glatzor.de

	Switch to non interactive mode of debconf only if there is no debcon socket specified. Configure terminal master/slave before setting transaction details.

2009-06-21  devel@glatzor.de

	Clean up logging in the progress module

2009-06-21  devel@glatzor.de

	Make use of logging as a singelton

2009-06-21  devel@glatzor.de

	Fix missing import

2009-06-20  devel@glatzor.de

	Move the threaded decorator to a separate module misc

2009-06-10  devel@glatzor.de

	Merge Debconf support introduced by Michael Vogt!

2009-06-10  devel@glatzor.de

	Move the debconf code to the AptTransaction class and use threads instead of
	processes

2009-06-18  Michael Vogt  <michael.vogt@ubuntu.com>

	inital support for debconf added

2009-06-10  devel@glatzor.de

	Push local changes

2009-06-10  devel@glatzor.de

	Fix a s missing self

2009-06-10  devel@glatzor.de

	Only retrieve the locale once

2009-06-10  devel@glatzor.de

	Use introspection for DBus objects

2009-06-10  devel@glatzor.de

	Only give the bus  connection and the tid to AptTransaction

2009-05-31  devel@glatzor.de

	Push local changes

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Only change the language in the forked chil process

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Move transaction init and clean up to the run method

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Make use of the modern Python language and its exceptions instead of thousands if and else statements

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Fix attribute assignment in TransactionError

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Make message of TransactionError optional

2009-06-09  Sebastian Heinlein  <renate@unstable.virtual>

	Use simpler error names

2009-04-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	The tid should include the full path to the transaction dbus object

2009-03-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove packaging

2009-02-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the text in the progress bar to a blank space to avoid flickering

2009-02-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add GetCurrentTransaction and GetQueuedTransactions method to the dbus interface

2009-02-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Push local changes

2009-02-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Split the enhanced Queue which supports removing into a separata class. Turn TranasactionQueue into a gobject and emit the TransactionQueueChanged signal on dbus.

2009-02-11  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsolete service name from the dbus policy

2009-02-10  Sebastian Heinlein  <renate@klapprechner.daheim>

	The transaction object should be registered witht the same bus name

2009-02-10  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use a sane default size for the terminal

2009-02-10  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix old copy and paste error

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use a persistant cache to avoid large memory leaks! creating a new cache, does
	not remove the old one from memory.

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make initial release

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Don't fail on a not before locked cache during processing. locking is quite racy

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Try to get the window id of a terminal widget from the environment

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Simplify authmanager call

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set path for daemon mode

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename cli module to console and add install_file support

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Don't wait on a joining worker thread in the case it already died

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Return the correct exit state of dpkg calls

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make DaemonDpkgInstallProgress more generic and add DaemonDpkgRecoverProgress

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Raise minimum python-apt version

2009-02-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add support for installing local package files

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Trivial fix

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Default of boolean options should False

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Allow to replace an already running daemon

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Beautification of the demo application

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Close progress window before showing errors and messages

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	The cancel button should not affect the dialog

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Replace ifilter and imap

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Allow to specify the size of the animation widget

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use the role icon in the dialog

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Show missing image for mmissing status images :)

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix animations and missing icons

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use better variable names in gtwidgets

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make use of the role signal in the gtkwidgets

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix small typo

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a role signal to the transaction

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a role icon widget

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Don't search for icons in the PK data

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adapt icon name changes in enums

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix namespace of resolving animation

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add icons for resolving from PackageKit

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Ship icons

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Mention the icon artits in AUTHORS

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename Icons to the aptdaemon name space

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add icons from PackageKit gnome

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a broken strin replacement

2009-01-31  Sebastian Heinlein  <renate@klapprechner.daheim>

	Clean up the parameters of dbus objects

2009-01-29  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsolete test

2009-01-28  Sebastian Heinlein  <renate@klapprechner.daheim>

	Do not require as init para of Transaction and make caller a required one

2009-01-28  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set caller at init time

2009-01-28  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-28  Sebastian Heinlein  <renate@klapprechner.daheim>

	Create tid during init of transaction

2009-01-28  Sebastian Heinlein  <renate@klapprechner.daheim>

	Allow to not connect the transaction to the bus

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Initialize the exception object with a correct message instead of overriding
	the string method

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	I should really keep in mind that "if a:" is not the same as "if a is not None"

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsolete trans.get_error() call

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix mail formatted policykit action

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Do not include the copyright information in the docstring

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code clean up

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	More to do

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code cleanup

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code clean up

2009-01-27  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix typo in variable name

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code clean up

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a TODO

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Push local changes

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code cleanup in the client

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Install cli client

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename gtk demo app

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a pylint config

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a variable renaming

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix AptDError call

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Code clean up

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use docstrings in errors and base AptDError on DBusException

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Extract strings from the core module

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the default log level to warnings

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add an option to turn on debugging mode

2009-01-26  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a command line option to disable the inactivity timeout

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Push local changes

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use an empty string to clean the text in the progress bar

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Allow to reset the progress details

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Replace ''' by """ only for cosmetic reasons

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsolete comments

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Emit the current downloaded package in the fetcher

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fi open_cache parameters

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-25  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the locale

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Show a nice error message in the cli client

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	The client should only throw an exception if not any exit handler was specified

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Always close the master fd in the client

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Dettach the controlling terminal after the transaction is done.

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Suppress signal int and quit in the cli client

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Emit the human readable status string from apt and show it in the gtk progress
	label. Therefor added the signal StatusDetails

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-24  Sebastian Heinlein  <renate@klapprechner.daheim>

	Show download progress in the gtk dialog

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Always unlock the cache after running a transaction

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename StatusChanged signal to Status

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove state chaecking of downloads - This error doesn't appear anymore

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a ProgressDetails signal

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename ProgressChanged to Progress

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a very basic command line client

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add block parameter to the run method of transactions. Furthermore return the
	exit state instead of the unused results

2009-01-23  Sebastian Heinlein  <renate@klapprechner.daheim>

	The repository fetcher reports failed downloads as system error

2009-01-22  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the terminal of a new transaction in the client

2009-01-22  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add AllowTerminal signal handling to client

2009-01-15  Sebastian Heinlein  <renate@klapprechner.daheim>

	UPload local changes

2009-01-15  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use threading.Event instead of a mutex wrapped boolean for allow_cancel and allow_terminal

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	The details of a message/error are not None but empty strings

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	Update last action time stamp after processing a transaction to reset the timeout

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	Check for skipped updates in UpgradeSystem and report them as a new message

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	Check for available updates before making an upgrade and notify the user
	about an up-to-date system

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a message system for non-critical information and warnings from the daemon

2009-01-14  Sebastian Heinlein  <renate@klapprechner.daheim>

	apt.Cache.update() doesn't report any failed downloads. So we have to check themmanually.

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Minor cleanup in the fetch progress

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Do not use a terminal for the update cache call in the demo app

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Allow to setup the AptProgressDialog without any terminal widget

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Emit AllowCancel and ProgressChanged(0) at the beginning of each worker method

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Install apt conf snippet

2009-01-13  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add an apt config snippet which emits the CacheChanged signal after an cache update

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix missing gettext statement

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Follow the naming of apt and rename refresh cache to update cache

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add an upgrade button to the demo app

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a wrong reference in the worker

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add an idle shutdown after 5 minutes

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use the exception message explicitly in the ErrorCode signal

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a silly copy & paste error in the policy file

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add upgrade system method

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes.

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Quit the main loop after forking in the child

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Shutdown the daemon in a nice way if requested

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the status of a transaction to cancelled or failed if we encounter an 
	exception during processing

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a silly paramter assignment

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Share the main loop with the worker thread

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a vi typo

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	Only allow to connect a controlling terminal durint wait and setup phase of a transaction

2009-01-12  Sebastian Heinlein  <renate@klapprechner.daheim>

	If not any terminal was specified the worker should work non-interactively

2009-01-09  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-09  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a SetTerminal method to the transaction and connect the tty as controlling
	terminal for the forked apt process

2009-01-09  Sebastian Heinlein  <renate@klapprechner.daheim>

	Change the Terminal signal into AllowTerminal which just indicates if 
	interaction through a terminal is possible

2009-01-09  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use the master end for the fork again. The other direction would be nice, but
	doesn't work correctly

2009-01-08  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set an empty _cache attr in the worker on init. And fix a call to trans

2009-01-08  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make the forked child the session lead to own the controling terminal

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a missing self. prefix in the demo code

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add support for removing packages

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Install the gaptd-client script

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Move demo application from gtkwidgets to demo and create an executable

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Reimplement the polkit_auth_wrapper for aptdaemon

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Report the sender to all transaction methods

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Depend on python 2.5

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Depend on a policykit version => 0.9, since the DBus API of prior releases is worthless

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add build dep on python-distutils-extra

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge local changes

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use the new policykit module in the core

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add the NotAuthError to the error class

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make use of the new policykit method in the gtkwidgets

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove policykit handler taken from PackageKit in the client.

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make use of distutils-extra to support i10n. Install dbus config files

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add POTFILES.in

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add policykit policy

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a dbus activation file

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename the dbus config file to relfect the interface name

2009-01-07  Sebastian Heinlein  <renate@klapprechner.daheim>

	Policykit improvements: Add a caller cache, add new methods obtain_auth, is_auth and is_auth_sender

2009-01-05  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsolete import

2009-01-05  Sebastian Heinlein  <renate@klapprechner.daheim>

	Merge with packaging branch

2009-01-05  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add packaging

2009-01-05  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add setup script

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Clear canceled event after processing a transaction

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Change AllowCancel default to False again

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Clean up cancel method of Transaction class. Check if a transaction is queued during cancel.

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add handler for the cancel call in the client

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Change default of allow_cancel to True

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a dead lock in the cancel code

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add support for cancelling to the client

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix name of exit state attribute in the client

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add RemovePackages method to the transacion

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a remove xterm button to the gtk example

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Minor comment clean up

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add remove to the client

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make GetRole call async in gtkwidgets

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Improve logging of signals by using clear text

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Make sure to release the cache after a failed operation

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Clear cancel event in the worker

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename PercentageChanged signal to ProgressChanged and clean up the gtk progress handling.

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add support for the terminal widget

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add some maintenance files

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adopt gtkwidgets

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix client exit_handler call: we don't supply runtime

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adapt latest enum changes

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add messages and icon maps for the enums

2009-01-04  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add refresh cache method

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a wrong enum

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix a wrong message call in the client

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Extend cancel to queued transactions and add a GetStatus method

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix spelling error in the enums. Add status enums for waiting and cancelling 

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Enhance the Queue class to support removal of items

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Implement canceling

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Move the actual package management into a separate worker thread. Make the transaction thread safe and add a transaction queue.

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add the enums package under version control.

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Workaround a list to string conversion. Needs furhter investigation

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Workaround strange behavior of the client, converting a list to string

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix: use correct transaction class

2009-01-03  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adapt client for aptdaemon

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Include the gtk widgets from gnome-packagekit for a later adoption

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use the packagekit client as a base for the aptdaemon client

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Replace test.sh script by a setup.cfg configuration

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a testing infrastructure

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Remove obsole output collecting references in the install progress. Send signal 15 to the child process in case of a timeout. Set the owner to the pty device to the calling user.

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a Terminal signal, allow to control the forked apt process by a slave tty

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add a working install_packages method and helper methods

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Fix error imports and progress reporting in the progress handlers

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Set the version in the aptdaemon package

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adapt latest code moval in the progress module

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Move errors to a separate module

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Move logging facility to a separate module

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Use more sane parameters for the open cache

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add unlock cache code directly to the decorator

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Replace backend references by transaction

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add unlock_cache_afterwards decorator from PackageKit backend

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add threading support

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add an error class

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Adapt progress code

2009-01-02  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add my progress handlers from PackageKit

2009-01-01  Sebastian Heinlein  <renate@klapprechner.daheim>

	Rename log handler

2008-12-30  Sebastian Heinlein  <renate@klapprechner.daheim>

	Add transactions

2008-12-30  Sebastian Heinlein  <renate@klapprechner.daheim>

	Initial commit

