
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Optimizing RhodeCode Performance &mdash; RhodeCode 1.5.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="RhodeCode 1.5.2 documentation" href="../index.html" />
    <link rel="next" title="RhodeCode repository locking system" href="locking.html" />
    <link rel="prev" title="GIT support" href="git_support.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="locking.html" title="RhodeCode repository locking system"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_support.html" title="GIT support"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">RhodeCode 1.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="optimizing-rhodecode-performance">
<span id="performance"></span><h1>Optimizing RhodeCode Performance<a class="headerlink" href="#optimizing-rhodecode-performance" title="Permalink to this headline">Â¶</a></h1>
<p>When serving large amount of big repositories RhodeCode can start
performing slower than expected. Because of demanding nature of handling large
amount of data from version control systems here are some tips how to get
the best performance.</p>
<ul class="simple">
<li>RhodeCode will perform better on machines with faster disks (SSD/SAN). It&#8217;s
more important to have faster disk than faster CPU.</li>
<li>Slowness on initial page can be easily fixed by grouping repositories, and/or
increasing cache size (see below)</li>
</ul>
<p>Follow these few steps to improve performance of RhodeCode system.</p>
<ol class="arabic">
<li><p class="first">Increase cache</p>
<blockquote>
<div><p>in the .ini file:</p>
<div class="highlight-python"><pre>beaker.cache.sql_cache_long.expire=3600 &lt;-- set this to higher number</pre>
</div>
<p>This option affects the cache expiration time for main page. Having
few hundreds of repositories on main page can sometimes make the system
to behave slow when cache expires for all of them. Increasing <cite>expire</cite>
option to day (86400) or a week (604800) will improve general response
times for the main page. RhodeCode has an intelligent cache expiration
system and it will expire cache for repositories that had been changed.</p>
</div></blockquote>
</li>
<li><p class="first">Switch from sqlite to postgres or mysql</p>
<blockquote>
<div><p>sqlite is a good option when having small load on the system. But due to
locking issues with sqlite, it&#8217;s not recommended to use it for larger
setup. Switching to mysql or postgres will result in a immediate
performance increase.</p>
</div></blockquote>
</li>
<li><p class="first">Scale RhodeCode horizontally</p>
<blockquote>
<div><ul class="simple">
<li>running two or more instances on the same server can speed up things a lot</li>
<li>load balance using round robin or ip hash</li>
<li>you need to handle consistent user session storage by switching to
db sessions, client side sessions or sharing session data folder across
instances. See <a class="reference external" href="http://beaker.readthedocs.org/">http://beaker.readthedocs.org/</a> docs for details.</li>
<li>remember that each instance needs it&#8217;s own .ini file and unique
<cite>instance_id</cite> set in them</li>
</ul>
</div></blockquote>
</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3>Support RhodeCode development.</h3>
<div style="text-align:center">
	<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
	<input type="hidden" name="cmd" value="_s-xclick">
	<input type="hidden" name="hosted_button_id" value="8U2LLRPLBKWDU">
	<input style="border:0px !important" type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_SM.gif"
	border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
	<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
	</form>
    <div style="padding:5px">
     <a href="http://flattr.com/thing/167489/RhodeCode" target="_blank">
     <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a>
   </div>
</div>

  <h4>Previous topic</h4>
  <p class="topless"><a href="git_support.html"
                        title="previous chapter">GIT support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="locking.html"
                        title="next chapter">RhodeCode repository locking system</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usage/performance.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="locking.html" title="RhodeCode repository locking system"
             >next</a> |</li>
        <li class="right" >
          <a href="git_support.html" title="GIT support"
             >previous</a> |</li>
        <li><a href="../index.html">RhodeCode 1.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Marcin Kuzminski.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>