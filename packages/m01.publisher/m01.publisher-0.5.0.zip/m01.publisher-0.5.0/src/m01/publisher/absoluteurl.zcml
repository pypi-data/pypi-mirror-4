<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser">

  <view
      for="*"
      name="absolute_url"
      factory="zope.traversing.browser.AbsoluteURL"
      type="zope.publisher.interfaces.http.IHTTPRequest"
      permission="zope.Public"
      allowed_interface="zope.traversing.browser.interfaces.IAbsoluteURL"
      />
      
  <view
      for="*"
      factory="zope.traversing.browser.AbsoluteURL"
      type="zope.publisher.interfaces.http.IHTTPRequest"
      permission="zope.Public"
      provides="zope.traversing.browser.interfaces.IAbsoluteURL"
      />

  <view
      for="zope.location.interfaces.IRoot"
      name="absolute_url"
      factory="zope.traversing.browser.SiteAbsoluteURL"
      type="zope.publisher.interfaces.http.IHTTPRequest"
      permission="zope.Public"
      allowed_interface="zope.traversing.browser.interfaces.IAbsoluteURL"
      />
      
  <view
      for="zope.location.interfaces.IRoot"
      factory="zope.traversing.browser.SiteAbsoluteURL"
      type="zope.publisher.interfaces.http.IHTTPRequest"
      permission="zope.Public"
      provides="zope.traversing.browser.interfaces.IAbsoluteURL"
      />

  <browser:page
      for="*"
      name="absolute_url"
      class="zope.traversing.browser.AbsoluteURL"
      permission="zope.Public"
      allowed_interface="zope.traversing.browser.interfaces.IAbsoluteURL"
      />

  <browser:page
      for="zope.location.interfaces.IRoot"
      name="absolute_url"
      class="zope.traversing.browser.SiteAbsoluteURL"
      permission="zope.Public"
      allowed_interface="zope.traversing.browser.interfaces.IAbsoluteURL"
      />

</configure>