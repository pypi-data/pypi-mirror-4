(function(a){if(typeof(a.ZTFY)=="undefined"){a.ZTFY={}}a.ZTFY.security={json:{getAddr:function(){var b=window.location.href;var c=b.replace(/\+\+skin\+\+\w+\//,"");return c.substr(0,c.lastIndexOf("/")+1)},post:function(h,f,c,b,e){var g=a.ZTFY.security.json.getAddr();if(e){g+="/"+e}var d={url:g,type:"POST",method:h,params:f,success:c,error:b};a.jsonRpc(d)}},findPrincipals:function(d){var b;var c={url:a.ZTFY.security.json.getAddr(),type:"POST",method:"findPrincipals",async:false,params:{query:d},success:function(f,e){b=f.result},error:function(g,e,f){jAlert(g.responseText,"Error !",window.location.reload)}};a.jsonRpc(c);return b}}})(jQuery);