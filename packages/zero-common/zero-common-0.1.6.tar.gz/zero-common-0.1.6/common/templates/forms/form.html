{% load i18n base %}

{% block beforeform%}{% endblock %}

{% block form %}

<form method="POST" action="{% block form_action %}{% endblock %}"
      class="{% block class_form %}{% endblock %}"
      {% block extra_form %}{% endblock %}>

    {% csrf_token %}
    
    {% if form.non_field_errors %}
    <div class="alert-error alert">
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
        <p>
            {% for error in form.non_field_errors %}
              {{ error|safe }}<br/>
            {% endfor %}
        </p>
    </div>
    {% endif %}

    <fieldset>
        <legend>{% block legend %}Formulario{% endblock %}</legend>

        {% for field in form %}
        <div class='control-group {% if field.errors %}error{% endif %}'>
                
                {% if not field.is_hidden %}{{ field.label_tag|add_class:"control-label" }}{% endif %}

                <div class='controls'>
                    
                    {{ field }}
                    
                    {% if field.help_text %}
                        <span class="help-block">{{ field.help_text }}</span>
                    {% endif %}
                    
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <span class="help-block error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>
        </div>
        {% endfor %}
            
            {% block afterfields %}
            <div class="form-actions">
                <button class='btn btn-primary'>{% block button %}{% trans 'Guardar' %}{% endblock %}</button>
            </div>
            {% endblock %}

    </fieldset>


</form>
{% endblock %}

{% block afterform %}{% endblock %}
