<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.10: http://docutils.sourceforge.net/" />
<title>Configuration Guide</title>
<link rel="stylesheet" href="../../Docs/Doc.css" type="text/css" />
</head>
<body>
<div class="document" id="configuration-guide">
<h1 class="title">Configuration Guide</h1>

<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#command-line-configuration" id="id5">Command Line Configuration</a></li>
<li><a class="reference internal" href="#application-config" id="id6">Application.config</a><ul>
<li><a class="reference internal" href="#general-settings" id="id7">General Settings</a></li>
<li><a class="reference internal" href="#path-handling" id="id8">Path Handling</a></li>
<li><a class="reference internal" href="#caching" id="id9">Caching</a></li>
<li><a class="reference internal" href="#errors" id="id10">Errors</a></li>
<li><a class="reference internal" href="#logging" id="id11">Logging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appserver-config" id="id12">AppServer.config</a></li>
</ul>
</div>
<div class="section" id="command-line-configuration">
<h1>Command Line Configuration</h1>
<p>Each of these can be set in the <tt class="docutils literal">.config</tt> files, but they can be overridden
with the command line.  Run <tt class="docutils literal">AppServer</tt> with switches in the form
<tt class="docutils literal">ClassName.SettingName=value</tt>, e.g. <tt class="docutils literal">AppServer.AdapterPort=8087</tt>.</p>
<p>The <tt class="docutils literal">value</tt> is coerced into a Python type: if it starts with one of the
characters <tt class="docutils literal"><span class="pre">({[&quot;'</span></tt> -- i.e., parenthesis (expression), dictionary, list,
or string -- then the value with be eval'ed.  If it can be turned into a
Boolean, integer, float or None, then it will be converted, otherwise it will
be left as a string.  Some examples:</p>
<ul class="simple">
<li><tt class="docutils literal">None</tt> == None</li>
<li><tt class="docutils literal">True</tt> == True (evaluates to 1 in older Python versions)</li>
<li><tt class="docutils literal">1</tt> == 1</li>
<li><tt class="docutils literal">127.0.0.1</tt> == &quot;127.0.0.1&quot;</li>
<li><tt class="docutils literal">(10+2)</tt> == 12</li>
<li><tt class="docutils literal">{'a': 'b'}</tt> == {'a': 'b'}</li>
<li><tt class="docutils literal">{a: b}</tt> == <em>error</em></li>
<li><tt class="docutils literal">[1, 'c', [2, 3]]</tt> == [1, 'c', [2, 3]]</li>
</ul>
<p>Be careful about special characters in the shell.  All the characters
<tt class="docutils literal">() [] ' &quot;</tt> are special, and need to be quoted (with <tt class="docutils literal">\</tt> or with single
or double quotation marks).</p>
</div>
<div class="section" id="application-config">
<h1>Application.config</h1>
<p><tt class="docutils literal">Application.config</tt> covers not only the application, but a number
of components that use it as a central point of configuration.</p>
<div class="section" id="general-settings">
<h2>General Settings</h2>
<dl class="docutils">
<dt><tt class="docutils literal">Contexts</tt>:</dt>
<dd><p class="first">This dictionary maps context names to the directory holding the
context content.  Since the default contexts all reside in WebKit,
the paths are simple and relative.  The context name appears as the
first path component of a URL, otherwise <tt class="docutils literal"><span class="pre">Contexts['default']</span></tt>
is used when none is specified.  When creating your own
application, you will add a key such as <tt class="docutils literal">&quot;MyApp&quot;</tt> with a value
such as <tt class="docutils literal">&quot;/home/apps/MyApp&quot;</tt>.  That directory will then contain
content such as Main.py, SomeServlet.py, SomePage.psp,
etc.  <tt class="docutils literal">Webware/bin/MakeAppWorkDir.py</tt> will set up a context for
your use as well.  Default:</p>
<pre class="last literal-block">
{
    'default':   'Examples',
    'Admin':     'Admin',
    'Examples':  'Examples',
    'Docs':      'Docs',
    'Testing':   'Testing',
}
</pre>
</dd>
<dt><tt class="docutils literal">AdminPassword</tt>:</dt>
<dd>The password that, combined with the <tt class="docutils literal">admin</tt> id, allows access
to the <tt class="docutils literal">AppControl</tt> page of the <tt class="docutils literal">Admin</tt> context.  Set
interactively when <tt class="docutils literal">install.py</tt> is run (no default value).</dd>
<dt><tt class="docutils literal">PrintConfigAtStartUp</tt>:</dt>
<dd>Print the configuration to the console when AppServer starts.
Default: <tt class="docutils literal">True</tt> (on).</dd>
</dl>
</div>
<div class="section" id="path-handling">
<h2>Path Handling</h2>
<p>These configuration settings control which files are exposed to users,
which files are hidden, and some of how those files get chosen.</p>
<dl class="docutils">
<dt><tt class="docutils literal">DirectoryFile</tt>:</dt>
<dd>The list of basic filenames that WebKit searches for when serving
up a directory.  Note that the extensions are absent since WebKit
will look for a file with any appropriate extension (<tt class="docutils literal">.py</tt>.,
<tt class="docutils literal">.html</tt>, <tt class="docutils literal">.psp</tt>, etc).  Default: <tt class="docutils literal">[&quot;index&quot;, &quot;Main&quot;]</tt>.</dd>
<dt><tt class="docutils literal">ExtensionsForKid</tt>:</dt>
<dd>This is the list of extensions for files to be parsed Kid templates.
Default: <tt class="docutils literal"><span class="pre">['.kid']</span></tt>.</dd>
<dt><tt class="docutils literal">ExtensionsForPSP</tt>:</dt>
<dd>This is the list of extensions for files to be parsed as PSP.
Default: <tt class="docutils literal"><span class="pre">['.psp']</span></tt>.</dd>
<dt><tt class="docutils literal">ExtensionsToIgnore</tt>:</dt>
<dd>This is a list or set of extensions that WebKit will ignore when
autodetecting extensions.  Note that this does not prevent WebKit
from serving such a file if the extension is given explicitly in a
URL.  Default: <tt class="docutils literal"><span class="pre">set(['.pyc',</span> '.pyo', <span class="pre">'.py~',</span> <span class="pre">'.bak'])</span></tt>.</dd>
<dt><tt class="docutils literal">ExtensionsToServe</tt>:</dt>
<dd>This is a list of extensions that WebKit will use exclusively when
autodetecting extensions.  Note that this does not prevent WebKit
from serving such a file if it is named explicitly in a URL.  If
no extensions are given all extensions will be served (usually
anything but <tt class="docutils literal">.py</tt> and <tt class="docutils literal">.psp</tt> will be served as a static
file).  Default: <tt class="docutils literal">[]</tt>.</dd>
<dt><tt class="docutils literal">UseCascadingExtensions</tt>:</dt>
<dd>If False, WebKit will give a <tt class="docutils literal">404 Not Found</tt> result if there is
more than one file that could potentially match.  If True, then
WebKit will use the <tt class="docutils literal">ExtensionCascadeOrder</tt> setting to determine
which option to serve.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">ExtensionCascadeOrder</tt>:</dt>
<dd>A list of extensions that WebKit will choose, in order, when files
of the same basename but different extensions are available.  Note
that this will have no effect if the extension is given in the
URL.  Default: <tt class="docutils literal"><span class="pre">[&quot;.psp&quot;,</span> &quot;.py&quot;, &quot;.html&quot;]</tt>.</dd>
<dt><tt class="docutils literal">FilesToHide</tt>:</dt>
<dd>A list or set of file patterns to protect from browsing.  This affects
all requests, and these files cannot be retrieved even when the extension
is given explicitly.  Default: <tt class="docutils literal"><span class="pre">set([&quot;.*&quot;,</span> <span class="pre">&quot;*~&quot;,</span> &quot;*bak&quot;, <span class="pre">&quot;*.tmpl&quot;,</span>
<span class="pre">&quot;*.pyc&quot;,</span> <span class="pre">&quot;*.pyo&quot;,</span> <span class="pre">&quot;*.config&quot;])</span></tt>.</dd>
<dt><tt class="docutils literal">FilesToServe</tt>:</dt>
<dd>File patterns to serve from exclusively.  If the file being served
for a particulary request does not match one of these patterns an
<tt class="docutils literal">HTTP 403 Forbidden</tt> error will be return.  This affects all
requests, not just requests with autodetected extensions.  If set
to <tt class="docutils literal">[]</tt> then no restrictions are placed.  Default: <tt class="docutils literal">[]</tt>.</dd>
<dt><tt class="docutils literal">MemcachedNamespace</tt>:</dt>
<dd>The namespace used to prefix all keys from the Webware application
when accessing Memcached servers for storing sessions.  You should
change this if you are using the same memcache for different applications.
Default: <tt class="docutils literal">WebwareSession</tt>.</dd>
<dt><tt class="docutils literal">MemcachedOnIteration</tt>:</dt>
<dd>This setting determines how Webware behaves when attempting to iterate
over the sessions or clear the session store, when using <tt class="docutils literal">Memcached</tt>.
If you set it to <tt class="docutils literal">Error</tt>, this will raise an Exception, when set to
<tt class="docutils literal">Warning</tt>, it will print a Warning, when set to <tt class="docutils literal">None</tt>, it will be
ignored (the size of the session store will be always reported as zero).
Default: <tt class="docutils literal">Warning</tt>.</dd>
<dt><tt class="docutils literal">MemcachedServers</tt>:</dt>
<dd>This sets the list of Memcached servers used when setting <tt class="docutils literal">SessionStore</tt>
to <tt class="docutils literal">Memcached</tt>.  Default: <tt class="docutils literal">['localhost:11211']</tt>.</dd>
<dt><tt class="docutils literal">SessionModule</tt>:</dt>
<dd>Can be used to replace the standard WebKit Session module with
something else.  Default: <tt class="docutils literal">Session</tt></dd>
<dt><tt class="docutils literal">SessionStore</tt>:</dt>
<dd>This setting determines which of five possible session stores is used
by the application: <tt class="docutils literal">Dynamic</tt>, <tt class="docutils literal">File</tt>, <tt class="docutils literal">Memcached</tt>, <tt class="docutils literal">Memory</tt>
or <tt class="docutils literal">`Shelve</tt>.  The <tt class="docutils literal">File</tt> store always gets sessions from disk and
puts them back when finished.  <tt class="docutils literal">Memory</tt> always keeps all sessions in
memory, but will periodically back them up to disk.  <tt class="docutils literal">Dynamic</tt> is a
good cross between the two, which pushes excessive or inactive sessions
out to disk.  <tt class="docutils literal">Shelve</tt> stores the sessions in a database file
using the Python <tt class="docutils literal">shelve</tt> module,  <tt class="docutils literal">Memcached</tt> stores them on
a Memcached system using the <tt class="docutils literal"><span class="pre">python-memcached</span></tt> interface.  You can
choose your own session store module as well.  Default: <tt class="docutils literal">Dynamic</tt>.</dd>
<dt><tt class="docutils literal">SessionStoreDir</tt>:</dt>
<dd>If <tt class="docutils literal">SessionStore</tt> is set to <tt class="docutils literal">File</tt>, <tt class="docutils literal">Dynamic</tt> or <tt class="docutils literal">Shelve</tt>,
then this setting determines the directory where the files for the
individual sessions or the shelve database will be stored.  The path
is interpreted as relative to the working directory (or WebKit path,
if you're not using a working directory), or you can specify an
absolute path.  Default: <tt class="docutils literal">Sessions</tt>.</dd>
<dt><tt class="docutils literal">SessionTimeout</tt>:</dt>
<dd>Determines the amount of time (expressed in minutes) that passes
before a user's session will timeout.  When a session times out,
all data associated with that session is lost.  Default: <tt class="docutils literal">60</tt>.</dd>
<dt><tt class="docutils literal">AlwaysSaveSessions</tt>:</dt>
<dd>If False, then sessions will only be saved if they have been changed.
This is more performant and avoids problems with concurrent requests
made by the same user if sessions are not shared between these requests,
as is the case for session stores other than <tt class="docutils literal">Memory</tt> or <tt class="docutils literal">Dynamic</tt>.
Note that in this case the last access time is not saved either, so
sessions may time out if they are not altered. You can call <tt class="docutils literal">setDirty()</tt>
on sessions to force saving unaltered sessions in this case.  If True,
then sessions will always be saved.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">IgnoreInvalidSession</tt>:</dt>
<dd>If False, then an error message will be returned to the user if
the user's session has timed out or doesn't exist.  If True, then
servlets will be processed with no session data.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">UseAutomaticPathSessions</tt>:</dt>
<dd>If True, then the app server will include the session ID in the
URL by inserting a component of the form <tt class="docutils literal">_SID_=8098302983</tt> into
the URL, and will parse the URL to determine the session ID.  This
is useful for situations where you want to use sessions, but it
has to work even if the users can't use cookies.  If you use
relative paths in your URLs, then you can ignore the presence of
these sessions variables.  The name of the field can be configured
with the setting <tt class="docutils literal">SessionName</tt>.  Default: <tt class="docutils literal">False</tt>.</dd>
<dt><tt class="docutils literal">UseCookieSessions</tt>:</dt>
<dd>If True, then the app server will store the session ID in a cookie
with the name set in <tt class="docutils literal">SessionName</tt>, which is usually <tt class="docutils literal">_SID_</tt>.
Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">SessionCookiePath</tt>:</dt>
<dd>You can specify a path for the session cookie here.  <tt class="docutils literal">None</tt> means
that the servlet path will be used, which is normally the best choice.
If you rewrite the URL using different prefixes, you may have to
specify a fixed prefix for all your URLs.  Using the root path '/'
will always work, but may have security issues if you are running less
secure applications on the same server.  Default: <tt class="docutils literal">None</tt>.</dd>
<dt><tt class="docutils literal">SecureSessionCookie</tt>:</dt>
<dd>If True, then the app server will use a secure cookie for the session
ID if the request was using an HTTPS connection.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">MaxDynamicMemorySessions</tt>:</dt>
<dd>The maximum number of dynamic memory sessions that will be
retained in memory.  When this number is exceeded, the least
recently used, excess sessions will be pushed out to disk.
This setting can be used to help control memory requirements,
especially for busy sites.  This is used only if the
<tt class="docutils literal">SessionStore</tt> is set to <tt class="docutils literal">Dynamic</tt>.  Default: <tt class="docutils literal">10000</tt>.</dd>
<dt><tt class="docutils literal">DynamicSessionTimeout</tt>:</dt>
<dd>The number of minutes of inactivity after which a session is
pushed out to disk.  This setting can be used to help control
memory requirements, especially for busy sites.  This is used only
if the <tt class="docutils literal">SessionStore</tt> is set to <tt class="docutils literal">Dynamic</tt>.  Default: <tt class="docutils literal">15</tt>.</dd>
<dt><tt class="docutils literal">SessionPrefix</tt>:</dt>
<dd>This setting can be used to prefix the session IDs with a string.
Possible values are <tt class="docutils literal">None</tt> (don't use a prefix), <tt class="docutils literal">&quot;hostname&quot;</tt>
(use the hostname as the prefix), or any other string (use that string
as the prefix).  You can use this for load balancing, where each
Webware server uses a different prefix.  You can then use <a class="reference external" href="http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html">mod_rewrite</a>
or other software for load-balancing to redirect each user back to the
server they first accessed.  This way the backend servers do not
have to share session data.  Default: <tt class="docutils literal">None</tt>.</dd>
<dt><tt class="docutils literal">SessionName</tt>:</dt>
<dd>This setting can be used to change the name of the field holding
the session ID.  When the session ID is stored in a cookie and there
are applications running on different ports on the same host, you
should choose different names for the session IDs, since the web
browsers usually do not distinguish the ports when storing cookies
(the port cookie-attribute introduced with RFC 2965 is not used).
Default: <tt class="docutils literal">_SID_</tt>.</dd>
<dt><tt class="docutils literal">ExtraPathInfo</tt>:</dt>
<dd>When enabled, this setting allows a servlet to be followed by
additional path components which are accessible via HTTPRequest's
<tt class="docutils literal">extraURLPath()</tt>.  For subclassers of <tt class="docutils literal">Page</tt>, this would be
<tt class="docutils literal"><span class="pre">self.request().extraURLPath()</span></tt>.  Default: <tt class="docutils literal">False</tt>.</dd>
<dt><tt class="docutils literal">UnknownFileTypes</tt>:</dt>
<dd><p class="first">This setting controls the manner in which WebKit serves &quot;unknown
extensions&quot; such as .html, .css, .js, .gif, .jpeg etc.  The default
setting specifies that the servlet matching the file is cached in memory.
You may also specify that the contents of the files shall be cached
in memory if they are not too large.</p>
<p>If you are concerned about performance, use <a class="reference external" href="http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html">mod_rewrite</a> to avoid
accessing WebKit for static content.</p>
<p>The <tt class="docutils literal">Technique</tt> setting can be switched to <tt class="docutils literal">&quot;redirectSansAdapter&quot;</tt>,
but this is an experimental setting with some known problems.</p>
<p>Default:</p>
<pre class="last literal-block">
{
    'ReuseServlets': True, # cache servlets in memory
    'Technique': 'serveContent', # or 'redirectSansAdapter'
    # If serving content:
    'CacheContent': False, # set to True for caching file content
    'MaxCacheContentSize': 128*1024, # cache files up to this size
    'ReadBufferSize': 32*1024 # read buffer size when serving files
}
</pre>
</dd>
</dl>
</div>
<div class="section" id="caching">
<h2>Caching</h2>
<dl class="docutils">
<dt><tt class="docutils literal">CacheServletClasses</tt>:</dt>
<dd>When set to False, the AppServer will not cache the classes that
are loaded for servlets.  This is for development and debugging.
You usually do not need this, as servlet modules are reloaded if
the file is changed.  Default: <tt class="docutils literal">True</tt> (caching on).</dd>
<dt><tt class="docutils literal">CacheServletInstances</tt>:</dt>
<dd>When set to False, the app server will not cache the instances that
are created for servlets.  This is for development and debugging.
You usually do not need this, as servlet modules are reloaded and
cached instances purged when the servlet file changes.
Default: <tt class="docutils literal">True</tt> (caching on).</dd>
<dt><tt class="docutils literal">CacheDir</tt>:</dt>
<dd>This is the name of the directory where things like compiled PSP
or Kid templates are cached.  Webware creates a subdirectory for
every plug-in in this directory.  The path is interpreted as relative
to the working directory (or WebKit path, if you're not using a working
directory), or you can specify an absolute path.  Default: <tt class="docutils literal">Cache</tt>.</dd>
<dt><tt class="docutils literal">ClearPSPCacheOnStart</tt>:</dt>
<dd>When set to False, the app server will allow PSP instances to
persist from one AppServer run to the next.  If you have PSPs that
take a long time to compile, this can give a speedup.  Default:
<tt class="docutils literal">False</tt> (cache will persist).</dd>
<dt><tt class="docutils literal">ReloadServletClasses</tt>:</dt>
<dd>During development of an application, servlet classes will be changed
very frequently.  The AutoReload mechanism could be used to detect such
changes and to reload modules with changed servlet classes, but it would
cause an app server restart every time a servlet class is changed.  So
by default, modules with servlet classes are reloaded without restarting
the server.  This can potentially cause problems when other modules are
dependent on the reloaded module because the dependent modules will not
be reloaded.  To allow reloading only using the AutoReload mechanism,
you can set <tt class="docutils literal">ReloadServletClasses</tt> to <tt class="docutils literal">False</tt> in such cases.  Default:
<tt class="docutils literal">True</tt> (quick and dirty reloading).</dd>
</dl>
</div>
<div class="section" id="errors">
<h2>Errors</h2>
<dl class="docutils">
<dt><tt class="docutils literal">ShowDebugInfoOnErrors</tt>:</dt>
<dd>If True, then uncaught exceptions will not only display a message
for the user, but debugging information for the developer as
well.  This includes the traceback, HTTP headers, form fields,
environment and process ids.  You will most likely want to turn
this off when deploying the site for users.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">EnterDebuggerOnException</tt>:</dt>
<dd>If True, and if the AppServer is running from an interactive
terminal, an uncaught exception will cause the AppServer to
enter the debugger, allowing the developer to call functions,
investigate variables, etc.  See python debugger (pdb) docs for
more information.  You will certainly want to turn this off when
deploying the site.  Default: <tt class="docutils literal">False</tt> (off).</dd>
<dt><tt class="docutils literal">IncludeEditLink</tt>:</dt>
<dd>If True, an &quot;[edit]&quot; link will be put next to each line in tracebacks.
That link will point to a file of type
<tt class="docutils literal"><span class="pre">application/x-webkit-edit-file</span></tt>, which you should configure your
browser to run with <tt class="docutils literal">Webware/bin/editfile.py</tt>.  If you configure
<tt class="docutils literal">editfile.py</tt> correctly, then it will automatically open the
respective Python module with your favorite Python editor and put
the cursor on the erroneous line.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">IncludeFancyTraceback</tt>:</dt>
<dd>If True, then display a fancy, detailed traceback at the end of
the error page.  It will include the values of local variables in
the traceback.  This makes use of a modified version of <tt class="docutils literal">cgitb.py</tt>
which is included with Webware as <tt class="docutils literal">CGITraceback.py</tt>.
The <a class="reference external" href="http://web.lfw.org/python/">original version</a> was written by Ka-Ping Yee.
Default: <tt class="docutils literal">False</tt> (off).</dd>
<dt><tt class="docutils literal">FancyTracebackContext</tt>:</dt>
<dd>The number of lines of source code context to show if
IncludeFancyTraceback is turned on.  Default: <tt class="docutils literal">5</tt>.</dd>
<dt><tt class="docutils literal">UserErrorMessage</tt>:</dt>
<dd>This is the error message that is displayed to the user when an
uncaught exception escapes a servlet.  Default: <tt class="docutils literal">&quot;The site is
having technical difficulties with this page. An error has been
logged, and the problem will be fixed as soon as possible. Sorry!&quot;</tt></dd>
<dt><tt class="docutils literal">ErrorLogFilename</tt>:</dt>
<dd>The name of the file where exceptions are logged.  Each entry
contains the date and time, filename, pathname, exception name and
data, and the HTML error message filename (assuming there is one).
Default: <tt class="docutils literal">Logs/Errors.csv</tt>.</dd>
<dt><tt class="docutils literal">SaveErrorMessages</tt>:</dt>
<dd>If True, then errors (e.g., uncaught exceptions) will produce an
HTML file with both the user message and debugging information.
Developers/administrators can view these files after the fact, to see
the details of what went wrong.  These error messages can take a
surprising amount of space.  Default: <tt class="docutils literal">True</tt> (do save).</dd>
<dt><tt class="docutils literal">ErrorMessagesDir</tt>:</dt>
<dd>This is the name of the directory where HTML error messages get
stored.  The path is interpreted as relative to the working directory
(or WebKit path, if you're not using a working directory), or you
can specify an absolute path.Default: <tt class="docutils literal">ErrorMsgs</tt>.</dd>
<dt><tt class="docutils literal">EmailErrors</tt>:</dt>
<dd>If True, error messages are e-mailed out according to the
ErrorEmailServer and ErrorEmailHeaders settings.  You must also set
<tt class="docutils literal">ErrorEmailServer</tt> and <tt class="docutils literal">ErrorEmailHeaders</tt>.  Default: <tt class="docutils literal">False</tt>
(false/do not email).</dd>
<dt><tt class="docutils literal">EmailErrorReportAsAttachment</tt>:</dt>
<dd>Set to True to make html error reports be emailed as text with an
html attachment, or False to make the html the body of the message.
Default: <tt class="docutils literal">False</tt> (html in body).</dd>
<dt><tt class="docutils literal">ErrorEmailServer</tt>:</dt>
<dd>The SMTP server to use for sending e-mail error messages, and, if
required, the port, username and password, all separated by colons.
For authentication via &quot;SMTP after POP&quot;, you can furthermore append the
name of a POP3 server, the port to be used and an <tt class="docutils literal">SSL</tt> flag.
Default: <tt class="docutils literal">'localhost'</tt>.</dd>
<dt><tt class="docutils literal">ErrorEmailHeaders</tt>:</dt>
<dd><p class="first">The e-mail headers used for e-mailing error messages.  Be sure to
configure <tt class="docutils literal">&quot;From&quot;</tt>, <tt class="docutils literal">&quot;To&quot;</tt> and <tt class="docutils literal"><span class="pre">&quot;Reply-To&quot;</span></tt> before turning
<tt class="docutils literal">EmailErrors</tt> on.  Default:</p>
<pre class="last literal-block">
{
    'From':         'webware&#64;mydomain,
    'To':           ['webware&#64;mydomain'],
    'Reply-To':     'webware&#64;mydomain',
    'Content-Type': 'text/html',
    'Subject':      'Error'
}
</pre>
</dd>
<dt><tt class="docutils literal">ErrorPage</tt>:</dt>
<dd><p class="first">You can use this to set up custom error pages for HTTP errors and any
other exceptions raised in Webware servlets.  Set it to the URL of a
custom error page (any Webware servlet) to catch all kinds of exceptions.
If you want to catch only particular errors, you can set it to a dictionary
mapping the names of the corresponding exception classes to the URL to
which these exceptions should be redirected.  For instance:</p>
<pre class="literal-block">
{
     'HTTPNotFound': '/Errors/NotFound',
     'CustomError':  '/Errors/Custom'
}
</pre>
<p>If you want to catch any exceptions except HTTP errors, you can set it to:</p>
<pre class="literal-block">
{
    'Exception':     '/ErrorPage',
    'HTTPException': None
}
</pre>
<p class="last">Whenever one of the configured exceptions is thrown in a servlet, you
will be automatically forwarded to the corresponding error page servlet.
More specifically defined exceptions overrule the more generally defined.
You can even forward from one error page to another error page unless
you are not creating loops.  In an <tt class="docutils literal">HTTPNotFound</tt> error page, the servlet
needs to determine the erroneous URI with <tt class="docutils literal"><span class="pre">self.request().previousURI()</span></tt>,
since the <tt class="docutils literal">uri()</tt> method returns the URI of the current servlet, which
is the error page itself.  When a custom error page is displayed, the
standard error handler will not be called.  So if you want to generate
an error email or saved error report, you must do so explicitly in your
error page servlet.  Default: <tt class="docutils literal">None</tt> (no custom error page).</p>
</dd>
<dt><tt class="docutils literal">MaxValueLengthInExceptionReport</tt>:</dt>
<dd>Values in exception reports are truncated to this length, to avoid
excessively long exception reports.  Set this to <tt class="docutils literal">None</tt> if you
don't want any truncation.  Default: <tt class="docutils literal">500</tt>.</dd>
<dt><tt class="docutils literal">RPCExceptionReturn</tt>:</dt>
<dd>Determines how much detail an RPC servlet will return when an exception
occurs on the server side.  Can take the values, in order of increasing
detail, <tt class="docutils literal">&quot;occurred&quot;</tt>, <tt class="docutils literal">&quot;exception&quot;</tt> and <tt class="docutils literal">&quot;traceback&quot;</tt>.  The first
reports the string <tt class="docutils literal">&quot;unhandled exception</tt>&quot;, the second prints the actual
exception, and the third prints both the exception and accompanying
traceback.  All returns are always strings.  Default: <tt class="docutils literal">&quot;traceback&quot;</tt>.</dd>
<dt><tt class="docutils literal">ReportRPCExceptionsInWebKit</tt>:</dt>
<dd>True means report exceptions in RPC servlets in the same way as
exceptions in other servlets, i.e. in the logfiles, the error log,
and/or by email.  False means don't report the exceptions on the
server side at all; this is useful if your RPC servlets are
raising exceptions by design and you don't want to be notified.
Default: <tt class="docutils literal">True</tt> (do report exceptions).</dd>
</dl>
</div>
<div class="section" id="logging">
<h2>Logging</h2>
<dl class="docutils">
<dt><tt class="docutils literal">LogActivity</tt>:</dt>
<dd>If True, then the execution of each servlet is logged with useful
information such as time, duration and whether or not an error
occurred.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">ActivityLogFilenames</tt>:</dt>
<dd>This is the name of the file that servlet executions are logged to.
This setting has no effect if <tt class="docutils literal">LogActivity</tt> is False.  The path can
be relative to the WebKit location, or an absolute path.
Default: <tt class="docutils literal">&quot;Logs/Activity.csv&quot;</tt>.</dd>
<dt><tt class="docutils literal">ActivityLogColumns</tt>:</dt>
<dd>Specifies the columns that will be stored in the activity log.
Each column can refer to an object from the set:
[application, transaction, request, response, servlet, session]
and then refer to its attributes using &quot;dot notation&quot;.
The attributes can be methods or instance attributes and can be
qualified arbitrarily deep.  Default: <tt class="docutils literal">['request.remoteAddress',
'request.method', 'request.uri', 'response.size', 'servlet.name',
'request.timeStamp', 'transaction.duration',
'transaction.errorOccurred']</tt>.</dd>
</dl>
</div>
</div>
<div class="section" id="appserver-config">
<h1>AppServer.config</h1>
<dl class="docutils">
<dt><tt class="docutils literal">Host</tt>:</dt>
<dd>The IP address at which the application server will listen for requests.
Use an empty string (or <tt class="docutils literal">0.0.0.0</tt>) to listen on all local network
interfaces, or a specific address if you don't want to listen on all of them.
You should consider the security implications of allowing external access.
Default: <tt class="docutils literal">localhost</tt> (<tt class="docutils literal">127.0.0.1</tt>).</dd>
<dt><tt class="docutils literal">EnableAdapter</tt>:</dt>
<dd>Whether the application server should listen for requests from the adapter.
You'll want this on unless you decide to use the built-in HTTP server.
Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">AdapterPort</tt>:</dt>
<dd>The port the application server listens to for requests from the adapter.
You cannot point a browser to this port.  You may wish to change this if
you have another application running at this port, or if you are running
more than one AppServer, they must each be listening at a different port.
Default: <tt class="docutils literal">8086</tt>.</dd>
<dt><tt class="docutils literal">EnableMonitor</tt>:</dt>
<dd>Whether the application server should listen for monitor service requests.
Monitor is a minimal service that accepts a simple protocol and returns a
value indicating the status of the server.  If you enable this, a separate
monitoring program such as <tt class="docutils literal">Monitor.py</tt> can provide additional assurance
that the application server continues running at all times.
Default: <tt class="docutils literal">False</tt>.</dd>
<dt><tt class="docutils literal">MonitorPort</tt>:</dt>
<dd>The port for the monitor service.  You cannot point a browser to this port.
You may wish to change this if you have another application running at this
port, or if you are running more than one AppServer.  Default: <tt class="docutils literal">8085</tt>.</dd>
<dt><tt class="docutils literal">EnableSCGI</tt>:</dt>
<dd>Whether the application server should provide an SCGI connector.
This allows you to connect via SCGI instead of using the standard adapter.
Default: <tt class="docutils literal">False</tt>.</dd>
<dt><tt class="docutils literal">SCGIPort</tt>:</dt>
<dd>The port the application server listens to for SCGI connections.
You cannot point a browser to this port.  You may wish to change this if
you have another application running at this port, or if you are running
more than one AppServer, they must each be listening at a different port.
Default: <tt class="docutils literal">8084</tt>.</dd>
<dt><tt class="docutils literal">EnableHTTP</tt>:</dt>
<dd>Whether the built-in HTTP server shall be activated.  The server will listen
on the port specified by the <tt class="docutils literal">HTTPPort</tt> setting.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">HTTPPort</tt>:</dt>
<dd>The port the built-in HTTP server listens on.  You can point a web browser
to this port.  Default: <tt class="docutils literal">8080</tt>.</dd>
<dt><tt class="docutils literal">PidFile</tt>:</dt>
<dd>When the AppServer starts up, the process ID will be written into this file.
The location is relative to the working directory (or WebKit path, if you're
not using a working directory), or you can specify an absolute path.
Default: <tt class="docutils literal">appserver.pid</tt>.</dd>
<dt><tt class="docutils literal">AddressFiles</tt>:</dt>
<dd>When the AppServer starts up, the server address (IP address and port)
of the adapter handler and other handlers will be written into files with
this name, <tt class="docutils literal">%s</tt> being replaced by the name of the respective handler.
The location is relative to the working directory (or WebKit path, if you're
not using a working directory), or you can specify an absolute path.
Default: <tt class="docutils literal">%s.address</tt>.</dd>
<dt><tt class="docutils literal">PluginDirs</tt>:</dt>
<dd><p class="first">When the application server starts up, it looks in these locations for
plugins.  Each plugin is a subdirectory of its own.  By default WebKit looks
in the <tt class="docutils literal">Webware/</tt> directory (<tt class="docutils literal">..</tt>) for plugins -- several of which are
shipped with Webware.  Default: <tt class="docutils literal"><span class="pre">[&quot;..&quot;]</span></tt>.
See <a class="reference external" href="Developing.html#creatingplugins">Creating Plugins</a> for information on creating your own plug-ins.</p>
<p class="last">The advantage of a plug-in directory is that you can add new plug-ins to
the app server simply by dropping them into the  directory; no additional
configuration is necessary.</p>
</dd>
<dt><tt class="docutils literal">PlugIns</tt>:</dt>
<dd>Loads the plug-ins from the given locations when starting the AppServer.
You must add a directory to the list for every plug-in you use --
<tt class="docutils literal">PlugInDirs</tt> is usually easier.  Default: <tt class="docutils literal">[]</tt>.</dd>
<dt><tt class="docutils literal">PrintConfigAtStartUp</tt>:</dt>
<dd>If True, prints configuration to console at startup.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">Verbose</tt>:</dt>
<dd>If True, then additional messages are printed while the AppServer
runs, most notably information about each request such as size and
response time.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">SilentURIs</tt>:</dt>
<dd>If <tt class="docutils literal">Verbose</tt> is set to True, then you can use this setting to specify
URIs for which you don't want to print any messages in the output of the
AppServer.  The value is expected to be a regular expression that is
compared to the request URI.  For instance, if you want to suppress output
for images, JavaScript and CSS files, you can set <tt class="docutils literal">SilentURIs</tt> to
<tt class="docutils literal"><span class="pre">'\.(gif|jpg|jpeg|png|js|css)$'</span></tt> (though we do not recommend serving
static files with Webware; it's much more performant to deliver them
directly from the Apache server).  If set to <tt class="docutils literal">None</tt>, messages will be
printed for all requests handled by Webware.  Default: <tt class="docutils literal">None</tt></dd>
<dt><tt class="docutils literal">StartServerThreads</tt>:</dt>
<dd>The number of threads in the request handler thread pool that will
be created when the application server starts.  Default: <tt class="docutils literal">10</tt>.</dd>
<dt><tt class="docutils literal">MinServerThreads</tt>:</dt>
<dd>The minimum number of threads in the request handler thread pool.
This makes sure that always some threads are available immediately,
even when there had been no activity for a long time.  Default: <tt class="docutils literal">5</tt>.</dd>
<dt><tt class="docutils literal">MaxServerThreads</tt>:</dt>
<dd>The maximum number of threads in the request handler thread pool,
and therefore, the maximum number of concurrent requests that can
be served.  Unless you have a serious load on a high end machine,
the default is generally sufficient.  Default: <tt class="docutils literal">20</tt>.</dd>
<dt><tt class="docutils literal">UseDaemonThreads</tt>:</dt>
<dd>If True, make all worker threads daemon threads. This allows the
server to finish even when some of the worker threads cannot be
told to finish their work.  Default: <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">MaxRequestTime</tt>:</dt>
<dd>This setting controls automatic cancelation of long-running requests.
All worker threads executing requests longer than <tt class="docutils literal">MaxRequestTime</tt>
seconds will be automatically aborted with a <tt class="docutils literal">RequestTooLongError</tt>
exception.  The monitoring of long-running requests can be disabled
by setting this to <tt class="docutils literal">0</tt> or <tt class="docutils literal">None</tt>.  Default: <tt class="docutils literal">300</tt>.</dd>
<dt><tt class="docutils literal">CheckInterval</tt>:</dt>
<dd>The number of virtual instructions after which Python will check
for thread switches, signal handlers, etc.  This is passed directly
to <tt class="docutils literal">sys.setcheckinterval()</tt>.  Benchmarks have shown 100 to give a
worthwhile performance boost with higher values resulting in
little gain.  Default: <tt class="docutils literal">100</tt>.</dd>
<dt><tt class="docutils literal">RequestQueueSize</tt>:</dt>
<dd>The size of the queue for request handlers that is worked off by the
server threads.  A size of zero is interpreted as two times the maximum
number of worker threads, which has proven to be a reasonable number.
Default: <tt class="docutils literal">0</tt> (<tt class="docutils literal">2*MaxServerThreads</tt>).</dd>
<dt><tt class="docutils literal">RequestBufferSize</tt>:</dt>
<dd>Buffer size used for reading incoming socket requests.  Default: <tt class="docutils literal">8192</tt>.</dd>
<dt><tt class="docutils literal">ResponseBufferSize</tt>:</dt>
<dd>Buffer size for the output response stream.  This is only used when a
servlet has set <tt class="docutils literal">autoFlush</tt> to True using the <tt class="docutils literal">flush()</tt> method of
the Response.  Otherwise, the whole response is buffered and sent in one
shot when the servlet is done.  Default: <tt class="docutils literal">8192</tt>.</dd>
<dt><tt class="docutils literal">AutoReload</tt>:</dt>
<dd><p class="first">Enables the AutoReloadingAppServer module.  This module is designed
to notice changes to source files, including servlets, PSP's templates,
or changes to the Webware source files, and reload the server as
necessary to pick up the changes.</p>
<p>This uses the FAM (File Alteration Monitor) module specified in the setting
<tt class="docutils literal">UseFAMModules</tt> if available.  You can also specify several modules to
check them in the given order (the default is <tt class="docutils literal">gamin _fam</tt> for using
<a class="reference external" href="http://www.gnome.org/~veillard/gamin/">python-gamin</a> or <a class="reference external" href="http://python-fam.sourceforge.net">python-fam</a>).  Otherwise, if no FAM module is specified
or installed, or when ImportSpy has been disabled by setting <tt class="docutils literal">UseImportSpy</tt>
to False, it resorts to polling.  The polling interval in seconds can be set
with the <tt class="docutils literal">AutoReloadPollInterval</tt> setting which defaults to 1 second.</p>
<p class="last">By default, <tt class="docutils literal">AutoReload</tt> is set to <tt class="docutils literal">False</tt>.</p>
</dd>
</dl>
</div>
</div>
</body>
</html>
