.TH "BEETSCONFIG" "5" "December 31, 2012" "1.0" "beets"
.SH NAME
beetsconfig \- beets configuration file
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructuredText.
.
.sp
The \fBbeet\fP command reads configuration information from \fB~/.beetsconfig\fP on
Unix\-like OSes (inluding Mac OS X) and \fB%APPDATA%\ebeetsconfig.ini\fP on Windows.
The file is in INI format.
.SH OPTIONS
.sp
These options are available, all of which must appear under the \fB[beets]\fP
section header:
.SS library
.sp
Path to the beets library file. Defaults to \fB~/.beetsmusic.blb\fP on Unix
and \fB%APPDATA\ebeetsmusic.blb\fP on Windows.
.SS directory
.sp
The directory to which files will be copied/moved when adding them to the
library. Defaults to \fB~/Music\fP.
.SS import_write
.sp
Either \fByes\fP or \fBno\fP, controlling whether metadata (e.g., ID3) tags are
written to files when using \fBbeet import\fP. Defaults to \fByes\fP. The \fB\-w\fP
and \fB\-W\fP command\-line options override this setting.
.SS import_copy
.sp
Either \fByes\fP or \fBno\fP, indicating whether to \fBcopy\fP files into the
library directory when using \fBbeet import\fP. Defaults to \fByes\fP.  Can be
overridden with the \fB\-c\fP and \fB\-C\fP command\-line options.
.sp
The option is ignored if \fBimport_move\fP is enabled (i.e., beets can move or
copy files but it doesn\(aqt make sense to do both).
.SS import_move
.sp
Either \fByes\fP or \fBno\fP, indicating whether to \fBmove\fP files into the
library directory when using \fBbeet import\fP.
Defaults to \fBno\fP.
.sp
The effect is similar to the \fBimport_copy\fP option but you end up with only
one copy of the imported file. ("Moving" works even across filesystems; if
necessary, beets will copy and then delete when a simple rename is
impossible.) Moving files can be risky—it\(aqs a good idea to keep a backup in
case beets doesn\(aqt do what you expect with your files.
.sp
This option \fIoverrides\fP \fBimport_copy\fP, so enabling it will always move
(and not copy) files. The \fB\-c\fP switch to the \fBbeet import\fP command,
however, still takes precedence.
.SS import_resume
.sp
Either \fByes\fP, \fBno\fP, or \fBask\fP. Controls whether interrupted imports
should be resumed. "Yes" means that imports are always resumed when
possible; "no" means resuming is disabled entirely; "ask" (the default)
means that the user should be prompted when resuming is possible. The \fB\-p\fP
and \fB\-P\fP flags correspond to the "yes" and "no" settings and override this
option.
.SS import_incremental
.sp
Either \fByes\fP or \fBno\fP, controlling whether imported directories are
recorded and whether these recorded directories are skipped.  This
corresponds to the \fB\-i\fP flag to \fBbeet import\fP.
.SS import_quiet_fallback
.sp
Either \fBskip\fP (default) or \fBasis\fP, specifying what should happen in
quiet mode (see the \fB\-q\fP flag to \fBimport\fP, above) when there is no
strong recommendation.
.SS import_timid
.sp
Either \fByes\fP or \fBno\fP, controlling whether the importer runs in \fItimid\fP
mode, in which it asks for confirmation on every autotagging match, even the
ones that seem very close. Defaults to \fBno\fP. The \fB\-t\fP command\-line flag
controls the same setting.
.SS import_log
.sp
Specifies a filename where the importer\(aqs log should be kept.  By default,
no log is written. This can be overridden with the \fB\-l\fP flag to
\fBimport\fP.
.SS ignore
.sp
A space\-separated list of glob patterns specifying file and directory names
to be ignored when importing. Defaults to \fB.* *~\fP (i.e., ignore
Unix\-style hidden files and backup files).
.SS replace
.sp
A set of regular expression/replacement pairs to be applied to all filenames
created by beets. Typically, these replacements are used to avoid confusing
problems or errors with the filesystem (for example, leading \fB.\fP
characters are replaced on Unix and trailing whitespace is removed on
Windows). To override these substitutions, specify a sequence of
whitespace\-separated terms; the first term is a regular expression and the
second is a string that should replace anything matching that regex. For
example, \fBreplace = [xy] z\fP will make beets replace all instances of the
characters \fBx\fP or \fBy\fP with the character \fBz\fP.
.sp
If you do change this value, be certain that you include at least enough
substitutions to avoid causing errors on your operating system. Here are
the default substitutions used by beets, which are sufficient to avoid
unexpected behavior on all popular platforms:
.sp
.nf
.ft C
replace = [\e\e/] _
            ^\e. _
            [\ex00\-\ex1f] _
            [<>:"\e?\e*\e|] _
            \e.$ _
            \es+$ <strip>
.ft P
.fi
.sp
These substitutions remove forward and back slashes, leading dots, and
control characters—all of which is a good idea on any OS. The fourth line
removes the Windows "reserved characters" (useful even on Unix for for
compatibility with Windows\-influenced network filesystems like Samba).
Trailing dots and trailing whitespace, which can cause problems on Windows
clients, are also removed.
.sp
To replace space characters, use the \fB\es\fP (whitespace) entity:
.sp
.nf
.ft C
replace = \es _
            ...
.ft P
.fi
.sp
This will avoid using a literal space and thus confusing beets. (\fB\es\fP also
matches tabs and newlines, but that is probably fine.)
.sp
To remove characters entirely, use \fB<strip>\fP as the replacement. For
example, to remove all vowels from your filenames:
.sp
.nf
.ft C
replace = [aeiou] <strip>
            ...
.ft P
.fi
.SS art_filename
.sp
When importing album art, the name of the file (without extension) where the
cover art image should be placed. This is a template string, so you can use any
of the syntax available to \fB/reference/pathformat\fP. Defaults to \fBcover\fP
(i.e., images will be named \fBcover.jpg\fP or \fBcover.png\fP and placed in the
album\(aqs directory).
.SS plugins
.sp
A space\-separated list of plugin module names to load. For instance, beets
includes the BPD plugin for playing music.
.SS pluginpath
.sp
A colon\-separated list of directories to search for plugins.  These paths
are just added to \fBsys.path\fP before the plugins are loaded. The plugins
still have to be contained in a \fBbeetsplug\fP namespace package.
.SS threaded
.sp
Either \fByes\fP or \fBno\fP, indicating whether the autotagger should use
multiple threads. This makes things faster but may behave strangely.
Defaults to \fByes\fP.
.SS color
.sp
Either \fByes\fP or \fBno\fP; whether to use color in console output (currently
only in the \fBimport\fP command). Turn this off if your terminal doesn\(aqt
support ANSI colors.
.SS timeout
.sp
The amount of time that the SQLite library should wait before raising an
exception when the database lock is contended. This should almost never need
to be changed except on very slow systems. Defaults to 5.0 (5 seconds).
.SS list_format_item
.sp
Format to use when listing \fIindividual items\fP with the \fIlist\-cmd\fP
command and other commands that need to print out items. Defaults to
\fB$artist \- $album \- $title\fP. The \fB\-f\fP command\-line option overrides
this setting.
.SS list_format_album
.sp
Format to use when listing \fIalbums\fP with \fIlist\-cmd\fP and other
commands. Defaults to \fB$albumartist \- $album\fP. The \fB\-f\fP command\-line
option overrides this setting.
.SS per_disc_numbering
.sp
A boolean controlling the track numbering style on multi\-disc releases. By
default (\fBper_disc_numbering: no\fP), tracks are numbered per\-release, so the
first track on the second disc has track number N+1 where N is the number of
tracks on the first disc. If this \fBper_disc_numbering\fP is enabled, then the
first track on each disc always has track number 1.
.sp
If you enable \fBper_disc_numbering\fP, you will likely want to change your
\fI\%Path Format Configuration\fP also to include \fB$disc\fP before \fB$track\fP to make
filenames sort correctly in album directories. For example, you might want to
use a path format like this:
.sp
.nf
.ft C
[paths]
default: $albumartist/$album%aunique{}/$disc\-$track $title
.ft P
.fi
.SS import_delete
.sp
Either \fByes\fP or \fBno\fP. When enabled in conjunction with \fBimport_copy\fP,
deletes original files after they are copied into your library. Has no
effect if the importer is in \fBimport_move\fP mode or "leave files in place"
mode. Defaults to \fBno\fP.
.sp
This option is historical and deprecated: it\(aqs almost always more
appropriate to use \fBimport_move\fP instead.
.SH PATH FORMAT CONFIGURATION
.sp
You can also configure the directory hierarchy beets uses to store music.  These
settings appear under the \fB[paths]\fP section (rather than the main \fB[beets]\fP
section we used above).  Each string is a template string that can refer to
metadata fields like \fB$artist\fP or \fB$title\fP. The filename extension is added
automatically. At the moment, you can specify three special paths: \fBdefault\fP
for most releases, \fBcomp\fP for "various artist" releases with no dominant
artist, and \fBsingleton\fP for non\-album tracks. The defaults look like this:
.sp
.nf
.ft C
[paths]
default: $albumartist/$album%aunique{}/$track $title
singleton: Non\-Album/$artist/$title
comp: Compilations/$album%aunique{}/$track $title
.ft P
.fi
.sp
Note the use of \fB$albumartist\fP instead of \fB$artist\fP; this ensure that albums
will be well\-organized. For more about these format strings, see
\fBpathformat\fP. The \fBaunique{}\fP function ensures that identically\-named
albums are placed in different directories; see \fIaunique\fP for details.
.sp
In addition to \fBdefault\fP, \fBcomp\fP, and \fBsingleton\fP, you can condition path
queries based on beets queries (see \fB/reference/query\fP). There\(aqs one catch:
because the \fB:\fP character is reserved for separating the query from the
template string, the \fB_\fP character is substituted for \fB:\fP in these queries.
This means that a config file like this:
.sp
.nf
.ft C
[paths]
albumtype_soundtrack: Soundtracks/$album/$track $title
.ft P
.fi
.sp
will place soundtrack albums in a separate directory. The queries are tested in
the order they appear in the configuration file, meaning that if an item matches
multiple queries, beets will use the path format for the \fIfirst\fP matching query.
.sp
Note that the special \fBsingleton\fP and \fBcomp\fP path format conditions are, in
fact, just shorthand for the explicit queries \fBsingleton_true\fP and
\fBcomp_true\fP. In contrast, \fBdefault\fP is special and has no query equivalent:
the \fBdefault\fP format is only used if no queries match.
.SH EXAMPLE
.sp
Here\(aqs an example file:
.sp
.nf
.ft C
[beets]
library: /var/music.blb
directory: /var/mp3
path_format: $genre/$artist/$album/$track $title
import_copy: yes
import_write: yes
import_resume: ask
import_art: yes
import_quiet_fallback: skip
import_timid: no
import_log: beetslog.txt
ignore: .AppleDouble ._* *~ .DS_Store
art_filename: albumart
plugins: bpd
pluginpath: ~/beets/myplugins
threaded: yes
color: yes

[paths]
default: $genre/$albumartist/$album/$track $title
singleton: Singletons/$artist \- $title
comp: $genre/$album/$track $title
albumtype_soundtrack: Soundtracks/$album/$track $title

[bpd]
host: 127.0.0.1
port: 6600
password: seekrit
.ft P
.fi
.sp
(That \fB[bpd]\fP section configures the optional \fBBPD\fP
plugin.)
.SH LOCATION
.sp
The configuration file is typically located at \fB$HOME/.beetsconfig\fP. If you
want to store your \fB.beetsconfig\fP file somewhere else for whatever reason, you
can specify its path by setting the \fBBEETSCONFIG\fP environment variable.
.SH AUTHOR
Adrian Sampson
.SH COPYRIGHT
2012, Adrian Sampson
.\" Generated by docutils manpage writer.
.
