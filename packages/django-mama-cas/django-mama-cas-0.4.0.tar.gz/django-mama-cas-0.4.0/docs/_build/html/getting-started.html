

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting started &mdash; django-mama-cas 0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-mama-cas 0.3 documentation" href="index.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="django-mama-cas documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Changelog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="django-mama-cas documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">django-mama-cas 0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The primary prerequesite of django-mama-cas is <a class="reference external" href="http://www.djangoproject.com">Django</a> itself. For django-mama-cas 0.3, Django
1.4 or later is required. Earlier versions of Django may work, but are not
tested or supported. See the <a class="reference external" href="https://www.djangoproject.com/download/">Django downloads</a> page for information on
downloading and installing Django.</p>
<p>The Python <a class="reference external" href="http://python-requests.org/">requests</a> library is also required,
but should be automatically installed during the installation process
described below.</p>
<p>You will also need at least one <a class="reference external" href="http://pypi.python.org/pypi?:action=browse&amp;c=475&amp;c=523">authentication backend</a>
<a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/auth/#specifying-authentication-backends">installed and configured</a>,
depending on your authoritative authentication source.</p>
</div>
<div class="section" id="installing-django-mama-cas">
<h2>Installing django-mama-cas<a class="headerlink" href="#installing-django-mama-cas" title="Permalink to this headline">¶</a></h2>
<div class="section" id="via-pip">
<h3>Via pip<a class="headerlink" href="#via-pip" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to install django-mama-cas is using pip. Simply type:</p>
<div class="highlight-python"><pre>pip install django-mama-cas</pre>
</div>
<p>It is recommended to run this command within a
<a class="reference external" href="http://www.virtualenv.org">virtualenv</a> so django-mama-cas is installed
in an isolated environment instead of system wide.</p>
</div>
<div class="section" id="via-a-downloaded-package">
<h3>Via a downloaded package<a class="headerlink" href="#via-a-downloaded-package" title="Permalink to this headline">¶</a></h3>
<p>You can also manually download django-mama-cas from
<a class="reference external" href="https://github.com/jbittel/django-mama-cas">GitHub</a>. Extract the downloaded
archive and install it with:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
<p>Alternately, you can manually put django-mama-cas anywhere, provided it is on
the Python path. If you take the route, you will also need to manually install
the <a class="reference external" href="http://python-requests.org">requests library</a> dependency.</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Once installed, add django-mama-cas to your project by modifying the
<tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt> setting within your project&#8217;s <tt class="docutils literal"><span class="pre">settings.py</span></tt> to include
this line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;mama_cas&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Once django-mama-cas is added to the project, run <tt class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">syncdb</span></tt>
to create the required database tables.</p>
<div class="section" id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<p>django-mama-cas can be modified using several custom settings. None are
required, but can be used to override the defaults.</p>
<dl class="docutils">
<dt><strong>MAMA_CAS_TICKET_EXPIRE (default: 5)</strong></dt>
<dd>Controls the length of time, in minutes, between when a service or proxy
ticket is generated and when it expires. If the ticket is not validated
before this time is up, it will become invalid. This does NOT affect the
duration of a user&#8217;s single sign-on session.</dd>
<dt><strong>MAMA_CAS_TICKET_RAND_LEN (default: 32)</strong></dt>
<dd>Sets the number of random characters created as part of the ticket string.
It should be long enough that the ticket cannot be brute forced within a
reasonable amount of time. Longer values are more secure, but could cause
compatibility problems with some clients.</dd>
<dt><strong>MAMA_CAS_USER_ATTRIBUTES (default: {})</strong></dt>
<dd><p class="first">A dictionary of name and <tt class="docutils literal"><span class="pre">User</span></tt> attribute values to be returned along
with a service or proxy validation success. The key can be any meaningful
string, while the value must correspond with an attribute on the
<tt class="docutils literal"><span class="pre">User</span></tt> object. For example:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">MAMA_CAS_USER_ATTRIBUTES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;givenName&#39;</span><span class="p">:</span> <span class="s">&#39;first_name&#39;</span><span class="p">,</span>
    <span class="s">&#39;sn&#39;</span><span class="p">:</span> <span class="s">&#39;last_name&#39;</span><span class="p">,</span>
    <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;email&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><strong>MAMA_CAS_PROFILE_ATTRIBUTES (default: {})</strong></dt>
<dd><p class="first">A dictionary of name and user profile attribute values to be returned along
with a service or proxy validation success. The key can be any meaningful
string, while the value must correspond with an attribute on the user
profile object. If no user profile is configured or available, this setting
will be ignored. For example:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">MAMA_CAS_PROFILE_ATTRIBUTES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;employeeID&#39;</span><span class="p">:</span> <span class="s">&#39;id_number&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><strong>MAMA_CAS_VALID_SERVICES (default: ())</strong></dt>
<dd><p class="first">A list of valid service regular expressions that a service URL is tested
against when a ticket is validated. If none of the regular expressions
match the provided URL, the request fails. Any valid Python regular
expression is accepted. If no valid services are configured, any service
URL will be allowed. For example:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">MAMA_CAS_VALID_SERVICES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;https?://www\.example\.edu/secure/.*&#39;</span><span class="p">,</span>
    <span class="s">&#39;https://.*\.example\.com/.*&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="sessions">
<h3>Sessions<a class="headerlink" href="#sessions" title="Permalink to this headline">¶</a></h3>
<p>django-mama-cas relies on standard Django sessions to control session storage
and expiration. To understand how sessions work within Django, read the
<a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/sessions/">session documentation</a>.
There are three particular settings that control where sessions are stored and
when they expire:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/sessions/#session-engine">SESSION_ENGINE</a></li>
<li><a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/sessions/#session-cookie-age">SESSION_COOKIE_AGE</a></li>
<li><a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/sessions/#session-expire-at-browser-close">SESSION_EXPIRE_AT_BROWSER_CLOSE</a></li>
</ul>
</div></blockquote>
<p>It is recommended that <tt class="docutils literal"><span class="pre">SESSION_COOKIE_AGE</span></tt> be set shorter than the default
of two weeks. <tt class="docutils literal"><span class="pre">SESSION_EXPIRE_AT_BROWSER_CLOSE</span></tt> should be set to <tt class="docutils literal"><span class="pre">True</span></tt>
to conform to the CAS specification. Both of these settings can be configured
to meet your particular environment and security needs.</p>
</div>
<div class="section" id="url-paths">
<h3>URL paths<a class="headerlink" href="#url-paths" title="Permalink to this headline">¶</a></h3>
<p>django-mama-cas includes a Django <tt class="docutils literal"><span class="pre">URLconf</span></tt> that provides the required CAS
URIs (e.g. login, logout, validate, etc.). They are located in
<tt class="docutils literal"><span class="pre">mama_cas.urls</span></tt> and can be included directly in your project&#8217;s root
<tt class="docutils literal"><span class="pre">URLconf</span></tt>. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;mama_cas.urls&#39;</span><span class="p">)),</span>
</pre></div>
</div>
<p>This would make the CAS server available at the top level of your project&#8217;s
URLs. If this is not the desired path, add a base to the included URLs. For
example, if you wished the CAS server to be available under the <tt class="docutils literal"><span class="pre">/cas/</span></tt>
root, use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="s">r&#39;^cas/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;mama_cas.urls&#39;</span><span class="p">)),</span>
</pre></div>
</div>
<p>All CAS enabled services need to be configured according to the URL settings
here. Changing the CAS URLs within <tt class="docutils literal"><span class="pre">mama_cas.urls</span></tt> is not recommended as
that will likely break standard CAS behavior.</p>
</div>
<div class="section" id="templates">
<h3>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h3>
<p>django-mama-cas comes with a basic login template implementing standard
username and password authentication. It will work as provided, but can also
be extended or replaced according to your needs.</p>
<p>If you are returning custom user attributes with a service or proxy validation
response, you may also need to change the validation XML template to return
the attributes in the correct format.</p>
<p>Read the <a class="reference internal" href="templates.html#templates"><em>template documentation</em></a> for more information on the
included templates and customization.</p>
</div>
</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>django-mama-cas does not perform any authentication itself. It relies on the
configured Django authentication backends for that task. The process of
configuring authentication backends will change depending on the backend in
use.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/auth/">Django user authentication</a>: the official
documentation for the user authentication system in Django.</li>
<li><a class="reference external" href="http://www.djangopackages.com/grids/g/authentication/">Django authentication packages</a>: an unofficial
list of packages for user authentication.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting started</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installing-django-mama-cas">Installing django-mama-cas</a><ul>
<li><a class="reference internal" href="#via-pip">Via pip</a></li>
<li><a class="reference internal" href="#via-a-downloaded-package">Via a downloaded package</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#sessions">Sessions</a></li>
<li><a class="reference internal" href="#url-paths">URL paths</a></li>
<li><a class="reference internal" href="#templates">Templates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">django-mama-cas documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="changelog.html"
                        title="next chapter">Changelog</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/getting-started.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Changelog"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="django-mama-cas documentation"
             >previous</a> |</li>
        <li><a href="index.html">django-mama-cas 0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Jason Bittel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>