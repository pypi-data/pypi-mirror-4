'\" t
.\"     Title: cdist-reference
.\"    Author: Nico Schottelius <nico-cdist--@--schottelius.org>
.\" Generator: DocBook XSL Stylesheets v1.77.1 <http://docbook.sf.net/>
.\"      Date: 10/26/2012
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "CDIST\-REFERENCE" "7" "10/26/2012" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
cdist-reference \- Variable, path and type reference for cdist
.SH "EXPLORERS"
.sp
The following global explorers are available:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
hostname
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
interfaces
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
lsb_codename
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
lsb_description
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
lsb_id
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
lsb_release
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
machine
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
os
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
os_version
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
runlevel
.RE
.SH "PATHS"
.sp
If not specified otherwise, all paths are relative to the checkout directory\&.
.PP
conf/
.RS 4
Contains the (static) configuration like manifests, types and explorers\&.
.RE
.PP
conf/manifest/init
.RS 4
This is the central entry point\&. It is an executable (+x bit set) shell script that can use values from the explorers to decide which configuration to create for the specified target host\&. Its intent is to used to define mapping from configurations to hosts\&.
.RE
.PP
conf/manifest/*
.RS 4
All other files in this directory are not directly used by cdist, but you can seperate configuration mappings, if you have a lot of code in the conf/manifest/init file\&. This may also be helpful to have different admins maintain different groups of hosts\&.
.RE
.PP
conf/explorer/<name>
.RS 4
Contains explorers to be run on the target hosts, see cdist\-explorer(7)\&.
.RE
.PP
conf/type/
.RS 4
Contains all available types, which are used to provide some kind of functionality\&. See cdist\-type(7)\&.
.RE
.PP
conf/type/<name>/
.RS 4
Home of the type <name>\&.
.sp
.if n \{\
.RS 4
.\}
.nf
This directory is referenced by the variable __type (see below)\&.
.fi
.if n \{\
.RE
.\}
.RE
.PP
conf/type/<name>/man\&.text
.RS 4
Manpage in Asciidoc format (required for inclusion into upstream)
.RE
.PP
conf/type/<name>/manifest
.RS 4
Used to generate additional objects from a type\&.
.RE
.PP
conf/type/<name>/gencode\-local
.RS 4
Used to generate code to be executed on the source host
.RE
.PP
conf/type/<name>/gencode\-remote
.RS 4
Used to generate code to be executed on the target host
.RE
.PP
conf/type/<name>/parameter/required
.RS 4
Parameters required by type, \en seperated list\&.
.RE
.PP
conf/type/<name>/parameter/optional
.RS 4
Parameters optionally accepted by type, \en seperated list\&.
.RE
.PP
conf/type/<name>/parameter/boolean
.RS 4
Boolean parameters accepted by type, \en seperated list\&.
.RE
.PP
conf/type/<name>/explorer
.RS 4
Location of the type specific explorers\&. This directory is referenced by the variable __type_explorer (see below)\&. See cdist\-explorer(7)\&.
.RE
.PP
out/
.RS 4
This directory contains output of cdist and is usually located in a temporary directory and thus will be removed after the run\&. This directory is referenced by the variable __global (see below)\&.
.RE
.PP
out/explorer
.RS 4
Output of general explorers\&.
.RE
.PP
out/object
.RS 4
Objects created for the host\&.
.RE
.PP
out/object/<object>
.RS 4
Contains all object specific information\&. This directory is referenced by the variable __object (see below)\&.
.RE
.PP
out/object/<object>/explorers
.RS 4
Output of type specific explorers, per object\&.
.RE
.SH "TYPES"
.sp
The following types are available:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__apt_ppa (cdist\-type__apt_ppa(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__apt_update_index (cdist\-type__apt_update_index(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__autofs_map (cdist\-type__autofs_map(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__autofs_master (cdist\-type__autofs_master(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__cdistmarker (cdist\-type__cdistmarker(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__cron (cdist\-type__cron(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__debconf_set_selections (cdist\-type__debconf_set_selections(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__directory (cdist\-type__directory(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__file (cdist\-type__file(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__group (cdist\-type__group(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__issue (cdist\-type__issue(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__jail (cdist\-type__jail(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__key_value (cdist\-type__key_value(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__line (cdist\-type__line(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__link (cdist\-type__link(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__mkfs (cdist\-type__mkfs(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__motd (cdist\-type__motd(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__mysql_database (cdist\-type__mysql_database(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_apt (cdist\-type__package_apt(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_luarocks (cdist\-type__package_luarocks(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_opkg (cdist\-type__package_opkg(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_pacman (cdist\-type__package_pacman(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_pip (cdist\-type__package_pip(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_pkg_freebsd (cdist\-type__package_pkg_freebsd(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_pkg_openbsd (cdist\-type__package_pkg_openbsd(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_rubygem (cdist\-type__package_rubygem(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package (cdist\-type__package(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_yum (cdist\-type__package_yum(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__package_zypper (cdist\-type__package_zypper(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__partition_msdos_apply (cdist\-type__partition_msdos_apply(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__partition_msdos (cdist\-type__partition_msdos(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__pf_apply (cdist\-type__pf_apply(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__pf_ruleset (cdist\-type__pf_ruleset(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__postgres_database (cdist\-type__postgres_database(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__postgres_role (cdist\-type__postgres_role(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__process (cdist\-type__process(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__qemu_img (cdist\-type__qemu_img(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__rvm_gemset (cdist\-type__rvm_gemset(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__rvm_gem (cdist\-type__rvm_gem(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__rvm_ruby (cdist\-type__rvm_ruby(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__rvm (cdist\-type__rvm(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__ssh_authorized_key (cdist\-type__ssh_authorized_key(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__start_on_boot (cdist\-type__start_on_boot(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__timezone (cdist\-type__timezone(7))
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
__user (cdist\-type__user(7))
.RE
.SH "OBJECTS"
.sp
For object to object communication and tests, the following paths are usable within a object directory:
.PP
changed
.RS 4
This empty file exists in an object directory, if the object has code to be excuted (either remote or local)
.RE
.SH "ENVIRONMENT VARIABLES"
.PP
__explorer
.RS 4
Directory that contains all global explorers\&. Available for: explorer, type explorer
.RE
.PP
__manifest
.RS 4
Directory that contains the initial manifest\&. Available for: initial manifest, type manifest
.RE
.PP
__global
.RS 4
Directory that contains generic output like explorer\&. Available for: initial manifest, type manifest, type gencode
.RE
.PP
__object
.RS 4
Directory that contains the current object\&. Available for: type manifest, type explorer, type gencode
.RE
.PP
__object_id
.RS 4
The type unique object id\&. Available for: type manifest, type explorer, type gencode
.sp
.if n \{\
.RS 4
.\}
.nf
Note: The leading and the trailing "/" will always be stripped (caused by
the filesystem database and ensured by the core)\&.
.fi
.if n \{\
.RE
.\}
.sp
.if n \{\
.RS 4
.\}
.nf
    Note: Double slashes ("//") will not be fixed and result in an error\&.
__object_name::
    The full qualified name of the current object\&.
    Available for: type manifest, type explorer, type gencode
__target_host::
    The host we are deploying to\&.
    Available for: explorer, initial manifest, type explorer, type manifest, type gencode
__type::
    Path to the current type\&.
    Available for: type manifest, type gencode
__type_explorer::
    Directory that contains the type explorers\&.
    Available for: type explorer
.fi
.if n \{\
.RE
.\}
.RE
.SH "SEE ALSO"
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
cdist(1)
.RE
.SH "COPYING"
.sp
Copyright (C) 2011\-2012 Nico Schottelius\&. Free use of this software is granted under the terms of the GNU General Public License version 3 (GPLv3)\&.
.SH "AUTHOR"
.PP
\fBNico Schottelius\fR <\&nico\-cdist\-\-@\-\-schottelius\&.org\&>
.RS 4
Author.
.RE
