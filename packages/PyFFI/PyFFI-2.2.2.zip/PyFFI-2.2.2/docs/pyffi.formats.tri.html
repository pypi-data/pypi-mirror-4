

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyffi.formats.tri — TRI (.tri) &mdash; PyFFI 2.2.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PyFFI 2.2.2 documentation" href="index.html" />
    <link rel="up" title="pyffi.formats — File format interfaces" href="pyffi.formats.html" />
    <link rel="next" title="pyffi.spells — High level file operations" href="pyffi.spells.html" />
    <link rel="prev" title="pyffi.formats.tga — Targa (.tga)" href="pyffi.formats.tga.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyffi.spells.html" title="pyffi.spells — High level file operations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pyffi.formats.tga.html" title="pyffi.formats.tga — Targa (.tga)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PyFFI 2.2.2 documentation</a> &raquo;</li>
          <li><a href="pyffi.html" ><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">pyffi</span></tt> &#8212; Interfacing block structured files</a> &raquo;</li>
          <li><a href="pyffi.formats.html" accesskey="U"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">pyffi.formats</span></tt> &#8212; File format interfaces</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-pyffi.formats.tri"></span><div class="section" id="pyffi-formats-tri-tri-tri">
<h1><a class="reference internal" href="#module-pyffi.formats.tri" title="pyffi.formats.tri"><tt class="xref py py-mod docutils literal"><span class="pre">pyffi.formats.tri</span></tt></a> &#8212; TRI (.tri)<a class="headerlink" href="#pyffi-formats-tri-tri-tri" title="Permalink to this headline">¶</a></h1>
<p>A .tri file contains facial expression data, that is, morphs for dynamic
expressions such as smile, frown, and so on.</p>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyffi.formats.tri.TriFormat">
<em class="property">class </em><tt class="descclassname">pyffi.formats.tri.</tt><tt class="descname">TriFormat</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.object_models.xml.FileFormat</span></tt></p>
<p>This class implements the TRI format.</p>
<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.Data">
<tt class="descname">Data</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyffi.formats.tri.TriFormat.Header" title="pyffi.formats.tri.TriFormat.Header"><tt class="xref py py-class docutils literal"><span class="pre">Header</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="pyffi.formats.tri.TriFormat.FileSignature">
<em class="property">class </em><tt class="descname">FileSignature</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.FileSignature" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.object_models.xml.basic.BasicBase</span></tt></p>
<p>Basic type which implements the header of a TRI file.</p>
<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.FileSignature.get_hash">
<tt class="descname">get_hash</tt><big>(</big><em>data=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.FileSignature.get_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hash value for this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An immutable object that can be used as a hash.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.FileSignature.get_size">
<tt class="descname">get_size</tt><big>(</big><em>data=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.FileSignature.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of bytes the header string occupies in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Number of bytes.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.FileSignature.read">
<tt class="descname">read</tt><big>(</big><em>stream</em>, <em>data</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.FileSignature.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read header string from stream and check it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<em>file</em>) &#8211; The stream to read from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.FileSignature.write">
<tt class="descname">write</tt><big>(</big><em>stream</em>, <em>data</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.FileSignature.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the header string to stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<em>file</em>) &#8211; The stream to write to.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyffi.formats.tri.TriFormat.Header">
<em class="property">class </em><tt class="descclassname">TriFormat.</tt><tt class="descname">Header</tt><big>(</big><em>template=None</em>, <em>argument=None</em>, <em>parent=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.formats.tri._Header</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">pyffi.object_models.Data</span></tt></p>
<p>A class to contain the actual tri data.</p>
<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.add_modifier">
<tt class="descname">add_modifier</tt><big>(</big><em>name=None</em>, <em>relative_vertices=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.add_modifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a modifier.</p>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.add_morph">
<tt class="descname">add_morph</tt><big>(</big><em>name=None</em>, <em>relative_vertices=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.add_morph" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a morph.</p>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.inspect">
<tt class="descname">inspect</tt><big>(</big><em>stream</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly checks if stream contains TRI data, and reads
everything up to the arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<em>file</em>) &#8211; The stream to inspect.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.inspect_quick">
<tt class="descname">inspect_quick</tt><big>(</big><em>stream</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.inspect_quick" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly checks if stream contains TRI data, by looking at
the first 8 bytes. Reads the signature and the version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<em>file</em>) &#8211; The stream to inspect.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.read">
<tt class="descname">read</tt><big>(</big><em>stream</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a tri file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<tt class="docutils literal"><span class="pre">file</span></tt>) &#8211; The stream from which to read.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.Header.write">
<tt class="descname">write</tt><big>(</big><em>stream</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.Header.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a tri file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (<tt class="docutils literal"><span class="pre">file</span></tt>) &#8211; The stream to which to write.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyffi.formats.tri.TriFormat.ModifierRecord">
<em class="property">class </em><tt class="descclassname">TriFormat.</tt><tt class="descname">ModifierRecord</tt><big>(</big><em>template=None</em>, <em>argument=None</em>, <em>parent=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ModifierRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.object_models.xml.struct_.StructBase</span></tt></p>
<p>A modifier replaces the vertices from the base model(Header.vertices) with those in Header.modifier_vertices. Notethat Header.modifier_vertices counts up from the first modifieronwards. For example, if you were to take the 4th vertex to bemodified in the 2nd modifier and the size of the 1st modifierwas 10 vertices, then you would needHeader.modifier_vertices[14].  Therefore,Header.num_modifier_vertices =sum(modifier.num_vertices_to_modify for modifier inHeader.modifiers).</p>
<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.ModifierRecord.modifier_vertices">
<tt class="descname">modifier_vertices</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ModifierRecord.modifier_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>The actual modifier vertices (copied from Header.modifier_vertices).</p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.ModifierRecord.name">
<tt class="descname">name</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ModifierRecord.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the Modifier.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.ModifierRecord.vertices_to_modify">
<tt class="descname">vertices_to_modify</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ModifierRecord.vertices_to_modify" title="Permalink to this definition">¶</a></dt>
<dd><p>List of Vertices To Modify.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyffi.formats.tri.TriFormat.MorphRecord">
<em class="property">class </em><tt class="descclassname">TriFormat.</tt><tt class="descname">MorphRecord</tt><big>(</big><em>template=None</em>, <em>argument=None</em>, <em>parent=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.MorphRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.formats.tri._MorphRecord</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">builtins.object</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># create morph with 3 vertices.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span> <span class="o">=</span> <span class="n">TriFormat</span><span class="o">.</span><span class="n">MorphRecord</span><span class="p">(</span><span class="n">argument</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span><span class="o">.</span><span class="n">set_relative_vertices</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># scale should be 9/32768.0 = 0.0002746...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span><span class="o">.</span><span class="n">scale</span> 
<span class="go">0.0002746...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vert</span> <span class="ow">in</span> <span class="n">morph</span><span class="o">.</span><span class="n">get_relative_vertices</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vert</span><span class="p">])</span>
<span class="go">[3000, 5000, 2000]</span>
<span class="go">[1000, 3000, 2000]</span>
<span class="go">[-8999, 3000, -999]</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyffi.formats.tri.TriFormat.MorphRecord.apply_scale">
<tt class="descname">apply_scale</tt><big>(</big><em>scale</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.MorphRecord.apply_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply scale factor to data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># create morph with 3 vertices.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span> <span class="o">=</span> <span class="n">TriFormat</span><span class="o">.</span><span class="n">MorphRecord</span><span class="p">(</span><span class="n">argument</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span><span class="o">.</span><span class="n">set_relative_vertices</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph</span><span class="o">.</span><span class="n">apply_scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">vert</span> <span class="ow">in</span> <span class="n">morph</span><span class="o">.</span><span class="n">get_relative_vertices</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vert</span><span class="p">])</span>
<span class="go">[6000, 10000, 4000]</span>
<span class="go">[2000, 6000, 4000]</span>
<span class="go">[-17999, 6000, -1999]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyffi.formats.tri.TriFormat.QuadFace">
<em class="property">class </em><tt class="descclassname">TriFormat.</tt><tt class="descname">QuadFace</tt><big>(</big><em>template=None</em>, <em>argument=None</em>, <em>parent=None</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.QuadFace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyffi.object_models.xml.struct_.StructBase</span></tt></p>
<p>Not used by the Oblivion engine as it&#8217;s tri based.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.byte">
<tt class="descclassname">TriFormat.</tt><tt class="descname">byte</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.byte" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Byte</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.char">
<tt class="descclassname">TriFormat.</tt><tt class="descname">char</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.char" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Char</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.float">
<tt class="descclassname">TriFormat.</tt><tt class="descname">float</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.float" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Float</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.int">
<tt class="descclassname">TriFormat.</tt><tt class="descname">int</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.int" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Int</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.short">
<tt class="descclassname">TriFormat.</tt><tt class="descname">short</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.short" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Short</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.ubyte">
<tt class="descclassname">TriFormat.</tt><tt class="descname">ubyte</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ubyte" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">UByte</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.uint">
<tt class="descclassname">TriFormat.</tt><tt class="descname">uint</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.uint" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">UInt</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyffi.formats.tri.TriFormat.ushort">
<tt class="descclassname">TriFormat.</tt><tt class="descname">ushort</tt><a class="headerlink" href="#pyffi.formats.tri.TriFormat.ushort" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">UShort</span></tt></p>
</dd></dl>

<dl class="staticmethod">
<dt id="pyffi.formats.tri.TriFormat.version_number">
<em class="property">static </em><tt class="descclassname">TriFormat.</tt><tt class="descname">version_number</tt><big>(</big><em>version_str</em><big>)</big><a class="headerlink" href="#pyffi.formats.tri.TriFormat.version_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts version string into an integer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version_str</strong> (<em>str</em>) &#8211; The version string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A version integer.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">TriFormat</span><span class="o">.</span><span class="n">version_number</span><span class="p">(</span><span class="s">&#39;003&#39;</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TriFormat</span><span class="o">.</span><span class="n">version_number</span><span class="p">(</span><span class="s">&#39;XXX&#39;</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="regression-tests">
<h2>Regression tests<a class="headerlink" href="#regression-tests" title="Permalink to this headline">¶</a></h2>
<div class="section" id="read-a-tri-file">
<h3>Read a TRI file<a class="headerlink" href="#read-a-tri-file" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># check and read tri file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;tests/tri/mmouthxivilai.tri&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">TriFormat</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># do some stuff with header?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">num_vertices</span>
<span class="go">89</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">num_tri_faces</span>
<span class="go">215</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">num_quad_faces</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">num_uvs</span>
<span class="go">89</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">num_morphs</span>
<span class="go">18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">morph</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;ascii&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">morph</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">morphs</span><span class="p">])</span>
<span class="go">[&#39;Fear&#39;, &#39;Surprise&#39;, &#39;Aah&#39;, &#39;BigAah&#39;, &#39;BMP&#39;, &#39;ChJSh&#39;, &#39;DST&#39;, &#39;Eee&#39;, &#39;Eh&#39;, &#39;FV&#39;, &#39;I&#39;, &#39;K&#39;, &#39;N&#39;, &#39;Oh&#39;, &#39;OohQ&#39;, &#39;R&#39;, &#39;Th&#39;, &#39;W&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="parse-all-tri-files-in-a-directory-tree">
<h3>Parse all TRI files in a directory tree<a class="headerlink" href="#parse-all-tri-files-in-a-directory-tree" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">stream</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">TriFormat</span><span class="o">.</span><span class="n">walkData</span><span class="p">(</span><span class="s">&#39;tests/tri&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">stream</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">tests/tri/mmouthxivilai.tri</span>
</pre></div>
</div>
</div>
<div class="section" id="create-an-tri-file-from-scratch-and-write-to-file">
<h3>Create an TRI file from scratch and write to file<a class="headerlink" href="#create-an-tri-file-from-scratch-and-write-to-file" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">TriFormat</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="kn">import</span> <span class="n">TemporaryFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="n">TemporaryFile</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">pyffi.formats.tri</span></tt> &#8212; TRI (.tri)</a><ul>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
<li><a class="reference internal" href="#regression-tests">Regression tests</a><ul>
<li><a class="reference internal" href="#read-a-tri-file">Read a TRI file</a></li>
<li><a class="reference internal" href="#parse-all-tri-files-in-a-directory-tree">Parse all TRI files in a directory tree</a></li>
<li><a class="reference internal" href="#create-an-tri-file-from-scratch-and-write-to-file">Create an TRI file from scratch and write to file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pyffi.formats.tga.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">pyffi.formats.tga</span></tt> &#8212; Targa (.tga)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pyffi.spells.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">pyffi.spells</span></tt> &#8212; High level file operations</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pyffi.formats.tri.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyffi.spells.html" title="pyffi.spells — High level file operations"
             >next</a> |</li>
        <li class="right" >
          <a href="pyffi.formats.tga.html" title="pyffi.formats.tga — Targa (.tga)"
             >previous</a> |</li>
        <li><a href="index.html">PyFFI 2.2.2 documentation</a> &raquo;</li>
          <li><a href="pyffi.html" ><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">pyffi</span></tt> &#8212; Interfacing block structured files</a> &raquo;</li>
          <li><a href="pyffi.formats.html" ><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">pyffi.formats</span></tt> &#8212; File format interfaces</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2007-2012, Amorilia.
      Last updated on Nov 17, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    <br/><a href="http://sourceforge.net/projects/pyffi"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=199269&amp;type=10" width="80" height="15" alt="Get Python File Format Interface at SourceForge.net." /></a>
    </div>
  </body>
</html>