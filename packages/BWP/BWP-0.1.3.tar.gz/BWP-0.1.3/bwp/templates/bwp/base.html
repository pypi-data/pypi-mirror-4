{% comment %}<!--
###############################################################################
# Copyright 2013 Grigoriy Kramarenko.
###############################################################################
# This file is part of BWP.
#
#    BWP is free software: you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation, either version 3 of the License, or
#    (at your option) any later version.
#
#    BWP is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with BWP.  If not, see <http://www.gnu.org/licenses/>.
#
# Этот файл — часть BWP.
#
#   BWP - свободная программа: вы можете перераспространять ее и/или
#   изменять ее на условиях Стандартной общественной лицензии GNU в том виде,
#   в каком она была опубликована Фондом свободного программного обеспечения;
#   либо версии 3 лицензии, либо (по вашему выбору) любой более поздней
#   версии.
#
#   BWP распространяется в надежде, что она будет полезной,
#   но БЕЗО ВСЯКИХ ГАРАНТИЙ; даже без неявной гарантии ТОВАРНОГО ВИДА
#   или ПРИГОДНОСТИ ДЛЯ ОПРЕДЕЛЕННЫХ ЦЕЛЕЙ. Подробнее см. в Стандартной
#   общественной лицензии GNU.
#
#   Вы должны были получить копию Стандартной общественной лицензии GNU
#   вместе с этой программой. Если это не так, см.
#   <http://www.gnu.org/licenses/>.
###############################################################################
-->{% endcomment %}{% load i18n l10n bwp_base bwp_static bwp_locale %}{% load url from future %}<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:"en-us" }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>
<head>
    <title>{% SETTINGS 'PROJECT_SHORTNAME' %}: {% block title %}{% filter force_escape %}{% SETTINGS 'PROJECT_DESCRIPTION' %}{% endfilter %}{% endblock %}</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <link rel="icon" href="{{ STATIC_URL }}img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="{{ STATIC_URL }}img/favicon.ico"  type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% filter force_escape %}{% SETTINGS 'PROJECT_DESCRIPTION' %}{% endfilter %}">
    <meta name="author" content="{% filter force_escape %}{% AUTHORS %}{% endfilter %}">
    <meta name="version" content="{% SETTINGS 'BWP_VERSION' %}">

<!-- START: styles -->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap/{% SETTINGS 'BOOTSTRAP_VERSION' %}/bootstrap{% mini_library %}.css">
    {% block responsive_style %}<link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap/{% SETTINGS 'BOOTSTRAP_VERSION' %}/bootstrap-responsive{% mini_library %}.css">{% endblock %}
    <link rel="stylesheet" href="{{ STATIC_URL }}css/bwp/{% SETTINGS 'BWP_VERSION' %}/bwp{% mini_library %}.css">
    
    <!-- for IE6-8 support of HTML5 elements -->
    <!--[if lte IE 9]>
      <script src="{{ STATIC_URL }}js/html5/3.6/html5.js"></script>
    <![endif]-->

<!-- START: block extrastyle -->
    {% block extrastyle %}{% endblock %}
<!-- END: block extrastyle -->

<!-- END: styles -->
</head>

<body class="{% block bodyclass %}home{% endblock %}">

{% include "bwp/for_IE.html" %}

<div class="container-fluid">
    <div class="row-fluid">
<!-- START: block header -->
    {% block header %}{% endblock %}
<!-- END: block header -->
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
<!-- START: block content -->
        {% block content %}{% endblock %}
<!-- END: block content -->
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
<!-- START: block footer -->
        {% block footer %}
        <footer>
            <p class="mono align-center" >{% filter force_escape %}{% SETTINGS 'COPYRIGHT' %}{% endfilter %} © {% COPYRIGHT_YEARS %}</p>
        </footer>
        {% endblock %}
<!-- END: block footer -->
    </div>
</div>

<!-- START: block jstemplates -->
    {% block jstemplates %}
    <script type="text/jinja" id="jinja-object-tab-content">
        {% include "bwp/includes/jinja/_object_tab_content.html" %}
    </script>
    <script type="text/jinja" id="jinja-object-form">
        {% include "bwp/includes/jinja/_object_form.html" %}
    </script>
    <script type="text/jinja" id="jinja-object-form-fields">
        {% include "bwp/includes/jinja/_object_form_fields.html" %}
    </script>
    <script type="text/jinja" id="jinja-compose-panes">
        {% include "bwp/includes/jinja/_compose_panes.html" %}
    </script>
    <script type="text/jinja" id="jinja-compose-table">
        {% include "bwp/includes/jinja/_compose_table.html" %}
    </script>
    <script type="text/jinja" id="jinja-button-reset">
        {% include "bwp/includes/jinja/_button_reset.html" %}
    </script>
    <script type="text/jinja" id="jinja-button-save">
        {% include "bwp/includes/jinja/_button_save.html" %}
    </script>
    <script type="text/jinja" id="jinja-alert">
        {% include "bwp/includes/jinja/_alert.html" %}
    </script>
    <script type="text/jinja" id="jinja-datatables-column-pk">
        {% include "bwp/includes/jinja/_datatables_column_pk.html" %}
    </script>
    <script type="text/jinja" id="jinja-tab">
        {% include "bwp/includes/jinja/_tab.html" %}
    </script>
    <script type="text/jinja" id="jinja-tab-default-content">
        {% include "bwp/includes/jinja/_tab_default_content.html" %}
    </script>
    {% endblock %}
<!-- END: block jstemplates -->


<!-- START: block jsglobalvars -->
{% block jsglobalvars %}
    <script type="text/javascript">
        /* GLOBAL VARS */
        window.__bwp_media_prefix__ = "{% filter escapejs %}{% static "bwp/" %}{% endfilter %}";
        window.AJAX_TIMEOUT = 3000;
        window.BWP_API_URL = "{% filter escapejs %}{% url "bwp_api" %}{% endfilter %}";
        window.BWP_DATATABLES_URL = "{% filter escapejs %}{% url "bwp_datatables" %}{% endfilter %}";
        window.SETTINGS_UNIQUE_KEY = "{% filter escapejs %}{% SETTINGS 'PROJECT_SHORTNAME' %}_{{ user.id|default:0 }}{% endfilter %}";
        window.USER_ID = "{{ user.id|default:0 }}";
        window.ARRAY_FORM_OBJECT_KEY = "{% SETTINGS 'ARRAY_FORM_OBJECT_KEY' %}";
        window.ARRAY_FORM_COMPOSE_KEY = "{% SETTINGS 'ARRAY_FORM_COMPOSE_KEY' %}";
        window.DEBUG = Boolean("{% filter yesno:"yes," %}{% SETTINGS 'DEBUG' %}{% endfilter %}");
    </script>
{% endblock %}
<!-- END: block jsglobalvars -->

<!-- START: block libjs -->
{% block libjs %}
    <script src="{{ STATIC_URL }}js/jquery/{% SETTINGS 'JQUERY_VERSION' %}/jquery{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/jquery-json/{% SETTINGS 'JQUERY_JSON_VERSION' %}/jquery.json{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/jinja/{% SETTINGS 'JS_JINJA_VERSION' %}/jinja{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/jinja/{% SETTINGS 'JS_JINJA_VERSION' %}/jinja.jquery{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/bootstrap/{% SETTINGS 'BOOTSTRAP_VERSION' %}/bootstrap{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/dataTables/{% SETTINGS 'DATATABLES_VERSION' %}/jquery.dataTables.custom{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/dataTables/{% SETTINGS 'DATATABLES_VERSION' %}/jquery.dataTables.bootstrap{% mini_library %}.js"></script>
    <script src="{{ STATIC_URL }}js/django/{% SETTINGS 'DJANGO_VERSION' %}/django-ajax-csrf{% mini_library %}.js"></script>
{% endblock %}
<!-- END: block libjs -->

<!-- START: block userjs -->
{% block userjs %}
{# Этот блок не должен исполняться на шаблонах авторизации #}
    {% if user.is_authenticated %}
        <script src="{{ STATIC_URL }}js/bwp/{% SETTINGS 'BWP_VERSION' %}/bwp{% mini_library %}.js"></script>
    {% endif %}
{% endblock %}
<!-- END: block userjs -->


<!-- START: block extrajs -->
    {% block extrajs %}{% endblock %}
<!-- END: block extrajs -->

<!-- END: javascript -->
</body></html>
