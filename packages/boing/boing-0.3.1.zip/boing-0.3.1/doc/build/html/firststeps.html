

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.1. First steps &mdash; Boing 0.3.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Boing 0.3.1 documentation" href="index.html" />
    <link rel="up" title="3. Getting started" href="tutorials.html" />
    <link rel="next" title="3.2. Saving pipeline configurations" href="configuration.html" />
    <link rel="prev" title="3. Getting started" href="tutorials.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
	<li class="right" style="margin-right: 10px">
	   |
	  <a href="https://github.com/olivopaolo/boing" title="Repository at GitHub">
	    repository</a></li>
        <li class="right">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right">
          <a href="configuration.html" title="3.2. Saving pipeline configurations"
             accesskey="N">next</a> |</li>
        <li class="right">
          <a href="tutorials.html" title="3. Getting started"
             accesskey="P">previous</a> |</li>
        <li>
	  <a href="index.html">Home</a> | <a href="documentation.html">Documentation</a> &raquo;</li>
          <li><a href="tutorials.html" accesskey="U">3. Getting started</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="first-steps">
<h1>3.1. First steps<a class="headerlink" href="#first-steps" title="Permalink to this headline">¶</a></h1>
<p>This tutorial provides few simple examples of the functionality of the
toolkit to help you starting to use the Boing toolkit.</p>
<p>Let&#8217;s consider to have a multi-touch input device, like a tablet or a
touch-screen. What cool things can I do with Boing? Boing enables to
create a pipeline for connecting your device to different targets,
like applications, frameworks, debuggers and eventually processing the
gesture events before having being dispatched, like for example
calibrate the contacts&#8217; position or apply a smoothing filter.</p>
<p>To make things easier, let&#8217;s consider that your device can send the
information of the contact events as a TUIO stream on the local
port 3333. <a class="footnote-reference" href="#f1" id="id1">[1]</a></p>
<div class="section" id="showing-multi-touch-events">
<h2>3.1.1. Showing multi-touch events<a class="headerlink" href="#showing-multi-touch-events" title="Permalink to this headline">¶</a></h2>
<p>First of all, it is important to know that all the Boing&#8216;s tools are
invoked by using the script <strong class="command">boing</strong>. Open a terminal and
type:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + viz:&quot;</pre>
</div>
<p>The script should have opened a window displaying a grid. Now when you
touch your multi-touch device, you will be able to see the contact
points appear on the window.</p>
<p>It&#8217;s not difficult to notice that the script accepts a single argument
that defines the configuration of the pipeline that is to be
created. Configurations are defined by a formula where the operands
define the functionality of the nodes of the pipeline, while the
operators define how the nodes are connected, therefore also the
structure of the pipeline.</p>
<p>In the previous example, the pipeline was composed by two nodes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">in.tuio://:3333</span></tt> corresponds to a node that reads the socket,
decodes the TUIO stream and provides the multi-touch events;</li>
<li><tt class="docutils literal"><span class="pre">viz:</span></tt> corresponds to the <em>Contact Visualizer</em>, a widget
that shows the information of the contact points, such as position,
track and speed.</li>
</ul>
<p>The two nodes are joined using the <tt class="code docutils literal"><span class="pre">+</span></tt> operator, which stands
for connection <em>in series</em>. The structure of the pipeline is
represented in <a class="reference internal" href="#figure1"><em>figure 3.1</em></a>.</p>
<div class="figure align-center" id="figure1">
<img src="_images/firststeps1.svg" /><p class="caption">Figure 3.1: Pipeline obtained from the configuration
<tt class="code docutils literal"><span class="pre">in.tuio://:3333</span> <span class="pre">+</span> <span class="pre">viz:</span></tt>.</p>
</div>
<p>Congratulations! You have created your first Boing pipeline!</p>
</div>
<div class="section" id="exploring-the-data">
<h2>3.1.2. Exploring the data<a class="headerlink" href="#exploring-the-data" title="Permalink to this headline">¶</a></h2>
<p>Now, let&#8217;s try new functionalities by adding a new node. Stop the
previous pipeline by closing the visualizer widget or pressing Ctrl-C
on the terminal, and type in the terminal:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + (viz: | dump:)&quot;</pre>
</div>
<p>As before the contact visualizer appears again, but this time, when
you touch the multi-touch device, the terminal prints a lot of data!
The terminal output represents all the data that the <tt class="code docutils literal"><span class="pre">in.tuio://:3333</span></tt>
node can produce and send to the connected nodes. This tutorial is not
aimed to provide an exaustive description of the message structure;
for the moment, simply observe that data messages are hierarchical
structures mainly composed by Python built-in types, such as
dictionaries, lists, strings, bytearrays, etc. Thanks to such standard
structure, Boing exploits a query language, similar to <a class="reference external" href="http://goessner.net/articles/JsonPath/">JSONPath</a>,
for the indexing or the filtering of data messages. In order to
understand the usefulness of such query language, stop the pipeline
and type in the terminal:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + (viz: | dump:?request=$..contacts)&quot;</pre>
</div>
<p>Now, when you touch your multi-touch device, you can see that the
terminal prints the subset of the data structures that refers only to
the contact data. This is because the query <tt class="code docutils literal"><span class="pre">$..contacts</span></tt>
addresses to any data named as <tt class="code docutils literal"><span class="pre">contacts</span></tt>, searched at any level
of the structure. Such query language can be very useful during
development and testing phases for highlighting only the relevant
information.</p>
<p>A more exhaustive description of the data structure and of the query
language can be found in the <a class="reference internal" href="datamodel.html"><em>data model</em></a> section. For
now, let&#8217;s leave the data structure and we consider the functioning of
the pipeline: it&#8217;s not difficult to understand that the <tt class="code docutils literal"><span class="pre">|</span></tt>
operator (<em>Pipe</em>) is used to connect in parallel the nodes <tt class="code docutils literal"><span class="pre">viz:</span></tt> and
<tt class="code docutils literal"><span class="pre">dump:</span></tt>, so that the products are sent to both of
them. <a class="reference internal" href="#figure2"><em>Figure 3.2</em></a> shows the structure of the current
pipeline.</p>
<div class="figure align-center" id="figure2">
<img src="_images/firststeps2.svg" /><p class="caption">Figure 3.2: Pipeline obtained from the configuration
<tt class="code docutils literal"><span class="pre">in.tuio://:3333</span> <span class="pre">+</span> <span class="pre">(viz:</span> <span class="pre">|</span> <span class="pre">dump:)</span></tt>.</p>
</div>
</div>
<div class="section" id="combining-input-sources-with-external-applications">
<h2>3.1.3. Combining input sources with external applications<a class="headerlink" href="#combining-input-sources-with-external-applications" title="Permalink to this headline">¶</a></h2>
<p>A key feature of Boing is the ability to provide the captured input
events to external applications. This enables in most of the cases to
take advantage of the toolkit&#8217;s features without the need to adapt or
to modify the applications, while sometimes a simple configuration may
be required. As shown in <a class="reference internal" href="#figure3"><em>figure 3.3</em></a>, the Boing
toolkit works as a semi-transparent layer placed between the input
sources and the final applications.</p>
<div class="figure align-center" id="figure3">
<img src="_images/firststeps3.svg" /><p class="caption">Figure 3.3: Boing works as a semi-transparent layer placed in
between the devices and the applications for processing and
transmitting the input events.</p>
</div>
<p>Thanks to the many supported encodings, Boing can easily fit different
combinations of devices and applications. In this basic example, let&#8217;s
consider to have an application listening for a TUIO stream on the
local port 3335 <a class="footnote-reference" href="#f3" id="id2">[2]</a>. If you don&#8217;t have a TUIO application, simply open a
new terminal and launch a new Boing instance using the command:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3335 + viz:&quot;</pre>
</div>
<p>In the previous example you connected one input device to two output
nodes. The <tt class="code docutils literal"><span class="pre">|</span></tt> operator also enables to put in parallel
different inputs, like for example a second multi-touch device enabled
to send its TUIO messages to the local port 3334. Let&#8217;s try a new
pipeline by running the command:</p>
<div class="highlight-python"><pre>boing &quot;(in.tuio://:3333 | in.tuio://:3334) + (viz: | out.tuio://127.0.0.1:3335)&quot;</pre>
</div>
<p><a class="reference internal" href="#figure4"><em>Figure 3.4</em></a> shows the structure of the new pipeline.</p>
<div class="figure align-center" id="figure4">
<img src="_images/firststeps4.svg" /><p class="caption">Figure 3.4: Pipeline obtained from the configuration</p>
<div class="legend">
<tt class="code docutils literal"><span class="pre">(in.tuio://:3333</span> <span class="pre">|</span> <span class="pre">in.tuio://:3334)</span> <span class="pre">+</span> <span class="pre">(viz:</span> <span class="pre">|</span> <span class="pre">out.tuio://127.0.0.1:3335)</span></tt>.</div>
</div>
<p>As you can see, a very important feature of Boing is that you can
simultaneously connect many devices to different applications. Such
feature eases the usage of debugging tools and it enables multi-device
and multi-user applications.</p>
</div>
<div class="section" id="data-processing">
<h2>3.1.4. Data processing<a class="headerlink" href="#data-processing" title="Permalink to this headline">¶</a></h2>
<p>The Boing toolkit is not only able to redirect input data to
different destinations, but it also enables to process the transferred
data. With regard to the multi-touch devices, recurring operations are
the removal of the sensor noise and the calibration of the touch
points. In order to accomplish these tasks, the toolkit provides
two functional nodes that can be easily employed in our
pipelines. As an example, let&#8217;s run a new pipeline using the following
command:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + filtering: + calib:?screen=left + viz:&quot;</pre>
</div>
<p>Now, when you touch your tactile device you should still see the
interactions on the visualizer widget, but now they look more smooth
and they are rotated 90 degrees counterclockwise. By employing the
<tt class="code docutils literal"><span class="pre">filtering:</span></tt> node, we added the default smoothing filter, which
is applied by default to the position of the contact points, while the
node <tt class="code docutils literal"><span class="pre">calib:</span></tt> performs the calibration of the touch points.</p>
<p>The structure of the current pipeline is shown in <a class="reference internal" href="#figure5"><em>figure 3.5</em></a>.</p>
<div class="figure align-center" id="figure5">
<img src="_images/firststeps5.svg" /><p class="caption">Figure 3.5: Pipeline obtained from the configuration
<tt class="code docutils literal"><span class="pre">in.tuio://:3333</span> <span class="pre">+</span> <span class="pre">filtering:</span> <span class="pre">+</span> <span class="pre">calib:?screen=left</span> <span class="pre">+</span> <span class="pre">viz:</span></tt></p>
</div>
<p>In order to better understand the result of the processing stage, it
may be useful to show at the same time the raw data and the processed
one. In order to achieve such result, stop the previous pipeline and
run the following command:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + (filtering: + calib:?screen=left + edit:?source=filtered | nop:) + viz:&quot;</pre>
</div>
<p>Now, when you touch your input device you can see on the visualizer
widget both the raw tracks and the processed tracks, so that it is
easier to note the effect of the processing stage. The structure of
the modified pipeline is shown in <a class="reference internal" href="#figure6"><em>figure 3.6</em></a>. Note
that this behaviour has been obtained by adding a parallel branch
constituted only by the node <tt class="code docutils literal"><span class="pre">nop:</span></tt>, which simply forwards the
incoming data without making any modifications, and adding the node
<tt class="code docutils literal"><span class="pre">edit:?source=filtered</span></tt>, which labels the events of the
processing branch so that they belong to the source <em>filtered</em> (the
name is not relevant). This latter step is necessary since the data of
the two parallel branches is merged into a single stream before being
passed to the visualizer widget.</p>
<div class="figure align-center" id="figure6">
<img src="_images/firststeps6.svg" /><p class="caption">Figure 3.6: Pipeline obtained from the configuration</p>
<div class="legend">
<tt class="code docutils literal"><span class="pre">in.tuio://:3333</span> <span class="pre">+</span> <span class="pre">(filtering:</span> <span class="pre">+</span> <span class="pre">calib:?screen=left</span> <span class="pre">+</span>
<span class="pre">edit:?source=filtered</span> <span class="pre">|</span> <span class="pre">nop:)</span> <span class="pre">+</span> <span class="pre">viz:</span></tt></div>
</div>
</div>
<div class="section" id="event-recording-and-replaying">
<h2>3.1.5. Event recording and replaying<a class="headerlink" href="#event-recording-and-replaying" title="Permalink to this headline">¶</a></h2>
<p>The Boing toolkit also provides some tools for recording input
events into log files and some other tools for replaying them. These
operations are often really helpful during the development and
debugging of applications. The simplest way to log events into a file
is to use the node <tt class="code docutils literal"><span class="pre">log:</span></tt>. As an example, consider running the
following command:</p>
<div class="highlight-python"><pre>boing &quot;in.tuio://:3333 + (viz: | log:./log.bz2)&quot;</pre>
</div>
<p>Now, all the gestures you make on your tactile device will be recorded
and written to the file <tt class="code docutils literal"><span class="pre">./log.bz2</span></tt>. Then, stop the pipeline by
pressing Ctrl-C and let&#8217;s replay the recorded gestures by executing
the command:</p>
<div class="highlight-python"><pre>boing &quot;play:./log.bz2 + viz:&quot;</pre>
</div>
<p>Quite easy, isn&#8217;t it? It is also possible to configure the player to
endlessly rerun the log and set the replay speed. To do so, simply run
this command:</p>
<div class="highlight-python"><pre>boing &quot;play:./log.bz2?loop&amp;speed=0.2 + viz:&quot;</pre>
</div>
<p>A more powerful tool for replaying log files is the <tt class="code docutils literal"><span class="pre">player:</span></tt>
node: thanks to its GUI, it enables users to easily define a playlist
of log files that the node will reproduce. As an example, run the
following command:</p>
<div class="highlight-python"><pre>boing &quot;player: + viz:&quot;</pre>
</div>
<p>Playlists can be exported so that the <tt class="code docutils literal"><span class="pre">player:</span></tt> tool becomes
very useful during the application testing for executing the unit
test.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>If you are unfamiliar with the TUIO protocol, consider having
a look to the available <a class="reference external" href="http://www.tuio.org/?software">TUIO trackers</a>, or jumping to the
<a class="reference internal" href="uris.html"><em>Nodes reference table</em></a>, in order to discover the different ways Boing
exploits to connect to the input devices.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>For more output sources, see the <a class="reference internal" href="uris.html"><em>Nodes reference table</em></a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <!--<h3><a href="documentation.html">Table Of Contents</a></h3> -->
  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">3.1. First steps</a><ul>
<li><a class="reference internal" href="#showing-multi-touch-events">3.1.1. Showing multi-touch events</a></li>
<li><a class="reference internal" href="#exploring-the-data">3.1.2. Exploring the data</a></li>
<li><a class="reference internal" href="#combining-input-sources-with-external-applications">3.1.3. Combining input sources with external applications</a></li>
<li><a class="reference internal" href="#data-processing">3.1.4. Data processing</a></li>
<li><a class="reference internal" href="#event-recording-and-replaying">3.1.5. Event recording and replaying</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorials.html"
                        title="previous chapter">3. Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="next chapter">3.2. Saving pipeline configurations</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
	<li class="right" style="margin-right: 10px">
	   |
	  <a href="https://github.com/olivopaolo/boing" title="Repository at GitHub">
	    repository</a></li>
        <li class="right">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right">
          <a href="configuration.html" title="3.2. Saving pipeline configurations"
             >next</a> |</li>
        <li class="right">
          <a href="tutorials.html" title="3. Getting started"
             >previous</a> |</li>
        <li>
	  <a href="index.html">Home</a> | <a href="documentation.html">Documentation</a> &raquo;</li>
          <li><a href="tutorials.html" >3. Getting started</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, INRIA.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>