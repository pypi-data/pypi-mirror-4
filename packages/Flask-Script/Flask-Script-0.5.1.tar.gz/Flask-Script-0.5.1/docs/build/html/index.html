
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Flask-Script &mdash; Flask-Script 0.4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Flask-Script 0.4.0 documentation" href="#" /> 
  </head>
  <body>
  
  
  <div class=indexwrapper>
  


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-Flask-Script">
<span id="flask-script"></span><h1>Flask-Script<a class="headerlink" href="#module-Flask-Script" title="Permalink to this headline">¶</a></h1>
<p>The <strong>Flask-Script</strong> extension provides support for writing external scripts in Flask. This includes running a development server, a customised Python shell, scripts to set up your database, cronjobs, and other command-line tasks that belong outside the web application itself.</p>
<p><strong>Flask-Script</strong> works in a similar way to Flask itself. You define and add commands that can be called from the command line to a <tt class="docutils literal"><span class="pre">Manager</span></tt> instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># manage.py</span>

<span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Manager</span>

<span class="kn">from</span> <span class="nn">myapp</span> <span class="kn">import</span> <span class="n">app</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Once you define your script commands, you can then run them on the command line:</p>
<div class="highlight-python"><pre>python manage.py hello
&gt; hello</pre>
</div>
<p>Source code and issue tracking at <a class="reference external" href="http://github.com/techniq/flask-script">GitHub</a>.</p>
<div class="section" id="installing-flask-script">
<h2>Installing Flask-Script<a class="headerlink" href="#installing-flask-script" title="Permalink to this headline">¶</a></h2>
<p>Install with <strong>pip</strong> and <strong>easy_install</strong>:</p>
<div class="highlight-python"><pre>pip install Flask-Script</pre>
</div>
<p>or download the latest version from version control:</p>
<div class="highlight-python"><pre>git clone https://github.com/techniq/flask-script.git
cd flask-script
python setup.py develop</pre>
</div>
<p>If you are using <strong>virtualenv</strong>, it is assumed that you are installing <strong>Flask-Script</strong>
in the same virtualenv as your Flask application(s).</p>
</div>
<div class="section" id="creating-and-running-commands">
<h2>Creating and running commands<a class="headerlink" href="#creating-and-running-commands" title="Permalink to this headline">¶</a></h2>
<p>The first step is to create a Python module to run your script commands in. You can call it
anything you like, for our examples we&#8217;ll call it <strong>manage.py</strong>.</p>
<p>You don&#8217;t have to place all your commands in the same file; for example, in a larger project
with lots of commands you might want to split them into a number of files with related commands.</p>
<p>In your <strong>manage.py</strong> file you have to create a <tt class="docutils literal"><span class="pre">Manager</span></tt> instance. The <tt class="docutils literal"><span class="pre">Manager</span></tt> class
keeps track of all the commands and handles how they are called from the command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Manager</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="c"># configure your app</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Calling <tt class="docutils literal"><span class="pre">manager.run()</span></tt> prepares your <tt class="docutils literal"><span class="pre">Manager</span></tt> instance to receive input from the command line.</p>
<p>The <tt class="docutils literal"><span class="pre">Manager</span></tt> requires a single argument, a <strong>Flask</strong> instance. This may also be a function or other callable
that returns a <strong>Flask</strong> instance instead, if you want to use a factory pattern.</p>
<p>The next step is to create and add your commands. There are three methods for creating commands:</p>
<blockquote>
<div><ul class="simple">
<li>subclassing the <tt class="docutils literal"><span class="pre">Command</span></tt> class</li>
<li>using the <tt class="docutils literal"><span class="pre">&#64;command</span></tt> decorator</li>
<li>using the <tt class="docutils literal"><span class="pre">&#64;option</span></tt> decorator</li>
</ul>
</div></blockquote>
<p>To take a very simple example, we want to create a <strong>Hello</strong> command that just prints out &#8220;hello world&#8221;. It
doesn&#8217;t take any arguments so is very straightforward:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Command</span>

<span class="k">class</span> <span class="nc">Hello</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>
    <span class="s">&quot;prints hello world&quot;</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;hello world&quot;</span>
</pre></div>
</div>
<p>Now the command needs to be added to our <tt class="docutils literal"><span class="pre">Manager</span></tt> instance, like the one created above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="n">Hello</span><span class="p">())</span>
</pre></div>
</div>
<p>This of course needs to be called before <tt class="docutils literal"><span class="pre">manager.run</span></tt>. Now in our command line:</p>
<div class="highlight-python"><pre>python manage.py hello
&gt; hello world</pre>
</div>
<p>You can also pass the <tt class="docutils literal"><span class="pre">Command</span></tt> instance in a dict to <tt class="docutils literal"><span class="pre">manager.run()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="s">&#39;hello&#39;</span> <span class="p">:</span> <span class="n">Hello</span><span class="p">()})</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">Command</span></tt> class must define a <tt class="docutils literal"><span class="pre">run</span></tt> method. The positional and optional arguments
depend on the command-line arguments you pass to the <tt class="docutils literal"><span class="pre">Command</span></tt> (see below).</p>
<p>To get a list of available commands and their descriptions, just run with no command:</p>
<div class="highlight-python"><pre>python manage.py</pre>
</div>
<p>To get help text for a particular command:</p>
<div class="highlight-python"><pre>python manage.py runserver -h</pre>
</div>
<p>This will print usage plus the docstring of the <tt class="docutils literal"><span class="pre">Command</span></tt>.</p>
<p>This first method is probably the most flexible, but it&#8217;s also the most verbose. For simpler commands you can use
the <tt class="docutils literal"><span class="pre">&#64;command</span></tt> decorator, which belongs to the <tt class="docutils literal"><span class="pre">Manager</span></tt> instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="s">&quot;Just say hello&quot;</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span>
</pre></div>
</div>
<p>Commands created this way are run in exactly the same way as those created with the <tt class="docutils literal"><span class="pre">Command</span></tt> class:</p>
<div class="highlight-python"><pre>python manage.py hello
&gt; hello</pre>
</div>
<p>As with the <tt class="docutils literal"><span class="pre">Command</span></tt> class, the docstring you use for the function will appear when you run with the <strong>-h</strong> option:</p>
<div class="highlight-python"><pre>python manage.py -h
&gt; Just say hello</pre>
</div>
<p>Finally, the <tt class="docutils literal"><span class="pre">&#64;option</span></tt> decorator, again belonging to <tt class="docutils literal"><span class="pre">Manager</span></tt> can be used when you want more sophisticated
control over your commands:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&#39;Your name&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">&#64;option</span></tt> decorator is explained in more detail below.</p>
</div>
<div class="section" id="adding-arguments-to-commands">
<h2>Adding arguments to commands<a class="headerlink" href="#adding-arguments-to-commands" title="Permalink to this headline">¶</a></h2>
<p>Most commands take a number of named or positional arguments that you pass in the command line.</p>
<p>Taking the above examples, rather than just print &#8220;hello world&#8221; we would like to be able to print some
arbitrary name, like this:</p>
<div class="highlight-python"><pre>python manage.py hello --name=Joe
hello Joe</pre>
</div>
<p>or alternatively:</p>
<div class="highlight-python"><pre>python manage.py hello -n Joe</pre>
</div>
<p>To facilitate this you use the <tt class="docutils literal"><span class="pre">option_list</span></tt> attribute of the <tt class="docutils literal"><span class="pre">Command</span></tt> class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Command</span><span class="p">,</span> <span class="n">Manager</span><span class="p">,</span> <span class="n">Option</span>

<span class="k">class</span> <span class="nc">Hello</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>

    <span class="n">option_list</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Option</span><span class="p">(</span><span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;hello </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">name</span>
</pre></div>
</div>
<p>Positional and optional arguments are stored as <tt class="docutils literal"><span class="pre">Option</span></tt> instances - see the <a class="reference internal" href="#api"><em>API</em></a> below for details.</p>
<p>Alternatively, you can define a <tt class="docutils literal"><span class="pre">get_options</span></tt> method for your <tt class="docutils literal"><span class="pre">Command</span></tt> class. This is useful if you want to be able
to return options at runtime based on for example per-instance attributes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Hello</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_name</span><span class="o">=</span><span class="s">&#39;Joe&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_name</span><span class="o">=</span><span class="n">default_name</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_name</span><span class="p">),</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span>  <span class="n">name</span>
</pre></div>
</div>
<p>If you are using the <tt class="docutils literal"><span class="pre">&#64;command</span></tt> decorator, it&#8217;s much easier - the options are extracted automatically from your function arguments. This is an example of a positional argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span>
</pre></div>
</div>
<p>You then invoke this on the command line like so:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello Joe
hello Joe</pre>
</div>
<p>Or you can do optional arguments:</p>
<div class="highlight-python"><pre>@manager.command
def hello(name="Fred")
    print hello, name</pre>
</div>
<p>These can be called like so:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello --name=Joe
hello Joe</pre>
</div>
<p>alternatively:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello -n Joe
hello Joe</pre>
</div>
<p>There are a couple of important points to note here.</p>
<p>The short-form <strong>-n</strong> is formed from the first letter of the argument, so &#8220;name&#8221; &gt; &#8220;-n&#8221;. Therefore it&#8217;s a good idea that your
optional argument variable names begin with different letters.</p>
<p>The second issue is that the <strong>-h</strong> switch always runs the help text for that command, so avoid arguments starting with the letter &#8220;h&#8221;.</p>
<p>Note also that if your optional argument is a boolean, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manage.command</span>
<span class="k">def</span> <span class="nf">verify</span><span class="p">(</span><span class="n">verified</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if verified</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">print</span> <span class="s">&quot;VERIFIED?&quot;</span><span class="p">,</span> <span class="s">&quot;YES&quot;</span> <span class="k">if</span> <span class="n">verified</span> <span class="k">else</span> <span class="s">&quot;NO&quot;</span>
</pre></div>
</div>
<p>You can just call it like this:</p>
<div class="highlight-python"><pre>&gt; python manage.py verify
VERIFIED? NO

&gt; python manage.py verify -v
VERIFIED? YES

&gt; python manage.py verify --verified
VERIFIED? YES</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">&#64;command</span></tt> decorator is fine for simple operations, but often you need the flexibility. For more sophisticated options it&#8217;s better to use the <tt class="docutils literal"><span class="pre">&#64;option</span></tt> decorator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;joe&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span>
</pre></div>
</div>
<p>You can add as many options as you want:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;joe&#39;</span><span class="p">)</span>
<span class="nd">@manager.option</span><span class="p">(</span><span class="s">&#39;-u&#39;</span><span class="p">,</span> <span class="s">&#39;--url&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;url&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s">&quot;from&quot;</span><span class="p">,</span> <span class="n">url</span>
</pre></div>
</div>
<p>This can be called like so:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello -n Joe -u reddit.com
hello Joe from reddit.com</pre>
</div>
<p>or alternatively:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello --name=Joe --url=reddit.com
hello Joe from reddit.com</pre>
</div>
</div>
<div class="section" id="adding-options-to-the-manager">
<h2>Adding options to the manager<a class="headerlink" href="#adding-options-to-the-manager" title="Permalink to this headline">¶</a></h2>
<p>Options can also be passed to the <tt class="docutils literal"><span class="pre">Manager</span></tt> instance. This is allows you to set up options that are passed to the application rather
than a single command. For example, you might want to have a flag to set the configuration file for your application. Suppose you create
your application with a factory function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="c"># configure your app...</span>
    <span class="k">return</span> <span class="n">app</span>
</pre></div>
</div>
<p>You want to be able to define the <tt class="docutils literal"><span class="pre">config</span></tt> argument on the command line - for example, if you have a command to set up your database, you
most certainly want to use different configuration files for production and development.</p>
<p>In order to pass that <tt class="docutils literal"><span class="pre">config</span></tt> argument, use the <tt class="docutils literal"><span class="pre">add_option()</span></tt> method of your <tt class="docutils literal"><span class="pre">Manager</span></tt> instance. It takes the same arguments
as <tt class="docutils literal"><span class="pre">Option</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">manager</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&#39;-c&#39;</span><span class="p">,</span> <span class="s">&#39;--config&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;config&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>As with any other <strong>Flask-Script</strong> configuration you can call this anywhere in your script module, but it must be called before your <tt class="docutils literal"><span class="pre">manager.run()</span></tt> call.</p>
<p>Suppose you have this command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">uppercase</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;USE_UPPERCASE&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">uppercase</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">print</span> <span class="n">hello</span><span class="p">,</span> <span class="n">name</span>
</pre></div>
</div>
<p>You can now run the following:</p>
<div class="highlight-python"><pre>&gt; python manage.py hello joe -c dev.cfg
hello JOE</pre>
</div>
<p>Assuming the <tt class="docutils literal"><span class="pre">USE_UPPERCASE</span></tt> setting is <strong>True</strong> in your dev.cfg file.</p>
<p>Notice also that the &#8220;config&#8221; option is <strong>not</strong> passed to the command.</p>
<p>In order for manager options to work you must pass a factory function, rather than a Flask instance, to your
<tt class="docutils literal"><span class="pre">Manager</span></tt> constructor. A simple but complete example is available in <a class="reference external" href="https://gist.github.com/3531881">this gist</a>.</p>
</div>
<div class="section" id="getting-user-input">
<h2>Getting user input<a class="headerlink" href="#getting-user-input" title="Permalink to this headline">¶</a></h2>
<p><strong>Flask-Script</strong> comes with a set of helper functions for grabbing user input from the command line. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Manager</span><span class="p">,</span> <span class="n">prompt_bool</span>

<span class="kn">from</span> <span class="nn">myapp</span> <span class="kn">import</span> <span class="n">app</span>
<span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">db</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="nd">@manager.command</span>
<span class="k">def</span> <span class="nf">dropdb</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">prompt_bool</span><span class="p">(</span>
        <span class="s">&quot;Are you sure you want to lose all your data&quot;</span><span class="p">):</span>
        <span class="n">db</span><span class="o">.</span><span class="n">drop_all</span><span class="p">()</span>
</pre></div>
</div>
<p>It then runs like this:</p>
<div class="highlight-python"><pre>python manage.py dropdb
&gt; Are you sure you want to lose all your data ? [N]</pre>
</div>
<p>See the <a class="reference internal" href="#api"><em>API</em></a> below for details on the various prompt functions.</p>
</div>
<div class="section" id="default-commands">
<h2>Default commands<a class="headerlink" href="#default-commands" title="Permalink to this headline">¶</a></h2>
<p><strong>Flask-Script</strong> has a couple of ready commands you can add and customise: <tt class="docutils literal"><span class="pre">Server</span></tt> and <tt class="docutils literal"><span class="pre">Shell</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">Server</span></tt> command runs the <strong>Flask</strong> development server. It takes an optional <tt class="docutils literal"><span class="pre">port</span></tt> argument (default <strong>5000</strong>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Manager</span>
<span class="kn">from</span> <span class="nn">myapp</span> <span class="kn">import</span> <span class="n">create_app</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">create_app</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s">&quot;runserver&quot;</span><span class="p">,</span> <span class="n">Server</span><span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>and then run the command:</p>
<div class="highlight-python"><pre>python manage.py runserver</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">Server</span></tt> command has a number of command-line arguments - run <tt class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">runserver</span> <span class="pre">-h</span></tt> for details on these. You can redefine the defaults in the constructor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&quot;0.0.0.0&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">9000</span><span class="p">)</span>
</pre></div>
</div>
<p>Needless to say the development server is not intended for production use.</p>
<p>The <tt class="docutils literal"><span class="pre">Shell</span></tt> command starts a Python shell. You can pass in a <tt class="docutils literal"><span class="pre">make_context</span></tt> argument, which must be a <tt class="docutils literal"><span class="pre">callable</span></tt> returning a <tt class="docutils literal"><span class="pre">dict</span></tt>. By default, this is just a dict returning the your Flask application instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">app</span>

<span class="kn">from</span> <span class="nn">flask.ext.script</span> <span class="kn">import</span> <span class="n">Shell</span><span class="p">,</span> <span class="n">Manager</span>

<span class="kn">from</span> <span class="nn">myapp</span> <span class="kn">import</span> <span class="n">app</span>
<span class="kn">from</span> <span class="nn">myapp</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">db</span>

<span class="k">def</span> <span class="nf">_make_context</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="n">models</span><span class="p">)</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">create_app</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s">&quot;shell&quot;</span><span class="p">,</span> <span class="n">Shell</span><span class="p">(</span><span class="n">make_context</span><span class="o">=</span><span class="n">_make_context</span><span class="p">))</span>
</pre></div>
</div>
<p>This is handy if you want to include a bunch of defaults in your shell to save typing lots of <tt class="docutils literal"><span class="pre">import</span></tt> statements.</p>
<p>The <tt class="docutils literal"><span class="pre">Shell</span></tt> command will use <a class="reference external" href="http://ipython.scipy.org/moin/">IPython</a> if it is installed, otherwise it defaults to the standard Python shell. You can disable this behaviour in two ways: by passing the <tt class="docutils literal"><span class="pre">use_ipython</span></tt> argument to the <tt class="docutils literal"><span class="pre">Shell</span></tt> constructor, or passing the flag <tt class="docutils literal"><span class="pre">--no-ipython</span></tt> in the command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">shell</span> <span class="o">=</span> <span class="n">Shell</span><span class="p">(</span><span class="n">use_ipython</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>There is also a <tt class="docutils literal"><span class="pre">shell</span></tt> decorator which you can use with a context function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@manager.shell</span>
<span class="k">def</span> <span class="nf">make_shell_context</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="n">models</span><span class="p">)</span>
</pre></div>
</div>
<p>This enables a <strong>shell</strong> command with the defaults enabled:</p>
<div class="highlight-python"><pre>&gt; python manage.py shell</pre>
</div>
<p>The default commands <strong>shell</strong> and <strong>runserver</strong> are included by default, with the default options for these commands. If you wish to
replace them with different commands simply override with <tt class="docutils literal"><span class="pre">add_command()</span></tt> or the decorators. If you pass <tt class="docutils literal"><span class="pre">with_default_commands=False</span></tt>
to the <tt class="docutils literal"><span class="pre">Manager</span></tt> constructor these commands will not be loaded:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">with_default_commands</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-local-proxies">
<h2>Accessing local proxies<a class="headerlink" href="#accessing-local-proxies" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Manager</span></tt> runs the command inside a <a class="reference external" href="http://flask.pocoo.org/docs/testing/#other-testing-tricks">Flask test context</a>. This means that you can access request-local proxies where appropriate, such as <tt class="docutils literal"><span class="pre">current_app</span></tt>, which may be used by extensions.</p>
</div>
<div class="section" id="api">
<span id="id1"></span><h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-flask.ext.script"></span><dl class="class">
<dt id="flask.ext.script.Manager">
<em class="property">class </em><tt class="descclassname">flask.ext.script.</tt><tt class="descname">Manager</tt><big>(</big><em>app</em>, <em>with_default_commands=True</em>, <em>usage=None</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Controller class for handling a set of commands.</p>
<p>Typical usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Print</span><span class="p">(</span><span class="n">Command</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;hello&quot;</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s">&quot;print&quot;</span><span class="p">,</span> <span class="n">Print</span><span class="p">())</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>On command line:</p>
<div class="highlight-python"><pre>python manage.py print
&gt; hello</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>app</strong> &#8211; Flask instance or callable returning a Flask instance.</li>
<li><strong>with_default_commands</strong> &#8211; load commands <strong>runserver</strong> and <strong>shell</strong>
by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="flask.ext.script.Manager.run">
<tt class="descname">run</tt><big>(</big><em>commands=None</em>, <em>default_command=None</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares manager to receive command line input. Usually run
inside &#8220;if __name__ == &#8220;__main__&#8221; block in a Python script.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>commands</strong> &#8211; optional dict of commands. Appended to any commands
added using add_command().</li>
<li><strong>default_command</strong> &#8211; name of default command to run if no
arguments passed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.add_option">
<tt class="descname">add_option</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.add_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an application-wide option. This is useful if you want to set
variables applying to the application setup, rather than individual
commands.</p>
<p>For this to work, the manager must be initialized with a factory
function rather than an instance. Otherwise any options you set will
be ignored.</p>
<p>The arguments are then passed to your function, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">app</span>

<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">create_app</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&quot;-c&quot;</span><span class="p">,</span> <span class="s">&quot;--config&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&quot;config&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>and are evoked like this:</p>
<div class="highlight-python"><pre>&gt; python manage.py -c dev.cfg mycommand</pre>
</div>
<p>Any manager options passed in the command line will not be passed to
the command.</p>
<p>Arguments for this function are the same as for the Option class.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.add_command">
<tt class="descname">add_command</tt><big>(</big><em>name</em>, <em>command</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.add_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds command to registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> &#8211; Command instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.command">
<tt class="descname">command</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a command function to the registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; command function.Arguments depend on the
options.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.option">
<tt class="descname">option</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.option" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to add an option to a function. Automatically registers the
function - do not use together with <tt class="docutils literal"><span class="pre">&#64;command</span></tt>. You can add as many
<tt class="docutils literal"><span class="pre">&#64;option</span></tt> calls as you like, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">)</span>
<span class="nd">@option</span><span class="p">(</span><span class="s">&#39;-u&#39;</span><span class="p">,</span> <span class="s">&#39;--url&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;url&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span>
</pre></div>
</div>
<p>Takes the same arguments as the <tt class="docutils literal"><span class="pre">Option</span></tt> constructor.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.shell">
<tt class="descname">shell</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that wraps function in shell command. This is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">_make_context</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">)</span>

<span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s">&quot;shell&quot;</span><span class="p">,</span> <span class="n">Shell</span><span class="p">(</span><span class="n">make_context</span><span class="o">=</span><span class="n">_make_context</span><span class="p">))</span>
</pre></div>
</div>
<p>The decorated function should take a single &#8220;app&#8221; argument, and return
a dict.</p>
<p>For more sophisticated usage use the Shell class.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.get_usage">
<tt class="descname">get_usage</tt><big>(</big><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.get_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns string consisting of all commands and their
descriptions.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Manager.print_usage">
<tt class="descname">print_usage</tt><big>(</big><big>)</big><a class="headerlink" href="#flask.ext.script.Manager.print_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints result of get_usage()</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">option</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big></dt>
<dd><p>Decorator to add an option to a function. Automatically registers the
function - do not use together with <tt class="docutils literal"><span class="pre">&#64;command</span></tt>. You can add as many
<tt class="docutils literal"><span class="pre">&#64;option</span></tt> calls as you like, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@option</span><span class="p">(</span><span class="s">&#39;-n&#39;</span><span class="p">,</span> <span class="s">&#39;--name&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">)</span>
<span class="nd">@option</span><span class="p">(</span><span class="s">&#39;-u&#39;</span><span class="p">,</span> <span class="s">&#39;--url&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;url&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;hello&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span>
</pre></div>
</div>
<p>Takes the same arguments as the <tt class="docutils literal"><span class="pre">Option</span></tt> constructor.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.ext.script.Command">
<em class="property">class </em><tt class="descclassname">flask.ext.script.</tt><tt class="descname">Command</tt><a class="headerlink" href="#flask.ext.script.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for creating commands.</p>
<dl class="method">
<dt id="flask.ext.script.Command.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#flask.ext.script.Command.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command. This must be implemented by the subclass. Should take
arguments as configured by the Command options.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.script.Command.get_options">
<tt class="descname">get_options</tt><big>(</big><big>)</big><a class="headerlink" href="#flask.ext.script.Command.get_options" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, returns self.option_list.Override if you
need to do instance-specific configuration.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.ext.script.Shell">
<em class="property">class </em><tt class="descclassname">flask.ext.script.</tt><tt class="descname">Shell</tt><big>(</big><em>banner=None</em>, <em>make_context=None</em>, <em>use_ipython=True</em><big>)</big><a class="headerlink" href="#flask.ext.script.Shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a Python shell inside Flask application context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>banner</strong> &#8211; banner appearing at top of shell when started</li>
<li><strong>make_context</strong> &#8211; a callable returning a dict of variables
used in the shell namespace. By default
returns a dict consisting of just the app.</li>
<li><strong>use_ipython</strong> &#8211; use IPython shell if available, ignore if not.
The IPython shell can be turned off in command
line by passing the <strong>&#8211;no-ipython</strong> flag.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="flask.ext.script.Server">
<em class="property">class </em><tt class="descclassname">flask.ext.script.</tt><tt class="descname">Server</tt><big>(</big><em>host='127.0.0.1'</em>, <em>port=5000</em>, <em>use_debugger=True</em>, <em>use_reloader=True</em>, <em>threaded=False</em>, <em>processes=1</em>, <em>**options</em><big>)</big><a class="headerlink" href="#flask.ext.script.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Flask development server i.e. app.run()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> &#8211; server host</li>
<li><strong>port</strong> &#8211; server port</li>
<li><strong>use_debugger</strong> &#8211; if False, will no longer use Werkzeug debugger.
This can be overriden in the command line
by passing the <strong>-d</strong> flag.</li>
<li><strong>use_reloader</strong> &#8211; if False, will no longer use auto-reloader.
This can be overriden in the command line by
passing the <strong>-r</strong> flag.</li>
<li><strong>threaded</strong> &#8211; should the process handle each request in a separate
thread?</li>
<li><strong>processes</strong> &#8211; number of processes to spawn</li>
<li><strong>options</strong> &#8211; <tt class="xref py py-func docutils literal"><span class="pre">werkzeug.run_simple()</span></tt> options.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="flask.ext.script.Option">
<em class="property">class </em><tt class="descclassname">flask.ext.script.</tt><tt class="descname">Option</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask.ext.script.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores positional and optional arguments for <a class="reference external" href="http://argparse.googlecode.com/svn/trunk/doc/add_argument.html">ArgumentParser.add_argument</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name_or_flags</strong> &#8211; Either a name or a list of option strings,
e.g. foo or -f, &#8211;foo</li>
<li><strong>action</strong> &#8211; The basic type of action to be taken when this argument
is encountered at the command-line.</li>
<li><strong>nargs</strong> &#8211; The number of command-line arguments that should be consumed.</li>
<li><strong>const</strong> &#8211; A constant value required by some action and nargs selections.</li>
<li><strong>default</strong> &#8211; The value produced if the argument is absent from
the command-line.</li>
<li><strong>type</strong> &#8211; The type to which the command-line arg should be converted.</li>
<li><strong>choices</strong> &#8211; A container of the allowable values for the argument.</li>
<li><strong>required</strong> &#8211; Whether or not the command-line option may be omitted
(optionals only).</li>
<li><strong>help</strong> &#8211; A brief description of what the argument does.</li>
<li><strong>metavar</strong> &#8211; A name for the argument in usage messages.</li>
<li><strong>dest</strong> &#8211; The name of the attribute to be added to the object
returned by parse_args().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="flask.ext.script.prompt">
<tt class="descclassname">flask.ext.script.</tt><tt class="descname">prompt</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#flask.ext.script.prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Grab user input from command line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; prompt text</li>
<li><strong>default</strong> &#8211; default value if no input provided.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="flask.ext.script.prompt_bool">
<tt class="descclassname">flask.ext.script.</tt><tt class="descname">prompt_bool</tt><big>(</big><em>name</em>, <em>default=False</em>, <em>yes_choices=None</em>, <em>no_choices=None</em><big>)</big><a class="headerlink" href="#flask.ext.script.prompt_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs user input from command line and converts to boolean
value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; prompt text</li>
<li><strong>default</strong> &#8211; default value if no input provided.</li>
<li><strong>yes_choices</strong> &#8211; default &#8216;y&#8217;, &#8216;yes&#8217;, &#8216;1&#8217;, &#8216;on&#8217;, &#8216;true&#8217;, &#8216;t&#8217;</li>
<li><strong>no_choices</strong> &#8211; default &#8216;n&#8217;, &#8216;no&#8217;, &#8216;0&#8217;, &#8216;off&#8217;, &#8216;false&#8217;, &#8216;f&#8217;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="flask.ext.script.prompt_pass">
<tt class="descclassname">flask.ext.script.</tt><tt class="descname">prompt_pass</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#flask.ext.script.prompt_pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs hidden (password) input from command line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; prompt text</li>
<li><strong>default</strong> &#8211; default value if no input provided.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="flask.ext.script.prompt_choices">
<tt class="descclassname">flask.ext.script.</tt><tt class="descname">prompt_choices</tt><big>(</big><em>name</em>, <em>choices</em>, <em>default=None</em>, <em>resolve=&lt;function lower at 0x102897050&gt;</em>, <em>no_choice=('none'</em>, <em>)</em><big>)</big><a class="headerlink" href="#flask.ext.script.prompt_choices" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs user input from command line from set of provided choices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; prompt text</li>
<li><strong>choices</strong> &#8211; list or tuple of available choices. Choices may be
single strings or (key, value) tuples.</li>
<li><strong>default</strong> &#8211; default value if no input provided.</li>
<li><strong>no_choice</strong> &#8211; acceptable list of strings for &#8220;null choice&#8221;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <a href="http://github.com/techniq/flask-script"><img style="position: fixed; top: 0; right: 0; border: 0;"
    src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  

  
  </div>
  

  </body>
</html>