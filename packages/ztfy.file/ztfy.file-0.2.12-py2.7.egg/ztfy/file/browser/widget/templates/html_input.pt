<textarea
	id="" name="" class="" cols="" rows=""
	tabindex="" disabled="" readonly="" accesskey=""
	tal:attributes="id view/id;
					name view/name;
					class string:${view/klass} tiny_mce;
					style view/style;
					title view/title;
					lang view/lang;
					onclick view/onclick;
					ondblclick view/ondblclick;
					onmousedown view/onmousedown;
					onmouseup view/onmouseup;
					onmouseover view/onmouseover;
					onmousemove view/onmousemove;
					onmouseout view/onmouseout;
					onkeypress view/onkeypress;
					onkeydown view/onkeydown;
					onkeyup view/onkeyup;
					disabled view/disabled;
					tabindex view/tabindex;
					onfocus view/onfocus;
					onblur view/onblur;
					onchange view/onchange;
					cols view/cols;
					rows view/rows;
					readonly view/readonly;
					accesskey view/accesskey;
					onselect view/onselect"
	tal:content="view/value" />
<script type="text/javascript" tal:content="string:
	$$().ready(function() {
		if (!tinyMCE.settings) {
			tinyMCE.init({
				script_url: '/--static--/ztfy.jqueryui/js/tiny_mce/tiny_mce.js',
				${view/options_as_text}
			});
		}
		$$('textarea[id=${view/id}]').click(function() {
			if (tinyMCE.activeEditor) {
				tinyMCE.execCommand('mceRemoveControl', false, tinyMCE.activeEditor.id);
			}
			tinyMCE.execCommand('mceAddControl', false, $$(this).attr('id'));
		});
	});">
</script>