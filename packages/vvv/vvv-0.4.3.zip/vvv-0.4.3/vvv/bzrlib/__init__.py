"""

    Code borrowed from bzrlib project.

    Adopted for VVV with logger, etc. changes.

"""