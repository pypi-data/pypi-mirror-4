<div class="highlight"><pre><a name="about--index.md-idio.html-1"></a><span class="x">&lt;h2 class=&quot;title&quot;&gt;Sites in Dexy&lt;/h2&gt;</span>
<a name="about--index.md-idio.html-2"></a>
<a name="about--index.md-idio.html-3"></a><span class="x">&lt;p class=&quot;subtitle&quot;&gt;How to Use the Website Reporter&lt;/p&gt;</span>
<a name="about--index.md-idio.html-4"></a>
<a name="about--index.md-idio.html-5"></a><span class="x">Contents:</span>
<a name="about--index.md-idio.html-6"></a>
<a name="about--index.md-idio.html-7"></a><span class="x">[TOC]</span>
<a name="about--index.md-idio.html-8"></a>
<a name="about--index.md-idio.html-9"></a><span class="x">### The WebsiteReporter</span>
<a name="about--index.md-idio.html-10"></a>
<a name="about--index.md-idio.html-11"></a><span class="x">The WebsiteReporter helps you generate a website from your Dexy output. It</span>
<a name="about--index.md-idio.html-12"></a><span class="x">helps you do things like apply HTML templates and automatically generate page</span>
<a name="about--index.md-idio.html-13"></a><span class="x">navigation.</span>
<a name="about--index.md-idio.html-14"></a>
<a name="about--index.md-idio.html-15"></a><span class="x">The WebsiteReporter won&#39;t run by default. You need to use the `--reports` command line option to customize which reports dexy runs. If you are making a website, you will probably want the WebsiteReporter to run every time you run dexy, so instead of typing this on the command line each time, you can put it in a config file like this:</span>
<a name="about--index.md-idio.html-16"></a>
<a name="about--index.md-idio.html-17"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/dexy.conf|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-18"></a>
<a name="about--index.md-idio.html-19"></a><span class="x">This means that only the WebsiteReporter and RunReporter will run, so you won&#39;t see the `output/` and `output-long/` directories you&#39;re used to. You can always add them to the list if you still want them. You can see a list of all the available reporters like this:</span>
<a name="about--index.md-idio.html-20"></a>
<a name="about--index.md-idio.html-21"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/list-reports.sh|shint|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-22"></a>
<a name="about--index.md-idio.html-23"></a><span class="x">The alias is what you add to the --reports list, which should be a string where each alias is separated by a space.</span>
<a name="about--index.md-idio.html-24"></a>
<a name="about--index.md-idio.html-25"></a><span class="x">The WebsiteReporter will copy all non-HTML files to the `output-site/` directory unchanged. When it encounters a HTML file, it will look to see if there is already a header and, if so, it will leave that file alone. If the HTML appears to be just internal page content, then the WebsiteReporter will look for a file named `_template.html` and will apply that template.</span>
<a name="about--index.md-idio.html-26"></a>
<a name="about--index.md-idio.html-27"></a><span class="x">### Finding Templates</span>
<a name="about--index.md-idio.html-28"></a>
<a name="about--index.md-idio.html-29"></a><span class="x">The WebsiteReporter looks first in the same directory as the file being processed, then it looks in each succeeding parent directory as far up as the project root, until it finds a file named `_template.html`. It uses the first one it finds (i.e. the one closest to the HTML document being processed). If it does not find one, it raises a UserFeedback exception to let you know. You can tell the WebsiteReporter not to try to apply a template by setting the `ws_template` argument to False, as in this example:</span>
<a name="about--index.md-idio.html-30"></a>
<a name="about--index.md-idio.html-31"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/dexy.yaml|idio&#39;</span><span class="o">][</span><span class="s1">&#39;source&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-32"></a>
<a name="about--index.md-idio.html-33"></a><span class="x">You can also specify another file to use as a template, as in this example:</span>
<a name="about--index.md-idio.html-34"></a>
<a name="about--index.md-idio.html-35"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/dexy.yaml|idio&#39;</span><span class="o">][</span><span class="s1">&#39;docs&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-36"></a>
<a name="about--index.md-idio.html-37"></a><span class="x">### The content Tag</span>
<a name="about--index.md-idio.html-38"></a>
<a name="about--index.md-idio.html-39"></a><span class="x">The templates are jinja templates. Here is a very simple template which only uses a single tag, `content`, to insert the content of the page it is processing:</span>
<a name="about--index.md-idio.html-40"></a>
<a name="about--index.md-idio.html-41"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;_simple_template.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-42"></a>
<a name="about--index.md-idio.html-43"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;simple_content.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"> [link to page rendered in template](simple_content.html)</span>
<a name="about--index.md-idio.html-44"></a>
<a name="about--index.md-idio.html-45"></a><span class="x">If the page content is split into named sections, these sections can be referenced as attributes of `content`.</span>
<a name="about--index.md-idio.html-46"></a>
<a name="about--index.md-idio.html-47"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;_head_body_template.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-48"></a>
<a name="about--index.md-idio.html-49"></a><span class="x">For example, this HTML source is split into sections by the `htmlsections` filter, and then the named sections are placed into the relevant spots in the template.</span>
<a name="about--index.md-idio.html-50"></a>
<a name="about--index.md-idio.html-51"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;head_body_content.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"> [link to page rendered in template](head_body_content.html)</span>
<a name="about--index.md-idio.html-52"></a>
<a name="about--index.md-idio.html-53"></a><span class="x">Here is the `dexy.yaml` for these pages:</span>
<a name="about--index.md-idio.html-54"></a>
<a name="about--index.md-idio.html-55"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;dexy.yaml|idio&#39;</span><span class="o">][</span><span class="s1">&#39;content-demos&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-56"></a>
<a name="about--index.md-idio.html-57"></a><span class="x">### Jinja Templates and Macros</span>
<a name="about--index.md-idio.html-58"></a>
<a name="about--index.md-idio.html-59"></a><span class="x">The WebsiteReporter lets you make use of jinja&#39;s [template inheritance](http://jinja.pocoo.org/docs/templates/#template-inheritance) and [macros](http://jinja.pocoo.org/docs/templates/#macros). The dexy project root and the directory containing the page being processed are passed to jinja&#39;s FileSystemLoader, so you can reference templates and macro files relative to either of these locations.</span>
<a name="about--index.md-idio.html-60"></a>
<a name="about--index.md-idio.html-61"></a><span class="x">For this website, we define a `_base.html` template:</span>
<a name="about--index.md-idio.html-62"></a>
<a name="about--index.md-idio.html-63"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/_base.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-64"></a>
<a name="about--index.md-idio.html-65"></a><span class="x">We can break our layout into manageable sections by using jinja&#39;s include statements to insert snippets into our template, and by defining blocks we can use jinja&#39;s inheritance to customize these blocks in other templates. Here is our generic site-side `_template.html`</span>
<a name="about--index.md-idio.html-66"></a>
<a name="about--index.md-idio.html-67"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/_template.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-68"></a>
<a name="about--index.md-idio.html-69"></a><span class="x">And here is a custom template for the home page:</span>
<a name="about--index.md-idio.html-70"></a>
<a name="about--index.md-idio.html-71"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/_home_template.html|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-72"></a>
<a name="about--index.md-idio.html-73"></a><span class="x">### Navigation and Meta Goodies</span>
<a name="about--index.md-idio.html-74"></a>
<a name="about--index.md-idio.html-75"></a><span class="x">In addition to referencing the page content of the page the template is being applied to, the WebsiteReporter also generates helpers for site navigation and similar utilities.</span>
<a name="about--index.md-idio.html-76"></a>
<a name="about--index.md-idio.html-77"></a><span class="x">We can see this in the navigation menu macro:</span>
<a name="about--index.md-idio.html-78"></a>
<a name="about--index.md-idio.html-79"></a><span class="cp">{{</span> <span class="nv">d</span><span class="o">[</span><span class="s1">&#39;/macros/nav.jinja|pyg&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<a name="about--index.md-idio.html-80"></a>
<a name="about--index.md-idio.html-81"></a><span class="x">Here is a page showing all the objects which are available to WebsiteReporter templates:</span>
<a name="about--index.md-idio.html-82"></a>
<a name="about--index.md-idio.html-83"></a><span class="x">[link to page which introspects on other stuff](introspect.html)</span>
</pre></div>
