var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};define(["underscore","common/views/state","common/views/collection","common/views/popover"],function(a,b,c,d){var e,f,g;return g=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return __extends(c,b),c.prototype.template=a.template('<span class="name"><%= name %></span>            <span class="description"><%= description %></span>'),c.prototype.events={click:"click"},c.prototype.render=function(){return this.el.html(this.template(this.model.toJSON())),this.el.data({id:this.model.id}),this},c.prototype.click=function(){return this.model.activate({local:!0})},c}(b.View),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.el="#concept-description",b.prototype.defaultContent='<span class="info">No description available</span>',b.prototype.update=function(a){return this.title.text(a.model.get("name")),this.content.html(a.model.get("description")||this.defaultContent)},b}(d.Popover),e=function(b){function c(){return this.activate=__bind(this.activate,this),this.scrollToConcept=__bind(this.scrollToConcept,this),c.__super__.constructor.apply(this,arguments)}return __extends(c,b),c.prototype.el="#criteria",c.prototype.viewClass=g,c.prototype.events={"mouseenter div":"mouseenter","mouseleave div":"mouseleave",click:"click"},c.prototype.initialize=function(){return c.__super__.initialize.apply(this,arguments),this.collection.bind("active",this.activate),this.description=new f},c.prototype.reset=function(a,b){c.__super__.reset.apply(this,arguments);if(b.initial)return this.el.parent().fadeIn()},c.prototype.scrollToConcept=function(a){var b;return b=this.childViews[a.id],this.el.scrollTo(b.el,{duration:800,axis:"y",offset:{top:this.el.outerHeight()/-2},easing:"easeOutQuint"})},c.prototype.activate=function(b,c){return(c!=null?!c.local:!void 0)&&a.defer(this.scrollToConcept,b),App.hub.publish("concept/active",b)},c.prototype.mouseenter=function(a){var b,c;return b=this.$(a.currentTarget).data("id"),c=this.childViews[b],this.description.show(c,"right")},c.prototype.mouseleave=function(a){return this.description.hide()},c.prototype.click=function(){return this.description.hide(!0)},c}(c.View),{View:g,CollectionView:e}})