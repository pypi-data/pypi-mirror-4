
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Some technical details &mdash; appypi 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="appypi 0.2.0 documentation" href="index.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="changelog.html" title="Changelog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">appypi 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="some-technical-details">
<span id="technical-label"></span><h1>Some technical details<a class="headerlink" href="#some-technical-details" title="Permalink to this headline">¶</a></h1>
<div class="section" id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>You may have noticed that appypi commands were almost the same as in
<a class="reference external" href="http://packages.debian.org/stable/main/aptitude">aptitude</a> , the
<a class="reference external" href="http://debian.org">Debian</a> packages manager. It is not done unpurposely.
Actually, you can find the same <cite>install</cite>, <cite>remove</cite>, <cite>update</cite> and <cite>upgrade</cite>
in aptitude. The <cite>list</cite> command is not available in aptitude but in
<a class="reference external" href="http://packages.debian.org/stable/main/dpkg">dpkg</a>
The <cite>show</cite> command is not available in aptitude but in
<a class="reference external" href="http://packages.debian.org/stable/main/apt">apt-get</a>.</p>
</div>
<div class="section" id="what-does-appypi-create-on-your-disk">
<h2>What does appypi create on your disk?<a class="headerlink" href="#what-does-appypi-create-on-your-disk" title="Permalink to this headline">¶</a></h2>
<p>Except for the launchers, everything appypi will create on your disk is confined
to the <cite>.appypi</cite> directory.</p>
<div class="section" id="global-directory">
<h3>Global directory<a class="headerlink" href="#global-directory" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>That directory contains all files and directories appypi need to work properly:</dt>
<dd><ul class="first last simple">
<li>the appypi database (SQLite format) ;</li>
<li>the Pypi packages list dump file ;</li>
<li>the appypi cache directory ;</li>
<li>for each installed app, a directory containing the <cite>bootstrap</cite> file, the current
freeze state of the app virtualenv put in the <cite>freeze.txt</cite> and the virtualenv
in itself put in the <cite>venv</cite> directory.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="launchers">
<h3>Launchers<a class="headerlink" href="#launchers" title="Permalink to this headline">¶</a></h3>
<p>For each app installed, any launchable script located in the package is translated
by appypi as a launchable script. Any of these file is situated in the user <cite>bin</cite>
directory. It creates it if it does not exist.</p>
</div>
</div>
<div class="section" id="caches">
<h2>Caches<a class="headerlink" href="#caches" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pypi-packages-list">
<h3>Pypi packages list<a class="headerlink" href="#pypi-packages-list" title="Permalink to this headline">¶</a></h3>
<p>You don&#8217;t want to query the list of <strong>ALL</strong> Pypi packages at the installation
of any package. That&#8217;s why appypi uses a cache of this Pypi list, to be fast
at installing several packages in a short interval. This cache is written
on disk in a single file, using <a class="reference external" href="http://docs.python.org/2/library/pickle.html">Python&#8217;s pickle functionnalitie</a></p>
<p>Of course, Pypi packages list grows over time, and appypi should keep it up
to date. It is done automatically if the list file is more than 7 days old.
At the moment, there is no way of modifying this duration, but it seems
reasonable. If this does not suit you, you can manually trigger the update
with a simple:</p>
<div class="highlight-python"><pre>$ appypi update</pre>
</div>
</div>
<div class="section" id="packages-cache">
<h3>Packages cache<a class="headerlink" href="#packages-cache" title="Permalink to this headline">¶</a></h3>
<p>appypi maintains its own local cache for Pypi packages. It may be redundant
with your own pip cache if you set it already (and you should), but this way
appypi is kept independent from pip. Then, each single package comes
either directly from Pypi or from the appypi local cache.</p>
<p>The annoying thing is that if pip find a package in the cache, it
asks the user what to do with it:</p>
<div class="highlight-python"><pre>The file /home/user/.appypi/appypi_cache/glances-1.5.1.tar.gz exists. (i)gnore, (w)ipe, (b)ackup</pre>
</div>
<p>There is no way to tell pip what to do programmatically before its version 1.3.
For previous versions of pip, you have to manually choose <strong>(i)gnore</strong> anytime
it is asked. Shitty, I know...</p>
<p>In case it is too disturbing for you, you can delete the full cache with:</p>
<div class="highlight-python"><pre>$ rm -rf ~/.appypi/appypi_cache</pre>
</div>
</div>
</div>
<div class="section" id="slowness">
<h2>Slowness?<a class="headerlink" href="#slowness" title="Permalink to this headline">¶</a></h2>
<p>As you can imagine, entering in  a virtualenv for each command is a bit
time-consuming. Your package may therefore be take a little more time to start
than usually. It is therefore not recommended to use appypi with particularly
time-sensitive usage. For any other use of common packages,
appypi is the way to go :-)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Some technical details</a><ul>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#what-does-appypi-create-on-your-disk">What does appypi create on your disk?</a><ul>
<li><a class="reference internal" href="#global-directory">Global directory</a></li>
<li><a class="reference internal" href="#launchers">Launchers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#caches">Caches</a><ul>
<li><a class="reference internal" href="#pypi-packages-list">Pypi packages list</a></li>
<li><a class="reference internal" href="#packages-cache">Packages cache</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slowness">Slowness?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage.html"
                        title="previous chapter">Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="changelog.html"
                        title="next chapter">Changelog</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/technical.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="changelog.html" title="Changelog"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >previous</a> |</li>
        <li><a href="index.html">appypi 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Stéphane Péchard.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>