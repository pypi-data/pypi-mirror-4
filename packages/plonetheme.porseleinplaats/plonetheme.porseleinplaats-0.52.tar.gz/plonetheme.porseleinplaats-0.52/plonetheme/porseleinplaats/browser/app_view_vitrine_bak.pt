<!DOCTYPE html>
<html>
    <head>
        <title>Eenmaal, andermaal</title>
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="default" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0" />
        <link href="++resource++plonetheme.porseleinplaats.stylesheets/app.css" media="screen" type="text/css" rel="stylesheet" />
        <script src="++resource++plonetheme.porseleinplaats.javascripts/jquery-1.8.0.min.js" type="text/javascript"></script>
        <script src="++resource++plonetheme.porseleinplaats.javascripts/app.js" type="text/javascript" ></script>
        <script src="++resource++plonetheme.porseleinplaats.javascripts/iscroll.js" type="text/javascript" ></script>
    
        <script type="text/javascript">
            var myScroll;
            function loaded() {
                    myScroll = new iScroll('wrapper', {vScroll: false});
            }
            document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
            $(window).load(loaded);
        </script>
    </head>
    <body class="App template_vitrine">
            <div id="header">
                <div class="backbuttonContainer">
                        <div class="backButton" onclick="window.location = '../app_view_vitrines_list'"><div class="-back-btn__arrow"></div>Vitrines</div>
                </div>
                <h1 class="title" tal:content="here/Title">Kies een porselein</h1>
            </div>
            <div id="wrapper">
                <div id="scroller">
                    <ul>
                        <tal:block
                                       define="contentFilter contentFilter|request/contentFilter|nothing;
                                        limit_display limit_display|request/limit_display|nothing;
                                        more_url more_url|request/more_url|string:folder_contents;
                                        folderContents python:here.portal_type=='Topic' and here.queryCatalog(contentFilter, batch=False) or here.getFolderContents(contentFilter, batch=False); 
                                        use_view_action site_properties/typesUseViewActionInListings|python:();
                                        over_limit python: limit_display and len(folderContents) > limit_display;
                                        batch folderContents;">
                            <li class="line">
                                <tal:block tal:repeat="item python: view.even(folderContents)">
                                            <div class="item_wrapper"
                                                                tal:define="item_object item/getObject;
                                                                                 item_type item/portal_type;
                                                                                 item_url item/getURL|item/absolute_url;">
                                                <a href="#" class="tileImageBox"
                                                                tal:define="media python:view.getMedia(item_object, scale='preview')"
                                                                tal:condition="python: media is not None and media != ''"
                                                                tal:attributes="href python:item_url+'/app_view_object?came_from=' + here.absolute_url()">
                                                    <img src="" alt="" class="tileImage"
                                                                    tal:condition="python: media[0] != '<'"
                                                                    tal:attributes="src media" />
                                                    <img src="" alt="" class="tileImage"
                                                                    tal:condition="python: media[0] == '<'"
                                                                    tal:replace="structure python:view.getMedia(item_object, scale='preview')" /> 
                                                        <div class="star">
                                                            <img src="++resource++plonetheme.porseleinplaats.images/book.png" width="45" height="41" alt=""  tal:condition="python:item_object.text != ''"/>
                                                            <img src="++resource++plonetheme.porseleinplaats.images/video.png" width="45" height="41" alt=""  tal:condition="python:view.getMediaWithVideoPriority(item_object).find('videolead') != -1"/>
                                                        </div>
                                                </a>
                                            </div>
                                    </tal:block>
                            </li>
                            <li class="line">
                                <tal:block tal:repeat="item python: view.odd(folderContents)">
                                                <div class="item_wrapper"
                                                                    tal:define="item_object item/getObject;
                                                                                     item_type item/portal_type;
                                                                                     item_url item/getURL|item/absolute_url;">
                                                    <a href="#" class="tileImageBox"
                                                                    tal:define="media python:view.getMedia(item_object, scale='preview')"
                                                                    tal:condition="python: media is not None and media != ''"
                                                                    tal:attributes="href python:item_url+'/app_view_object?came_from=' + here.absolute_url()">
                                                        <img src="" alt="" class="tileImage"
                                                                        tal:condition="python: media[0] != '<'"
                                                                        tal:attributes="src media" />
                                                        <img src="" alt="" class="tileImage"
                                                                        tal:condition="python: media[0] == '<'"
                                                                        tal:replace="structure python:view.getMedia(item_object, scale='preview')" />
                                                        <div class="star">
                                                            <img src="++resource++plonetheme.porseleinplaats.images/book.png" width="45" height="41" alt=""  tal:condition="python:item_object.text != ''"/>
                                                            <img src="++resource++plonetheme.porseleinplaats.images/video.png" width="45" height="41" alt=""  tal:condition="python:view.getMediaWithVideoPriority(item_object).find('videolead') != -1"/>
                                                        </div>
                                                    </a>
                                                </div>
                                </tal:block>
                            </li>
                        </tal:block>
                    </ul>
                </div>
            </div>
    </body>
</html>