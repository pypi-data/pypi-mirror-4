{% extends 'base_site.html' %}

{% block extrahead %}
<script>
    function deleteFriend(friend_id)
    {
        friendApi.delete(friend_id);
        jQuery('#friend_' + friend_id).hide('slow');
    }
</script>
{% endblock %}

{% block extrastyle %}
.friend_box {
    padding-bottom: 20px;
}
{% endblock %}
{% block content %}

<h1>Friendslist</h1>
{% if not object_list %}
There are no friends to show. Click <a href="{% url 'friendslist-friend-add' %}">here</a> to add one.
{% else %}
{% for object in object_list %}
    <div class="friend_box" id="friend_{{object.id}}">
        <h4>{{ object.name }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <a href="{% url 'friendslist-friend-update' object.id %}"><i class="icon-pencil"></i></a>
            <a href="{% url 'friendslist-friend-detail' object.id %}"><i class="icon-fullscreen"></i></a>
            <a onclick="deleteFriend({{object.id}});"><i class="icon-trash"></i></a>
        </h4>
        <i>Email: <a href="mailto:{{ object.email }}">{{ object.email }}</a> .</i><br>
        <i>Address: {{ object.address }}.</i><br>
        <i>City: {{ object.city }}.</i><br>
        <i>Zip code: {{ object.zip_code }}.</i><br>
        <i>Country: {{ object.country }}.</i><br>
        <i>Phone: {{  object.phone }}.</i><br>
    </div>
{% endfor %}
{% endif %}

<div class="pagination">
    <span class="step-links">
        {% if object_list.has_previous %}
            <a href="?page={{ object_list.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
        </span>

        {% if object_list.has_next %}
            <a href="?page={{ object_list.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>

{% endblock %}