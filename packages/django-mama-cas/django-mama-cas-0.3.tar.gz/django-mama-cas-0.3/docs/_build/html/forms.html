

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Forms &mdash; django-mama-cas 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-mama-cas 0.2 documentation" href="index.html" />
    <link rel="next" title="CAS protocol" href="protocol.html" />
    <link rel="prev" title="Management commands" href="management-commands.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="protocol.html" title="CAS protocol"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="management-commands.html" title="Management commands"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">django-mama-cas 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-mama_cas.forms"><span id="forms"></span></span><div class="section" id="id1">
<h1>Forms<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authentication-forms">
<h2>Authentication forms<a class="headerlink" href="#authentication-forms" title="Permalink to this headline">¶</a></h2>
<p>django-mama-cas includes a form class for implementing standard username and
password authentication. In most cases, this will be the form of
authentication required. Trust authentication can be used with CAS, but the
requirements are highly implementation dependent.</p>
<dl class="class">
<dt id="mama_cas.forms.LoginForm">
<em class="property">class </em><tt class="descclassname">mama_cas.forms.</tt><tt class="descname">LoginForm</tt><a class="headerlink" href="#mama_cas.forms.LoginForm" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the base form for handling user authentication. It contains the
following fields:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">username</span></tt></dt>
<dd>The username of the client requesting authentication. The provided
string is automatically converted to lowercase for consistency. This
field is required.</dd>
<dt><tt class="docutils literal"><span class="pre">password</span></tt></dt>
<dd>The password of the client requesting authentication. This field is
required.</dd>
<dt><tt class="docutils literal"><span class="pre">service</span></tt></dt>
<dd>The service the client is attempting to access, typically represented
as a URL. This is a hidden, optional field and is automatically added
to the form when provided.</dd>
</dl>
<p>The form&#8217;s <tt class="docutils literal"><span class="pre">clean()</span></tt> method attempts authentication against the configured
authentication backends and verifies that the user account is active.
If either check fails, a <tt class="docutils literal"><span class="pre">FormValidation</span></tt> error is raised with an
appropriate error message.</p>
<p>Note that this form deviates slightly from the official CAS protocol
specification, as documented in <a class="reference internal" href="protocol.html#protocol-deviations"><em>Protocol deviations</em></a>.</p>
</dd></dl>

<p>The following form classes all inherit from <tt class="docutils literal"><span class="pre">LoginForm</span></tt>, providing additional
or alternate behavior during the login process.</p>
<dl class="class">
<dt id="mama_cas.forms.LoginFormWarn">
<em class="property">class </em><tt class="descclassname">mama_cas.forms.</tt><tt class="descname">LoginFormWarn</tt><a class="headerlink" href="#mama_cas.forms.LoginFormWarn" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference internal" href="#mama_cas.forms.LoginForm" title="mama_cas.forms.LoginForm"><tt class="xref py py-class docutils literal"><span class="pre">LoginForm</span></tt></a> which adds one additional, optional field:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">warn</span></tt></dt>
<dd>A checkbox that indicates whether or not the single sign-on process
should be transparent. This causes the user to be notified before being
authenticated to another service and provided the option to continue
with the authentication attempt or end the single sign-on session.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="mama_cas.forms.LoginFormEmail">
<em class="property">class </em><tt class="descclassname">mama_cas.forms.</tt><tt class="descname">LoginFormEmail</tt><a class="headerlink" href="#mama_cas.forms.LoginFormEmail" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference internal" href="#mama_cas.forms.LoginForm" title="mama_cas.forms.LoginForm"><tt class="xref py py-class docutils literal"><span class="pre">LoginForm</span></tt></a> which adds no additional fields but
performs additional cleanup on the <tt class="docutils literal"><span class="pre">username</span></tt> field. If an email address
is provided for the username, it extracts only the username portion of the
string. Additionally, the username is converted to lowercase for
consistency.</p>
</dd></dl>

</div>
<div class="section" id="additional-forms">
<h2>Additional forms<a class="headerlink" href="#additional-forms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mama_cas.forms.WarnForm">
<em class="property">class </em><tt class="descclassname">mama_cas.forms.</tt><tt class="descname">WarnForm</tt><a class="headerlink" href="#mama_cas.forms.WarnForm" title="Permalink to this definition">¶</a></dt>
<dd><p>This form is used when warning the user that an authentication attempt is
taking place. It contains no visible form fields, but contains two hidden
fields, <tt class="docutils literal"><span class="pre">service</span></tt> and <tt class="docutils literal"><span class="pre">gateway</span></tt>. This allows the value of these
parameters to be passed through the warning process.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Forms</a><ul>
<li><a class="reference internal" href="#authentication-forms">Authentication forms</a></li>
<li><a class="reference internal" href="#additional-forms">Additional forms</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="management-commands.html"
                        title="previous chapter">Management commands</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="protocol.html"
                        title="next chapter">CAS protocol</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/forms.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="protocol.html" title="CAS protocol"
             >next</a> |</li>
        <li class="right" >
          <a href="management-commands.html" title="Management commands"
             >previous</a> |</li>
        <li><a href="index.html">django-mama-cas 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Jason Bittel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>