{% extends "sshKey/master.html"%}

{% block title %}{{ person.getLabelValue|escape}} - Add SSH Key{% endblock %}

{% block content %}
<h2>{{ person.getFirstName }}&#x2019;s SSH keys</h2>
<p>SSH can be used to access Git, Mercurial and Subversion services.</p>

    {% if view.isSshPluginEnabled %}
      {% if view.canUpdatePerson %}
        {% if person.sshKeys.count %}
    <table>
          {% for sshKey in person.sshKeys %}
      <tr>
        <!-- Insert &#8203; characters to allow Firefox to look like CSS "word-wrap: break-word". -->
        <td>
        <div style="float: right" class="actions"><a href="{{uriPrefix}}/people/{{ person.name }}/sshKeys/{{ sshKey.id }}/delete/" title="Remove this key"><img height="20" width="20" src="{{ kforge_media_url }}/images/icon-delete.png" alt="Remove" /></a></div>
        <code>{{sshKey.keyString|escape|join:"&#8203;"}}</code></td>
      </tr>
          {% endfor %}
    </table>
        {% endif %}
      {% endif %}
    {% endif %}
{% include "snippets/formerrors.html" %}
{% if not person.sshKeys.count %}
{% endif %}
<form action="." method="post" id="login_form">
  <fieldset>
    <legend>
      New SSH public key
    </legend>
    <label for="id_keyString">Public key <strong>*</strong></label> 
    {{ form.keyString }}
    <p class="desc">Please paste in your public key (format: 'Type Code Ref') without any trailing space.</p><br />
    <p class="desc">Example: <b>ssh-rsa ffff name@host</b></p><br />
  </fieldset>
  
  <p>
    Please check and <input type="submit" name="submission" value="send the form" />
  </p>

</form>
{% endblock %}
