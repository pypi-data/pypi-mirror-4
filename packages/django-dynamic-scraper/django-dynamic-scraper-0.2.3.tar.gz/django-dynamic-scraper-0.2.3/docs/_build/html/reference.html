

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference &mdash; django-dynamic-scraper 0.2-alpha documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-dynamic-scraper 0.2-alpha documentation" href="index.html" />
    <link rel="next" title="Development" href="development.html" />
    <link rel="prev" title="Basic services" href="basic_services.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="development.html" title="Development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="basic_services.html" title="Basic services"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">django-dynamic-scraper 0.2-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="settings">
<span id="id1"></span><h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>For the configuration of Django Dynamic Scraper you can use all the basic <a class="reference external" href="http://doc.scrapy.org/en/latest/topics/settings.html">settings from
Scrapy</a>, though some settings may
not be useful to change in the context of DDS. In addition DDS defines some extra settings
with the prefix <tt class="docutils literal"><span class="pre">DSCRAPER</span></tt>. You can also place these settings in the Scrapy <tt class="docutils literal"><span class="pre">settings.py</span></tt>
configuration file. At the moment this is the only way to define DDS settings and you can&#8217;t
change DDS settings via command line parameters.</p>
<div class="section" id="dscraper-log-enabled">
<h3>DSCRAPER_LOG_ENABLED<a class="headerlink" href="#dscraper-log-enabled" title="Permalink to this headline">¶</a></h3>
<p>Default: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Enable/disable the DDS logging (see <a class="reference internal" href="basic_services.html#logging"><em>Logging</em></a> for more info).</p>
</div>
<div class="section" id="dscraper-log-level">
<h3>DSCRAPER_LOG_LEVEL<a class="headerlink" href="#dscraper-log-level" title="Permalink to this headline">¶</a></h3>
<p>Default: <tt class="docutils literal"><span class="pre">ERROR</span></tt></p>
<p>Set the log level for DDS logging. Possible values are CRITICAL, ERROR, WARNING, INFO and DEBUG.</p>
</div>
<div class="section" id="dscraper-log-limit">
<h3>DSCRAPER_LOG_LIMIT<a class="headerlink" href="#dscraper-log-limit" title="Permalink to this headline">¶</a></h3>
<p>Default: <tt class="docutils literal"><span class="pre">250</span></tt></p>
<p>The number of log entries in the Django database table.</p>
</div>
<div class="section" id="dscraper-max-spider-runs-per-task">
<h3>DSCRAPER_MAX_SPIDER_RUNS_PER_TASK<a class="headerlink" href="#dscraper-max-spider-runs-per-task" title="Permalink to this headline">¶</a></h3>
<p>Default: <tt class="docutils literal"><span class="pre">10</span></tt></p>
<p>Maximum number of spider runs executed per task run.</p>
</div>
<div class="section" id="dscraper-max-checker-runs-per-task">
<h3>DSCRAPER_MAX_CHECKER_RUNS_PER_TASK<a class="headerlink" href="#dscraper-max-checker-runs-per-task" title="Permalink to this headline">¶</a></h3>
<p>Default: <tt class="docutils literal"><span class="pre">25</span></tt></p>
<p>Maximum number of checker runs executed per task run.</p>
</div>
</div>
<div class="section" id="django-model-reference">
<h2>Django Model Reference<a class="headerlink" href="#django-model-reference" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
<div class="section" id="scrapedobjclass">
<span id="scraped-obj-class"></span><h3>ScrapedObjClass<a class="headerlink" href="#scrapedobjclass" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="scrapedobjattr">
<span id="scraped-obj-attr"></span><h3>ScrapedObjAttr<a class="headerlink" href="#scrapedobjattr" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="scraper">
<span id="id2"></span><h3>Scraper<a class="headerlink" href="#scraper" title="Permalink to this headline">¶</a></h3>
<div class="section" id="status">
<h4><tt class="docutils literal"><span class="pre">status</span></tt><a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h4>
<p>Status of the scraper, influencing in which context the scraper is executed.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ACTIVE</td>
<td>Scraper can be run manually and is included on scheduled task execution</td>
</tr>
<tr class="row-even"><td>MANUAL</td>
<td>Scraper can only be run manually and is ignored on scheduled task execution</td>
</tr>
<tr class="row-odd"><td>PAUSE</td>
<td>Scraper is not executed, use for short pausing</td>
</tr>
<tr class="row-even"><td>INACTIVE</td>
<td>Scraper is not executed, use for longer interruption of scraper use</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="scraperelem">
<span id="scraper-elem"></span><h3>ScraperElem<a class="headerlink" href="#scraperelem" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="schedulerruntime">
<span id="scheduler-runtime"></span><h3>SchedulerRuntime<a class="headerlink" href="#schedulerruntime" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
<div class="section" id="djangospider">
<span id="django-spider"></span><h3>DjangoSpider<a class="headerlink" href="#djangospider" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="djangochecker">
<span id="django-checker"></span><h3>DjangoChecker<a class="headerlink" href="#djangochecker" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
</div>
<div class="section" id="processors">
<h2>Processors<a class="headerlink" href="#processors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="string-strip">
<h3>string_strip<a class="headerlink" href="#string-strip" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Applies the python strip function to remove leading and trailing
characters</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'string_strip':</span> <span class="pre">'</span> <span class="pre">.!'</span></tt> (optional, default: &#8216; ntr&#8217;)</td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8221; ... Example Text!!!&#8221; -&gt; &#8220;Example Text&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pre-string">
<h3>pre_string<a class="headerlink" href="#pre-string" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Adds a string before the scraped text</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'pre_string':</span> <span class="pre">'BEFORE_'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;Example Text&#8221; -&gt; &#8220;BEFORE_Example Text&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="post-string">
<h3>post_string<a class="headerlink" href="#post-string" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Appends a string after the scraped text</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'post_string':</span> <span class="pre">'_AFTER'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;Example Text&#8221; -&gt; &#8220;Example Text_AFTER&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pre-url">
<h3>pre_url<a class="headerlink" href="#pre-url" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Adding a domain to scraped url paths, works like pre_string with
some url specific enhancements (throwing away defined domain when
scraped text has a leading &#8220;<a class="reference external" href="http://">http://</a>&#8221; e.g.)</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'pre_url':</span> <span class="pre">'http://example.org/'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;/path/to/page.html&#8221; -&gt; &#8220;<a class="reference external" href="http://example.org/path/to/page.html">http://example.org/path/to/page.html</a>&#8220;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="replace">
<h3>replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>When the scraper succeeds in scraping the attribute value, the text
scraped is replaced with the replacement given in the processor
context.</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>No</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'replace':</span> <span class="pre">'This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">replacement'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;This text was scraped&#8221; -&gt; &#8220;This is a replacement&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="static">
<h3>static<a class="headerlink" href="#static" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>No matter if the scraper succeeds in scraping the attribute value
or not, the static value is used as an attribute value. This
processor is also useful for testing for not relying on too many
x_path values having to succeed at once.</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>No</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'static':</span> <span class="pre">'Static</span> <span class="pre">text'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;No matter if this text was scraped or not&#8221; -&gt; &#8220;Static text&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="date">
<h3>date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Tries to parse a date with Python&#8217;s strptime function
(extra sugar: recognises &#8216;yesterday&#8217;, &#8216;gestern&#8217;, &#8216;today&#8217;, &#8216;heute&#8217;,
&#8216;tomorrow&#8217;, &#8216;morgen&#8217;)</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'date':</span> <span class="pre">'%d.%m.%Y'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;04.12.2011&#8221; -&gt; &#8220;2011-12-04&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="time">
<h3>time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Tries to parse a time with Python&#8217;s strptime function</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'time':</span> <span class="pre">'%H</span> <span class="pre">hours</span> <span class="pre">%M</span> <span class="pre">minutes'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;22 hours 15 minutes&#8221; -&gt; &#8220;22:15&#8221;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="duration">
<h3>duration<a class="headerlink" href="#duration" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Description</em></td>
<td>Tries to parse a duration, works like time processor but with
time unit overlap breakdown</td>
</tr>
<tr class="row-even"><td><em>Usable with other processors</em></td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td><em>Context definition (Example)</em></td>
<td><tt class="docutils literal"><span class="pre">'duration':</span> <span class="pre">'%M</span> <span class="pre">Minutes'</span></tt></td>
</tr>
<tr class="row-even"><td><em>Result (Example)</em></td>
<td>&#8220;77 Minutes&#8221; -&gt; &#8220;01:17:00&#8221;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference</a><ul>
<li><a class="reference internal" href="#settings">Settings</a><ul>
<li><a class="reference internal" href="#dscraper-log-enabled">DSCRAPER_LOG_ENABLED</a></li>
<li><a class="reference internal" href="#dscraper-log-level">DSCRAPER_LOG_LEVEL</a></li>
<li><a class="reference internal" href="#dscraper-log-limit">DSCRAPER_LOG_LIMIT</a></li>
<li><a class="reference internal" href="#dscraper-max-spider-runs-per-task">DSCRAPER_MAX_SPIDER_RUNS_PER_TASK</a></li>
<li><a class="reference internal" href="#dscraper-max-checker-runs-per-task">DSCRAPER_MAX_CHECKER_RUNS_PER_TASK</a></li>
</ul>
</li>
<li><a class="reference internal" href="#django-model-reference">Django Model Reference</a><ul>
<li><a class="reference internal" href="#scrapedobjclass">ScrapedObjClass</a></li>
<li><a class="reference internal" href="#scrapedobjattr">ScrapedObjAttr</a></li>
<li><a class="reference internal" href="#scraper">Scraper</a><ul>
<li><a class="reference internal" href="#status"><tt class="docutils literal"><span class="pre">status</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scraperelem">ScraperElem</a></li>
<li><a class="reference internal" href="#schedulerruntime">SchedulerRuntime</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li><a class="reference internal" href="#djangospider">DjangoSpider</a></li>
<li><a class="reference internal" href="#djangochecker">DjangoChecker</a></li>
</ul>
</li>
<li><a class="reference internal" href="#processors">Processors</a><ul>
<li><a class="reference internal" href="#string-strip">string_strip</a></li>
<li><a class="reference internal" href="#pre-string">pre_string</a></li>
<li><a class="reference internal" href="#post-string">post_string</a></li>
<li><a class="reference internal" href="#pre-url">pre_url</a></li>
<li><a class="reference internal" href="#replace">replace</a></li>
<li><a class="reference internal" href="#static">static</a></li>
<li><a class="reference internal" href="#date">date</a></li>
<li><a class="reference internal" href="#time">time</a></li>
<li><a class="reference internal" href="#duration">duration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="basic_services.html"
                        title="previous chapter">Basic services</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="development.html"
                        title="next chapter">Development</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/reference.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="development.html" title="Development"
             >next</a> |</li>
        <li class="right" >
          <a href="basic_services.html" title="Basic services"
             >previous</a> |</li>
        <li><a href="index.html">django-dynamic-scraper 0.2-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Holger Drewes.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>