
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38618352-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>circuits.core.manager – Manager &mdash; circuits 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="circuits 2.1.0 documentation" href="../index.html" />
    <link rel="up" title="circuits.core – Core Functionality" href="circuits_core.html" />
    <link rel="next" title="circuits.core.values – Value" href="circuits_core_values.html" />
    <link rel="prev" title="circuits.core.handlers – Handlers" href="circuits_core_handlers.html" />
 
<script type="text/javascript" src="../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>

  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">circuits 2.1.0 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="circuits_core_handlers.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.core.handlers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Handlers">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_core_values.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.core.values&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Value">next</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="api-circuits_core_manager">
            
  <div class="section" id="module-circuits.core.manager">
<span id="circuits-core-manager-manager"></span><h1><a class="reference internal" href="#module-circuits.core.manager" title="circuits.core.manager"><tt class="xref py py-mod docutils literal"><span class="pre">circuits.core.manager</span></tt></a> &#8211; Manager<a class="headerlink" href="#module-circuits.core.manager" title="Permalink to this headline">¶</a></h1>
<p>This module defines the Manager class.</p>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="circuits.core.manager.Manager">
<em class="property">class </em><tt class="descclassname">circuits.core.manager.</tt><tt class="descname">Manager</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The manager class has two roles. As a base class for component
implementation, it provides methods for event and handler management.
The method <a class="reference internal" href="#circuits.core.manager.Manager.fireEvent" title="circuits.core.manager.Manager.fireEvent"><tt class="xref py py-meth docutils literal"><span class="pre">fireEvent()</span></tt></a> appends a new event at the end of the event
queue for later execution. <tt class="xref py py-meth docutils literal"><span class="pre">waitEvent()</span></tt> suspends the execution
of a handler until all handlers for a given event have been invoked.
<a class="reference internal" href="#circuits.core.manager.Manager.callEvent" title="circuits.core.manager.Manager.callEvent"><tt class="xref py py-meth docutils literal"><span class="pre">callEvent()</span></tt></a> combines the last two methods in a single method.</p>
<p>The methods <tt class="xref py py-meth docutils literal"><span class="pre">addHandler()</span></tt> and <tt class="xref py py-meth docutils literal"><span class="pre">removeHandler()</span></tt> allow handlers
for events to be added and removed dynamically. (The more common way to
register a handler is to use the <a class="reference internal" href="circuits_core_handlers.html#circuits.core.handlers.handler" title="circuits.core.handlers.handler"><tt class="xref py py-func docutils literal"><span class="pre">handler()</span></tt></a> decorator
or derive the class from <a class="reference internal" href="circuits_core_components.html#circuits.core.components.Component" title="circuits.core.components.Component"><tt class="xref py py-class docutils literal"><span class="pre">Component</span></tt></a>.)</p>
<p>In its second role, the <a class="reference internal" href="#circuits.core.manager.Manager" title="circuits.core.manager.Manager"><tt class="xref py py-class docutils literal"><span class="pre">Manager</span></tt></a> takes the role of the
event executor. Every component hierarchy has a root component that
maintains a queue of events. Firing an event effectively means
appending it to the event queue maintained by the root manager.
The <a class="reference internal" href="#circuits.core.manager.Manager.flush" title="circuits.core.manager.Manager.flush"><tt class="xref py py-meth docutils literal"><span class="pre">flush()</span></tt></a> method removes all pending events from the
queue and, for each event, invokes all the handlers. Usually,
<a class="reference internal" href="#circuits.core.manager.Manager.flush" title="circuits.core.manager.Manager.flush"><tt class="xref py py-meth docutils literal"><span class="pre">flush()</span></tt></a> is indirectly invoked by <a class="reference internal" href="#circuits.core.manager.Manager.run" title="circuits.core.manager.Manager.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a>.</p>
<p>The manager optionally provides information about the execution of
events as automatically generated events. If an <a class="reference internal" href="circuits_core_events.html#circuits.core.events.Event" title="circuits.core.events.Event"><tt class="xref py py-class docutils literal"><span class="pre">Event</span></tt></a>
has its <tt class="xref py py-attr docutils literal"><span class="pre">success</span></tt> attribute set to True, the manager fires
a <a class="reference internal" href="circuits_core_events.html#circuits.core.events.Success" title="circuits.core.events.Success"><tt class="xref py py-class docutils literal"><span class="pre">Success</span></tt></a> event if all handlers have been
executed without error. Note that this event will be
enqueued (and dispatched) immediately after the events that have been
fired by the event&#8217;s handlers. So the success event indicates both
the successful invocation of all handlers for the event and the
processing of the immediate follow-up events fired by those handlers.</p>
<p>Sometimes it is not sufficient to know that an event and its
immediate follow-up events have been processed. Rather, it is
important to know when all state changes triggered by an event,
directly or indirectly, have been performed. This also includes
the processing of events that have been fired when invoking
the handlers for the follow-up events and the processing of events
that have again been fired by those handlers and so on. The completion
of the processing of an event and all its direct or indirect
follow-up events may be indicated by a <tt class="xref py py-class docutils literal"><span class="pre">Complete</span></tt>
event. This event is generated by the manager if <a class="reference internal" href="circuits_core_events.html#circuits.core.events.Event" title="circuits.core.events.Event"><tt class="xref py py-class docutils literal"><span class="pre">Event</span></tt></a>
has its <tt class="xref py py-attr docutils literal"><span class="pre">complete</span></tt> attribute set to True.</p>
<p>Apart from the event queue, the root manager also maintains  a list of
tasks, actually Python generators, that are updated when the event queue
has been flushed.</p>
<p>initializes x; see x.__class__.__doc__ for signature</p>
<dl class="attribute">
<dt id="circuits.core.manager.Manager.name">
<tt class="descname">name</tt><a class="headerlink" href="#circuits.core.manager.Manager.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of this Component/Manager</p>
</dd></dl>

<dl class="attribute">
<dt id="circuits.core.manager.Manager.running">
<tt class="descname">running</tt><a class="headerlink" href="#circuits.core.manager.Manager.running" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the running state of this Component/Manager</p>
</dd></dl>

<dl class="attribute">
<dt id="circuits.core.manager.Manager.pid">
<tt class="descname">pid</tt><a class="headerlink" href="#circuits.core.manager.Manager.pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the process id of this Component/Manager</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.fireEvent">
<tt class="descname">fireEvent</tt><big>(</big><em>event</em>, <em>*channels</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.fireEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Fire an event into the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> &#8211; The event that is to be fired.</li>
<li><strong>channels</strong> &#8211; The channels that this event is delivered on.
If no channels are specified, the event is delivered to the
channels found in the event&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">channel</span></tt> attribute.
If this attribute is not set, the event is delivered to
the firing component&#8217;s channel. And eventually,
when set neither, the event is delivered on all
channels (&#8220;*&#8221;).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.fire">
<tt class="descname">fire</tt><big>(</big><em>event</em>, <em>*channels</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.fire" title="Permalink to this definition">¶</a></dt>
<dd><p>Fire an event into the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> &#8211; The event that is to be fired.</li>
<li><strong>channels</strong> &#8211; The channels that this event is delivered on.
If no channels are specified, the event is delivered to the
channels found in the event&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">channel</span></tt> attribute.
If this attribute is not set, the event is delivered to
the firing component&#8217;s channel. And eventually,
when set neither, the event is delivered on all
channels (&#8220;*&#8221;).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.callEvent">
<tt class="descname">callEvent</tt><big>(</big><em>event</em>, <em>*channels</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.callEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Fire the given event to the specified channels and suspend
execution until it has been dispatched. This method may only
be invoked as argument to a <tt class="docutils literal"><span class="pre">yield</span></tt> on the top execution level
of a handler (e.g. &#8220;<tt class="docutils literal"><span class="pre">yield</span> <span class="pre">self.callEvent(event)</span></tt>&#8221;).
It effectively creates and returns a generator
that will be invoked by the main loop until the event has
been dispatched (see <a class="reference internal" href="circuits_core_handlers.html#circuits.core.handlers.handler" title="circuits.core.handlers.handler"><tt class="xref py py-func docutils literal"><span class="pre">circuits.core.handlers.handler()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.call">
<tt class="descname">call</tt><big>(</big><em>event</em>, <em>*channels</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Fire the given event to the specified channels and suspend
execution until it has been dispatched. This method may only
be invoked as argument to a <tt class="docutils literal"><span class="pre">yield</span></tt> on the top execution level
of a handler (e.g. &#8220;<tt class="docutils literal"><span class="pre">yield</span> <span class="pre">self.callEvent(event)</span></tt>&#8221;).
It effectively creates and returns a generator
that will be invoked by the main loop until the event has
been dispatched (see <a class="reference internal" href="circuits_core_handlers.html#circuits.core.handlers.handler" title="circuits.core.handlers.handler"><tt class="xref py py-func docutils literal"><span class="pre">circuits.core.handlers.handler()</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.flushEvents">
<tt class="descname">flushEvents</tt><big>(</big><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.flushEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all Events in the Event Queue. If called on a manager
that is not the root of an object hierarchy, the invocation
is delegated to the root manager.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.flush">
<tt class="descname">flush</tt><big>(</big><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all Events in the Event Queue. If called on a manager
that is not the root of an object hierarchy, the invocation
is delegated to the root manager.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.start">
<tt class="descname">start</tt><big>(</big><em>process=False</em>, <em>link=None</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a new thread or process that invokes this manager&#8217;s
<tt class="docutils literal"><span class="pre">run()</span></tt> method. The invocation of this method returns
immediately after the task or process has been started.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop this manager. Invoking this method causes
an invocation of <tt class="docutils literal"><span class="pre">run()</span></tt> to return.</p>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.tick">
<tt class="descname">tick</tt><big>(</big><em>timeout=-1</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute all possible actions once. Process all registered tasks
and flush the event queue. If the application is running fire a
GenerateEvents to get new events from sources.</p>
<p>This method is usually invoked from <a class="reference internal" href="#circuits.core.manager.Manager.run" title="circuits.core.manager.Manager.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a>. It may also be
used to build an application specific main loop.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>float, measuring seconds</em>) &#8211; the maximum waiting time spent in this method. If
negative, the method may block until at least one action
has been taken.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="circuits.core.manager.Manager.run">
<tt class="descname">run</tt><big>(</big><em>socket=None</em><big>)</big><a class="headerlink" href="#circuits.core.manager.Manager.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run this manager. The method fires the
<a class="reference internal" href="circuits_core_events.html#circuits.core.events.Started" title="circuits.core.events.Started"><tt class="xref py py-class docutils literal"><span class="pre">Started</span></tt></a> event and then continuously
calls <a class="reference internal" href="#circuits.core.manager.Manager.tick" title="circuits.core.manager.Manager.tick"><tt class="xref py py-meth docutils literal"><span class="pre">tick()</span></tt></a>.</p>
<p>The method returns when the manager&#8217;s <a class="reference internal" href="#circuits.core.manager.Manager.stop" title="circuits.core.manager.Manager.stop"><tt class="xref py py-meth docutils literal"><span class="pre">stop()</span></tt></a> method is invoked.</p>
<p>If invoked by a programs main thread, a signal handler for
the <tt class="docutils literal"><span class="pre">INT</span></tt> and <tt class="docutils literal"><span class="pre">TERM</span></tt> signals is installed. This handler
fires the corresponding <a class="reference internal" href="circuits_core_events.html#circuits.core.events.Signal" title="circuits.core.events.Signal"><tt class="xref py py-class docutils literal"><span class="pre">Signal</span></tt></a>
events and then calls <a class="reference internal" href="#circuits.core.manager.Manager.stop" title="circuits.core.manager.Manager.stop"><tt class="xref py py-meth docutils literal"><span class="pre">stop()</span></tt></a> for the manager.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<p><strong>none</strong></p>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p><strong>none</strong></p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p><strong>none</strong></p>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">circuits.core.manager</span></tt> &#8211; Manager</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#components">Components</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="circuits_core_handlers.html"><tt class="docutils literal docutils literal docutils literal"><span class="pre">circuits.core.handlers</span></tt> &#8211; Handlers</a></li>
    
    
      <li>Next: <a href="circuits_core_values.html"><tt class="docutils literal"><span class="pre">circuits.core.values</span></tt> &#8211; Value</a></li>
    
  </ul>
  <h3>You are here:</h3>
  <ul>
      <li>
        <a href="../index.html">circuits 2.1.0 documentation</a>
        
          <ul><li><a href="index.html">API Reference</a>
        
          <ul><li><a href="circuits_core.html"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">circuits.core</span></tt> &#8211; Core Functionality</a>
        
        <ul><li><tt class="docutils literal docutils literal"><span class="pre">circuits.core.manager</span></tt> &#8211; Manager</li></ul>
        </li></ul></li></ul>
      </li>
  </ul>  

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/circuits_core_manager.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="circuits_core_handlers.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.core.handlers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Handlers">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_core_values.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.core.values&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Value">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>