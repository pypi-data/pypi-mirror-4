var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};define(["underscore","cilantro/utils/logging"],function(a,b){var c,d;return d={UnsavedReportTemplate:'<div class="message-block warning">                <div class="content">                    <strong role="name"><%= name %></strong> has unsaved changes                </div>                <button class="revert">Revert</button>                <button class="save">Save</button>            </div>'},c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return __extends(c,b),c.prototype.template=a.template(d.UnsavedReportTemplate),c.prototype.elements={"[role=name]":"name"},c.prototype.events={"click .save":"save","click .revert":"revert"},c.prototype.initialize=function(){var a=this;return this.render(),this.model.bind("change:name",function(b,c){return a.el.find("[role=name]").text(c)}),this.model.bind("change:has_changed",function(b,c){return c?App.hub.publish("log",a):App.hub.publish("dismiss",a)})},c.prototype.render=function(){return this.el=this.$(this.template(this.model.toJSON())),this.setLocalElements(),this.delegateEvents(),this},c.prototype.save=function(){return this.model.push()},c.prototype.revert=function(){return this.model.revert()},c}(b.MessageView),{UnsavedReport:c,templates:d}})