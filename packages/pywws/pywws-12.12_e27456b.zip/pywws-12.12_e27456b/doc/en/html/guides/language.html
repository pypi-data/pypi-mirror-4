

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to use pywws in another language &mdash; pywws 12.12_e27456b documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '12.12_e27456b',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/pywws_logo.ico"/>
    <link rel="top" title="pywws 12.12_e27456b documentation" href="../index.html" />
    <link rel="up" title="User guides" href="index.html" />
    <link rel="next" title="weather.ini - configuration file format" href="weather_ini.html" />
    <link rel="prev" title="How to configure pywws to post messages to Twitter" href="twitter.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="weather_ini.html" title="weather.ini - configuration file format"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="twitter.html" title="How to configure pywws to post messages to Twitter"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pywws 12.12_e27456b documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">User guides</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-use-pywws-in-another-language">
<h1>How to use pywws in another language<a class="headerlink" href="#how-to-use-pywws-in-another-language" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first">Introduction.</p>
<p>Some parts of pywws can be configured to use your local language instead
of British English. This requires an appropriate language file which
contains translations of the various strings used in pywws. The pywws
project relies on users to provide these translations. This document
describes how to create a language file.</p>
<p>The pywws documentation can also be translated into other languages. This is a lot more work, but could be very useful to potential users who do not read English very well.</p>
</li>
<li><p class="first">Dependencies.</p>
<p>As well as the pywws software you need to install the &#8216;gettext&#8217; GNU
internationalisation utilities package. This is available from the
standard repositories for most Linux distributions, or you can download it
from <a class="reference external" href="http://www.gnu.org/software/gettext/">http://www.gnu.org/software/gettext/</a> if you need to compile it
yourself.</p>
</li>
<li><p class="first">Choose your language code.</p>
<p>Computers use IETF language tags (see
<a class="reference external" href="http://en.wikipedia.org/wiki/IETF_language_tag">http://en.wikipedia.org/wiki/IETF_language_tag</a>). For example, in the UK we
use &#8216;en_GB&#8217;. This has two parts: &#8216;en&#8217; for English, and &#8216;GB&#8217; for the
British version of it. To find the correct code for your language, consult
the list at
<a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html#Language-Codes">http://www.gnu.org/software/gettext/manual/gettext.html#Language-Codes</a>.</p>
</li>
<li><p class="first">Getting started.</p>
<p>Your pywws directory should already have a subdirectory called translations.
This contains the existing set of language files, for example &#8216;translations/sv/pywws.po&#8217;
contains the Swedish translations. If one of these languages is what you
need, then edit your weather.ini file and add a &#8216;language&#8217; entry to the
&#8216;[config]&#8217; section, for example:</p>
<div class="highlight-python"><pre>[config]
day end hour = 21
gnuplot encoding = iso_8859_1
language = sv</pre>
</div>
<p>You may still need to compile and install your chosen language file. This is done by the &#8216;makefile&#8217; included with pywws:</p>
<div class="highlight-python"><pre>make lang LANG=sv</pre>
</div>
<p>If there isn&#8217;t already a file for your language, the rest of this document
tells you how to create one.</p>
</li>
<li><p class="first">Create a language file.</p>
<p>The &#8216;makefile&#8217; included with pywws can create a file for you to
fill in. For example, to create a source file for the French language (code &#8216;fr&#8217;):</p>
<div class="highlight-python"><pre>make lang_src LANG=fr</pre>
</div>
<p>This will ask you to confirm your email address (several times, annoyingly), then create several &#8216;.po&#8217; files in the directory &#8216;translations/fr&#8217;. You should now edit &#8216;pywws.po&#8217;, filling in every &#8216;msgstr&#8217; line with a translation of the &#8216;msgid&#8217; line immediately above it. The reason for including your email address is to allow anyone who has questions about your translation to get in touch with you. Feel free to put in an invalid address if you are concerned about privacy.</p>
<p>After you&#8217;ve edited your new language file it needs to be compiled so that
pywws can use it. This is also done by the makefile:</p>
<div class="highlight-python"><pre>make lang LANG=fr</pre>
</div>
<p>Don&#8217;t forget to do this every time you edit a language file.</p>
</li>
<li><p class="first">Test the pywws translation.</p>
<p>The Localisation.py module can be used to do a quick test of your language file installation:</p>
<div class="highlight-python"><pre>python code/RunModule.py Localisation -t fr</pre>
</div>
<p>This should produce output something like this:</p>
<div class="highlight-python"><pre>Locale changed from (None, None) to ('fr_FR', 'UTF-8')
Translation set OK
Locale
  decimal point: 23,2
  date &amp; time: lundi, 17 décembre (17/12/2012 16:00:48)
Translations
  'NNW' =&gt; 'NNO'
  'rising very rapidly' =&gt; 'en hausse très rapide'
  'Rain at times, very unsettled' =&gt; 'Quelques précipitations, très perturbé'</pre>
</div>
<p>Edit the language entry in your weather.ini file to use your language code
(e.g. &#8216;fr&#8217;), then try using Plot.py to plot a graph. The X-axis of the
graph should now be labeled in your language, using the translation you
provided for &#8216;Time&#8217;, &#8216;Day&#8217; or &#8216;Date&#8217;.</p>
</li>
<li><p class="first">Send Jim the language file.</p>
<p>I&#8217;m sure you would like others to benefit from the work you&#8217;ve done in
making a new language file for pywws. Please, please, please send a copy
of your language file (for example pywws.po) to <a class="reference external" href="mailto:jim&#37;&#52;&#48;jim-easterbrook&#46;me&#46;uk">jim<span>&#64;</span>jim-easterbrook<span>&#46;</span>me<span>&#46;</span>uk</a>.</p>
</li>
<li><p class="first">Update the language file.</p>
<p>As pywws is extended, new strings may be added which will require your
translation file to be extended as well. This is fairly easy to do. First
you need to remove the language master template file, then run the &#8216;make lang_src&#8217; command again:</p>
<div class="highlight-python"><pre>rm translations/pywws.pot
make lang_src LANG=fr</pre>
</div>
<p>This should add the
new strings to your language file, without changing the strings you&#8217;ve
already translated.</p>
</li>
<li><p class="first">Translating the documentation.</p>
<p>The system used to translate the strings used in pywws can also be used to translate the documentation. The files &#8216;index.po&#8217;, &#8216;essential.po&#8217;, &#8216;guides.po&#8217; and &#8216;api.po&#8217; contain text strings (often whole paragraphs) extracted from the different parts of the documentation.</p>
<p>These files can be edited in a similar way to &#8216;pywws.po&#8217;. Fill in each &#8216;msgstr&#8217; with a translation of the &#8216;msgid&#8217; above it. Note that some strings (such as URLs) need not be translated. In these cases, leave the &#8216;msgstr&#8217; blank.</p>
<p>Translating all of the pywws documentation is a lot of work. However, when the documentation is &#8216;compiled&#8217; any untranslated strings revert to their English original. This means that a partial translation could still be useful - I suggest starting with the documentation front page, &#8216;index.po&#8217;.</p>
<p>Comments or questions? Please subscribe to the pywws mailing list
<a class="reference external" href="http://groups.google.com/group/pywws">http://groups.google.com/group/pywws</a> and let us know.</p>
</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pywws_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="twitter.html"
                        title="previous chapter">How to configure pywws to post messages to Twitter</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="weather_ini.html"
                        title="next chapter">weather.ini - configuration file format</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="weather_ini.html" title="weather.ini - configuration file format"
             >next</a> |</li>
        <li class="right" >
          <a href="twitter.html" title="How to configure pywws to post messages to Twitter"
             >previous</a> |</li>
        <li><a href="../index.html">pywws 12.12_e27456b documentation</a> &raquo;</li>
          <li><a href="index.html" >User guides</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-12, Jim Easterbrook.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>