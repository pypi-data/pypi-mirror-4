
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>queue Package &mdash; FireWorks 0.1dev1.61 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1dev1.61',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="FireWorks 0.1dev1.61 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">FireWorks 0.1dev1.61 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="queue-package">
<h1>queue Package<a class="headerlink" href="#queue-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">queue</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-fireworks.queue"></span></div>
<div class="section" id="module-fireworks.queue.queue_adapter">
<span id="queue-adapter-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">queue_adapter</span></tt> Module<a class="headerlink" href="#module-fireworks.queue.queue_adapter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase">
<em class="property">class </em><tt class="descclassname">fireworks.queue.queue_adapter.</tt><tt class="descname">QueueAdapterBase</tt><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fireworks.utilities.html#fireworks.utilities.fw_serializers.FWSerializable" title="fireworks.utilities.fw_serializers.FWSerializable"><tt class="xref py py-class docutils literal"><span class="pre">fireworks.utilities.fw_serializers.FWSerializable</span></tt></a></p>
<p>The QueueAdapter is responsible for all interactions with a specific     queue management system. This includes handling all details of queue     script format as well as queue submission and management.</p>
<p>A user should extend this class with implementations that work on     specific queue systems.</p>
<dl class="classmethod">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>m_dict</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase.get_njobs_in_queue">
<tt class="descname">get_njobs_in_queue</tt><big>(</big><em>queue_params</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase.get_njobs_in_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of jobs in the queue, probably using subprocess or shutil to         call a command like &#8216;qstat&#8217;. returns None when the number of jobs cannot be determined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_params</strong> &#8211; a QueueParams() instance</li>
<li><strong>username</strong> &#8211; the username of the jobs to count (default is to autodetect)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase.get_script_str">
<tt class="descname">get_script_str</tt><big>(</big><em>queue_params</em>, <em>launch_dir</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase.get_script_str" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a (multi-line) String representing the queue script, e.g. PBS script.         All details of the queue script must be specified in the QueueParams().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_params</strong> &#8211; A QueueParams() instance</li>
<li><strong>launch_dir</strong> &#8211; The directory the job will be launched in</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase.submit_to_queue">
<tt class="descname">submit_to_queue</tt><big>(</big><em>queue_params</em>, <em>script_file</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase.submit_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>submits the job to the queue, probably using subprocess or shutil
:param queue_params: A QueueParams() instance
:param script_file: name of the script file to use (String)</p>
</dd></dl>

<dl class="method">
<dt id="fireworks.queue.queue_adapter.QueueAdapterBase.to_dict">
<tt class="descname">to_dict</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueAdapterBase.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fireworks.queue.queue_adapter.QueueParams">
<em class="property">class </em><tt class="descclassname">fireworks.queue.queue_adapter.</tt><tt class="descname">QueueParams</tt><big>(</big><em>queue_adapter</em>, <em>params</em>, <em>logging_dir='.'</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fireworks.utilities.html#fireworks.utilities.fw_serializers.FWSerializable" title="fireworks.utilities.fw_serializers.FWSerializable"><tt class="xref py py-class docutils literal"><span class="pre">fireworks.utilities.fw_serializers.FWSerializable</span></tt></a></p>
<p>A QueueParams instance contains all the information needed to write a queue file     and submit to a queue system. Details of the queue file format and queue submission     commands should be included in the QueueAdapterBase object. Specific parameters used     by the QueueAdapterBase should be included in the params variable.</p>
<dl class="classmethod">
<dt id="fireworks.queue.queue_adapter.QueueParams.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>m_dict</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueParams.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: The QueueAdapter is loaded based on its fw_name alone
See the docs for to_dict() for more details</p>
</dd></dl>

<dl class="method">
<dt id="fireworks.queue.queue_adapter.QueueParams.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#fireworks.queue.queue_adapter.QueueParams.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: the QueueAdapter is being serialized using the FW name alone          This keeps the serialization compact and easy to edit by humans.          The from_dict() will dynamically find the correct QueueAdapter using its fw_name.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fireworks.queue.queue_launcher">
<span id="queue-launcher-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">queue_launcher</span></tt> Module<a class="headerlink" href="#module-fireworks.queue.queue_launcher" title="Permalink to this headline">¶</a></h2>
<p>This module is used to submit jobs to a queue on a cluster. It can submit a single job, or if used in &#8220;rapid-fire&#8221; mode, can submit multiple jobs within a directory structure. The details of job submission and queue communication are handled using QueueParams, which specifies a QueueAdapter as well as desired properties of the submit script.</p>
<dl class="function">
<dt id="fireworks.queue.queue_launcher.launch_rocket_to_queue">
<tt class="descclassname">fireworks.queue.queue_launcher.</tt><tt class="descname">launch_rocket_to_queue</tt><big>(</big><em>queue_params</em>, <em>launcher_dir='.'</em>, <em>strm_lvl=None</em>, <em>launchpad=None</em>, <em>fworker=None</em>, <em>reserve=False</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_launcher.launch_rocket_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a single job to the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_params</strong> &#8211; A QueueParams instance</li>
<li><strong>launcher_dir</strong> &#8211; The directory where to submit the job</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fireworks.queue.queue_launcher.rapidfire">
<tt class="descclassname">fireworks.queue.queue_launcher.</tt><tt class="descname">rapidfire</tt><big>(</big><em>queue_params</em>, <em>launch_dir='.'</em>, <em>njobs_queue=10</em>, <em>njobs_block=500</em>, <em>strm_lvl=None</em>, <em>infinite=False</em>, <em>sleep_time=60</em>, <em>launchpad=None</em>, <em>fworker=None</em>, <em>reserve=False</em><big>)</big><a class="headerlink" href="#fireworks.queue.queue_launcher.rapidfire" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit many jobs to the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_params</strong> &#8211; A QueueParams instance</li>
<li><strong>launch_dir</strong> &#8211; directory where we want to write the blocks</li>
<li><strong>njobs_queue</strong> &#8211; stops submitting jobs when njobs_queue jobs are in the queue</li>
<li><strong>njobs_block</strong> &#8211; automatically write a new block when njobs_block jobs are in a single block</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">queue Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">queue</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-fireworks.queue.queue_adapter"><tt class="docutils literal"><span class="pre">queue_adapter</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fireworks.queue.queue_launcher"><tt class="docutils literal"><span class="pre">queue_launcher</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/fireworks.queue.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">FireWorks 0.1dev1.61 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Anubhav Jain.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>