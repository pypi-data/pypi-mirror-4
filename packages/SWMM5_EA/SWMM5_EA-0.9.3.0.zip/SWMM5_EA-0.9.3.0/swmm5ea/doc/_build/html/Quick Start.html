

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quick Start &mdash; SWMM5-EA 0.9.3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="SWMM5-EA 0.9.3.0 documentation" href="index.html" />
    <link rel="next" title="Working Principles" href="Working Principles.html" />
    <link rel="prev" title="Introduction to SWMM5-EA" href="Introduction.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Working Principles.html" title="Working Principles"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Introduction.html" title="Introduction to SWMM5-EA"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">SWMM5-EA 0.9.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>This section provides a quick walk-through a simple example that will help you to start using SWMM5-EA.</p>
<div class="section" id="swmm5-network">
<h2>SWMM5 Network<a class="headerlink" href="#swmm5-network" title="Permalink to this headline">¶</a></h2>
<p>There is a simple SWMM5 network named <tt class="docutils literal"><span class="pre">simple.inp</span></tt>
that we use for this walk-through. It consists of three conduits
(see figure below) three junctions and a free outfall.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/simple_network.png"><img alt="The network" src="_images/simple_network.png" style="width: 331.0px; height: 273.0px;" /></a>
<p class="caption">SWMM5 network <tt class="docutils literal"><span class="pre">simple.inp</span></tt></p>
</div>
<p>The two upstream nodes have a (constant) inflow of <img class="math" src="_images/math/c12d8628b5b1f891d23f8876b5f4a06c13405426.png" alt="m^3/s"/>.</p>
</div>
<div class="section" id="optimization-problem">
<h2>Optimization problem<a class="headerlink" href="#optimization-problem" title="Permalink to this headline">¶</a></h2>
<p>The objective is to find the least cost design, that does not cause flooding in the network. The total cost of building with circular conduits used in the network are given by</p>
<div class="math">
<p><img src="_images/math/ac784a40056b28296e90f9b618f8960cc4976dc7.png" alt="c=1000*(D**0.8)"/></p>
</div><p>In drainage system design it is customary to have downstream conduits at least as large as any of the upstream nodes. So, in this example we have to maintain the following constraint:</p>
<div class="math">
<p><img src="_images/math/49d71855a3f22570a6bdfd2780fcbba330929ce1.png" alt="D_{C3}\geq \mbox{max}(D_{C1},D_{C2})"/></p>
</div><p>Where <img class="math" src="_images/math/f7f8cf00f08b8c788e9a3a6652b2df5ba817ea01.png" alt="D_{Cn}"/> is the diameter of conduit <img class="math" src="_images/math/a6b443712e2c338fe9e896c8af634fb1d9afd9a5.png" alt="Cn"/>.</p>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li>Create a new project (Project &gt; New Project)</li>
<li>Save the Project in some directory ( Project &gt; Save As, In the dialog select an empty direcotory)</li>
<li>Load the SWMM network file to this project (File &gt; Load SWMM file, Navigate to the simple sub-directory in examples directory (in windows this is typically <tt class="docutils literal"><span class="pre">&lt;program</span> <span class="pre">files&gt;\\SWMM5-EA\\examples\\simple</span></tt>) and select <tt class="docutils literal"><span class="pre">simple.inp</span></tt> file. SWMM5-EA will copy the file to your project directory and load it.)</li>
<li>Edit the project parameters ( Project &gt; Edit ) and make sure the values in the dialog as same as the ones shown in the figure below. Click OK.</li>
<li>Open the SWMM5 file and insert the place holders (File&gt; Insert Slots). The value of Geometry 1 (Diameter of conduit according to SWMM convention) is 1 m for each of the three conduits <img class="math" src="_images/math/642fe343dd12fcd45e209635bf15c9b1a45909af.png" alt="C1\mbox{,}C2\mbox{ and }C3"/>. Replace these values with <img class="math" src="_images/math/27c5f092229a8ad2cc22ac10c17f369ec5f3398e.png" alt="&#64;!v1!&#64;\mbox{,}&#64;!v2!&#64;\mbox{ and } &#64;!max(v1,v2)+v3!&#64;"/>. The first two are simple place holders allowing SWMM5-EA to change those values. But the third involves some trickery. By specifying <img class="math" src="_images/math/5ae3871257d660be4a9c5c630ecf75ec8aabd1ef.png" alt="&#64;!max(v1,v2)+v3!&#64;"/>, we ensure that the diameter of the conduit <tt class="docutils literal"><span class="pre">C3</span></tt> is always larger than the larger of those of two conduits <tt class="docutils literal"><span class="pre">C1</span></tt> and <tt class="docutils literal"><span class="pre">C2</span></tt>. See Figure below. Click OK.</li>
<li>Now Initialize the optimization (<tt class="docutils literal"><span class="pre">Optimization&gt;Initialize</span> <span class="pre">the</span> <span class="pre">optimization</span></tt>). Check the <tt class="docutils literal"><span class="pre">Output</span></tt> and <tt class="docutils literal"><span class="pre">Errors</span> <span class="pre">and</span> <span class="pre">Warnings</span></tt> panes for any signs of trouble. If no errors warnings..</li>
<li>Run the optimization (<tt class="docutils literal"><span class="pre">Optimization&gt;Run</span> <span class="pre">Optimization</span></tt>)</li>
<li>Now thee convergence plot will be drawn on the main plot window. See Figure Below.</li>
<li>SWMM5-EA saves the best performing solution from each generation in the <tt class="docutils literal"><span class="pre">output</span></tt> directory, as a SWMM5 file. These files can be opened from SWMM5 Desktop and run, to examine their performance.</li>
</ol>
</div></blockquote>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/simple_parameters.png"><img alt="The Project Parameters" src="_images/simple_parameters.png" style="width: 708.0px; height: 613.0px;" /></a>
<p class="caption">The Project Parameters</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/simple_place_holder2.png"><img alt="Place holders" src="_images/simple_place_holder2.png" style="width: 916.0px; height: 398.0px;" /></a>
<p class="caption">Place-holders</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/simple_converge2.png"><img alt="Running optimization" src="_images/simple_converge2.png" style="width: 949.0px; height: 740.0px;" /></a>
<p class="caption">Running Optimization</p>
</div>
</div>
<div class="section" id="understanding-the-results">
<h2>Understanding the Results<a class="headerlink" href="#understanding-the-results" title="Permalink to this headline">¶</a></h2>
<p>After completiung the simulation run, examine the sub-direcoty <cite>output</cite> under the prject directory. There are number of files like</p>
<div class="code text highlight-python"><div class="highlight"><pre><span class="n">Best_of_gen_000</span><span class="o">.</span><span class="n">inp</span>
<span class="n">Best_of_gen_001</span><span class="o">.</span><span class="n">inp</span>
<span class="n">Best_of_gen_002</span><span class="o">.</span><span class="n">inp</span>
<span class="n">Best_of_gen_003</span><span class="o">.</span><span class="n">inp</span>
<span class="n">Best_of_gen_004</span><span class="o">.</span><span class="n">inp</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="n">Best_of_gen_099</span><span class="o">.</span><span class="n">inp</span>
</pre></div>
</div>
<p>Each of these files are legitimate SWMM input files (can be opened and run using SWMM desktop) and represent the best solution from each generation.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/simple_res1.png"><img alt="Best result from the first generation." src="_images/simple_res1.png" style="width: 335.0px; height: 250.0px;" /></a>
<p class="caption">Best result from the first generation.</p>
</div>
<p>The following table shows the best result of some selected generations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="20%" />
<col width="17%" />
<col width="17%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Generation Number</th>
<th class="head"><img class="math" src="_images/math/88c7f79185a0b48d33454e85f44b4bfdf81d2420.png" alt="D_1"/> <cite>m</cite></th>
<th class="head"><img class="math" src="_images/math/4d01cc94a123a0c2b5239d4342be2e6ce7f3fc53.png" alt="D_2"/> <cite>m</cite></th>
<th class="head"><img class="math" src="_images/math/9dc1e74e6b3f0fac5b041f22732b163dbf57eaea.png" alt="D_3"/> <cite>m</cite></th>
<th class="head">Flooding</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>0.69</td>
<td>0.55</td>
<td>0.76</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>0.57</td>
<td>0.52</td>
<td>0.74</td>
<td>No</td>
</tr>
<tr class="row-even"><td>40</td>
<td>0.57</td>
<td>0.52</td>
<td>0.74</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>70</td>
<td>0.57</td>
<td>0.52</td>
<td>0.74</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>Since this is a rather simple optimization, the convergence is really fast. After 10th generation, the best solution changes little.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Quick Start</a><ul>
<li><a class="reference internal" href="#swmm5-network">SWMM5 Network</a></li>
<li><a class="reference internal" href="#optimization-problem">Optimization problem</a></li>
<li><a class="reference internal" href="#steps">Steps</a></li>
<li><a class="reference internal" href="#understanding-the-results">Understanding the Results</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Introduction.html"
                        title="previous chapter">Introduction to SWMM5-EA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Working Principles.html"
                        title="next chapter">Working Principles</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Quick Start.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Working Principles.html" title="Working Principles"
             >next</a> |</li>
        <li class="right" >
          <a href="Introduction.html" title="Introduction to SWMM5-EA"
             >previous</a> |</li>
        <li><a href="index.html">SWMM5-EA 0.9.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Assela Pathirana.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>