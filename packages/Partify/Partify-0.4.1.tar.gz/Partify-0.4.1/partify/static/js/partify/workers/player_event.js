// Generated by CoffeeScript 1.4.0
(function() {
  /*
Copyright 2011 Fred Hatfull

This file is part of Partify.

Partify is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Partify is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Partify.  If not, see <http://www.gnu.org/licenses/>.
*/;

  var _this = this;

  self.addEventListener('message', function(e) {
    var source;
    source = new EventSource('/player/status/idle');
    return source.addEventListener('player', function(e) {
      var data;
      data = JSON.parse(e.data);
      return self.postMessage(data);
    }, false);
  }, false);

}).call(this);
