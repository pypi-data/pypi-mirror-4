[tox]
envlist =
    py32, py26, py27, pypy, docs

[testenv]
deps =
    cython
    nose
commands =
    nosetests
    {envpython} setup.py build_ext --inplace
    nosetests
    {envpython} setup.py cleanup

[testenv:py26]
deps =
    nose
commands =
    nosetests
    {envpython} setup.py cleanup

[testenv:docs]
basepython=python
changedir=doc
deps=sphinx
commands=
    sphinx-build -W -b html -d {toxinidir}/docs/_build/doctrees {toxinidir}/docs {toxinidir}/docs/_build/html
    sphinx-build -b doctest -d {toxinidir}/docs/_build/doctrees {toxinidir}/docs {toxinidir}/docs/_build/html
