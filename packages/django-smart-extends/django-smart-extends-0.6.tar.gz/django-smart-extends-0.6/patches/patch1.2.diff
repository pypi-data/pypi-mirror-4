Index: template/__init__.py
===================================================================
--- template/__init__.py	(revisión: 13865)
+++ template/__init__.py	(copia de trabajo)
@@ -240,6 +240,7 @@
                 token = Token(TOKEN_COMMENT, '')
         else:
             token = Token(TOKEN_TEXT, token_string)
+        token.source = self.origin
         return token
 
 class Parser(object):
@@ -311,6 +312,7 @@
                 raise TemplateSyntaxError("%r must be the first tag in the template." % node)
         if isinstance(nodelist, NodeList) and not isinstance(node, TextNode):
             nodelist.contains_nontext = True
+        node.source = token.source
         nodelist.append(node)
 
     def enter_command(self, command, token):
Index: template/loader.py
===================================================================
--- template/loader.py	(revisión: 13865)
+++ template/loader.py	(copia de trabajo)
@@ -78,11 +78,19 @@
     def reload(self):
         return self.loader(self.loadname, self.dirs)[0]
 
+
+class LoaderOriginFake(object):
+
+    def __init__(self, display_name, loader, name, dirs):
+        self.name = display_name
+        self.loader, self.loadname, self.dirs = loader, name, dirs
+
+
 def make_origin(display_name, loader, name, dirs):
     if settings.TEMPLATE_DEBUG and display_name:
         return LoaderOrigin(display_name, loader, name, dirs)
     else:
-        return None
+        return LoaderOriginFake(display_name, loader, name, dirs)
 
 def find_template_loader(loader):
     if isinstance(loader, (tuple, list)):
