STSCI_PYTHON 2.11 Patch 1
--

This patch release provides a new version of CALCOS.  It replaces
the CALCOS in STSCI_PYTHON 2.11.

To install it,
	tar xf calcos-2.14.4.tar.gz
	cd calcos
	python setup.py install XXX
		where XXX is the same set of parameters you used
		when you installed STSCI_PYTHON

If you installed STSCI_PYTHON as a Macintosh package, you can
re-install the package from 
http://www.stsci.edu/resources/software_hardware/pyraf/stsci_python/current/download


This describes changes from calcos version 2.13.6 to 2.14.4.

Relevant Trac tickets and PRs:
Trac   PR
----  -----
 465  63864  Calcos should copy G140L wavecal info from A to B.
 616  66158  Calcos should be modified to use Sphinx for documentation.
 628  66626  Calcos should use images for pulse height limits.
 635  66908  Calcos should write a 3-D csum file for any FUV TIME-TAG file.
 639  67114  Change calcos procedure for adding WCSAXES keyword.
 640  67115  Calcos can leave a gap at the top of an NUV DQ image.
 645  67204  Add a TIMELINE extension to calcos corrtag files.
 657  67439  Modify the calcos command-line arguments for the csum file.
 661  67473  Calcos should not always re-do wavecorr for corrtag input.
 670  67553  Calcos uses malloc/free in C interface in some functions.
      67675  COS csum header information will only be correct if used
             with the --only_csum option

For FUV TIME-TAG data, the lower and upper thresholds for pulse height
may now be specified by images instead of a table, allowing different
limits at different points one the detector.  The new reference file has
keyword PHAFILE.  If PHAFILE is present in the primary header, and if
its value is not N/A, the specified file will be used instead of the
PHATAB table to do the PHACORR.  For ACCUM data the PHATAB must still
be used.

For G140L data, the wavecal shifts are normally copied from segment A to
segment B.  If there is no segment A data, however, calcos used to attempt
to find the wavecal shift.  There is no significant wavecal signal for
segment B, so the attempt always failed and sometimes gave a shift that
was quite far off.  Now if there is no segment A data, calcos will set
the wavecal shifts to zero for segment B.

Most of the doc strings have been modified to use Sphinx syntax.

A bug that prevented using a corrtag file as input to calcos has been fixed.

When the input to calcos is a tagflash corrtag file, the wavelength
calibration will only be re-done if keyword wavecorr is set to perform.
Previously, this step would be repeated if wavecorr was either perform or
complete, but this would be inappropriate if the corrtag file had been
split by time, e.g. by running splittag.

A new TIMELINE extension will be added to corrtag files, giving the altitude
of the Sun, the longitude and latitude of HST, and other information at
one-second intervals throughout the exposure.

For FUV input data with WAVECORR = COMPLETE (e.g. corrtag input), if
very verbose trailer info was specified (-v), a warning message was
printed regarding the lampflash tables.  This warning was not necessary
and could be misleading; it should no longer be printed for this case.

If a csum file is to be created, and if raw pixel coordinates should
be used instead of corrected coordinates (relevant only for FUV),
some of the calibration switch keywords were set to COMPLETE in the
csum header, which is misleading because it would not be true for the
csum file.  These keywords will now be set to OMIT if the option to
use raw coordinates (--raw) was specified.

