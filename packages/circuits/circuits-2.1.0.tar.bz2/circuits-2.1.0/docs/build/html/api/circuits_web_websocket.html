
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38618352-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>circuits.web.websocket – WebSocket Client &mdash; circuits 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="circuits 2.1.0 documentation" href="../index.html" />
    <link rel="up" title="circuits.web – Web Framework" href="circuits_web.html" />
    <link rel="next" title="circuits.web.wrappers – Request/Response Objects" href="circuits_web_wrappers.html" />
    <link rel="prev" title="circuits.web.utils – Utilities" href="circuits_web_utils.html" />
 
<script type="text/javascript" src="../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>

  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">circuits 2.1.0 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="circuits_web_utils.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.utils&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Utilities">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_web_wrappers.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.wrappers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Request/Response Objects">next</a> &raquo;</div>
    </div>
    
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="api-circuits_web_websocket">
            
  <div class="section" id="module-circuits.web.websocket">
<span id="circuits-web-websocket-websocket-client"></span><h1><a class="reference internal" href="#module-circuits.web.websocket" title="circuits.web.websocket"><tt class="xref py py-mod docutils literal"><span class="pre">circuits.web.websocket</span></tt></a> &#8211; WebSocket Client<a class="headerlink" href="#module-circuits.web.websocket" title="Permalink to this headline">¶</a></h1>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="circuits.web.websocket.WebSocketClient">
<em class="property">class </em><tt class="descclassname">circuits.web.websocket.</tt><tt class="descname">WebSocketClient</tt><big>(</big><em>url</em>, <em>channel='wsclient'</em>, <em>wschannel='ws'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#circuits.web.websocket.WebSocketClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="circuits_core_components.html#circuits.core.components.BaseComponent" title="circuits.core.components.BaseComponent"><tt class="xref py py-class docutils literal"><span class="pre">circuits.core.components.BaseComponent</span></tt></a></p>
<p>An RFC 6455 compliant WebSocket client component. Upon receiving a 
<tt class="xref py py-class docutils literal"><span class="pre">circuits.web.client.Connect</span></tt> event, the component tries to 
establish the connection to the server in a two stage process. First, a 
<a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.Connect" title="circuits.net.sockets.Connect"><tt class="xref py py-class docutils literal"><span class="pre">circuits.net.sockets.Connect</span></tt></a> event is sent to a child
<a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.TCPClient" title="circuits.net.sockets.TCPClient"><tt class="xref py py-class docutils literal"><span class="pre">TCPClient</span></tt></a>. When the TCP connection has been established,
the HTTP request for opening the WebSocket is sent to the server.
A failure in this setup process is signaled by a
<tt class="xref py py-class docutils literal"><span class="pre">NotConnected</span></tt> event.</p>
<p>When the server accepts the request, the WebSocket connection is
established and can be used very much like an ordinary socket
by handling <a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.Read" title="circuits.net.sockets.Read"><tt class="xref py py-class docutils literal"><span class="pre">Read</span></tt></a> events on and sending 
<a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.Write" title="circuits.net.sockets.Write"><tt class="xref py py-class docutils literal"><span class="pre">Write</span></tt></a> events to the channel
specified as the <tt class="docutils literal"><span class="pre">wschannel</span></tt> parameter of the constructor. Firing
a <a class="reference internal" href="circuits_net_sockets.html#circuits.net.sockets.Close" title="circuits.net.sockets.Close"><tt class="xref py py-class docutils literal"><span class="pre">Close</span></tt></a> event on that channel closes the
connection in an orderly fashion (i.e. as specified by the
WebSocket protocol).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; the URL to connect to.</li>
<li><strong>channel</strong> &#8211; the channel used by this component</li>
<li><strong>wschannel</strong> &#8211; the channel used for the actual WebSocket
communication (read, write, close events)</li>
<li><strong>headers</strong> &#8211; additional headers to be passed with the
WebSocket setup HTTP request</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="circuits.web.websocket.WebSocketClient.channel">
<tt class="descname">channel</tt><em class="property"> = 'wsclient'</em><a class="headerlink" href="#circuits.web.websocket.WebSocketClient.channel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="circuits.web.websocket.WebSocketClient.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#circuits.web.websocket.WebSocketClient.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="circuits.web.websocket.WebSocketClient.connected">
<tt class="descname">connected</tt><a class="headerlink" href="#circuits.web.websocket.WebSocketClient.connected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>         
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">circuits.web.websocket</span></tt> &#8211; WebSocket Client</a><ul>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#components">Components</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="circuits_web_utils.html"><tt class="docutils literal docutils literal docutils literal"><span class="pre">circuits.web.utils</span></tt> &#8211; Utilities</a></li>
    
    
      <li>Next: <a href="circuits_web_wrappers.html"><tt class="docutils literal"><span class="pre">circuits.web.wrappers</span></tt> &#8211; Request/Response Objects</a></li>
    
  </ul>
  <h3>You are here:</h3>
  <ul>
      <li>
        <a href="../index.html">circuits 2.1.0 documentation</a>
        
          <ul><li><a href="index.html">API Reference</a>
        
          <ul><li><a href="circuits_web.html"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">circuits.web</span></tt> &#8211; Web Framework</a>
        
        <ul><li><tt class="docutils literal docutils literal"><span class="pre">circuits.web.websocket</span></tt> &#8211; WebSocket Client</li></ul>
        </li></ul></li></ul>
      </li>
  </ul>  

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/circuits_web_websocket.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
          </div> 
        
      
    </div>
    
    <div id="ft">
      <div class="nav">
    &laquo; <a href="circuits_web_utils.html" title="&lt;tt class=&#34;docutils literal docutils literal docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.utils&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Utilities">previous</a> 
     |
    <a href="index.html" title="API Reference" accesskey="U">up</a>
   |
    <a href="circuits_web_wrappers.html" title="&lt;tt class=&#34;docutils literal&#34;&gt;&lt;span class=&#34;pre&#34;&gt;circuits.web.wrappers&lt;/span&gt;&lt;/tt&gt; &amp;#8211; Request/Response Objects">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>