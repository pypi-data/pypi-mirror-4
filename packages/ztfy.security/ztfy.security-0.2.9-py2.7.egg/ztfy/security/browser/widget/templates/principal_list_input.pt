<input type="text"
	tal:attributes="id view/id;
					name view/name;
					class view/klass;
					style view/style;
					title view/title;
					value view/value;
					lang view/lang;
					onclick view/onclick;
					ondblclick view/ondblclick;
					onmousedown view/onmousedown;
					onmouseup view/onmouseup;
					onmouseover view/onmouseover;
					onmousemove view/onmousemove;
					onmouseout view/onmouseout;
					onkeypress view/onkeypress;
					onkeydown view/onkeydown;
					onkeyup view/onkeyup;
					disabled view/disabled;
					tabindex view/tabindex;
					onfocus view/onfocus;
					onblur view/onblur;
					onchange view/onchange;
					readonly view/readonly;
					accesskey view/accesskey;
					onselect view/onselect;" />
<script type="text/javascript" tal:content="structure string:
	$$().ready(function() {
		$$.ZTFY.ajax.check($$.fn.multiselect, '/--static--/ztfy.jqueryui/js/jquery-multiselect.min.js', function() {
			$$('INPUT[id=${view/id}]').multiselect({
				min_query_length: 3,
				on_search: $$.ZTFY.security.findPrincipals,
				max_complete_results: 20,
				enable_new_options: false,
				complex_search: false,
				input_class: 'user',
				input_references: ${view/principals_map}
			});
		});
	});">
</script>